<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div id="atrium407" data-scheme="night" role="region" aria-label="Aurora Atelier">
  <style>
    /* Scope everything to #atrium407 */
    #atrium407 {
      --radius: 26px;
      --blur: 20px;
      --tempo: 22s;

      /* Night (default) */
      --bg1: #070b14;
      --bg2: #0b1222;
      --text: #eef5ff;
      --muted: #a7b7cc;

      --c1: #6ae4ff;
      --c2: #7b7bff;
      --c3: #ff8fd6;

      color: var(--text);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial, Noto Sans;
      -webkit-font-smoothing: antialiased;
      position: relative;
      isolation: isolate;
      min-height: clamp(560px, 72vh, 840px);
      border-radius: var(--radius);
      overflow: hidden;
      background:
        radial-gradient(1400px 900px at var(--mx, 50%) 18%, rgba(122, 203, 255, 0.08), transparent 45%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      box-shadow: 0 28px 90px -40px rgba(0,0,0,0.65), 0 2px 16px rgba(0,0,0,0.35);
    }

    /* Dawn scheme */
    #atrium407[data-scheme="dawn"] {
      --bg1: #fff7f4;
      --bg2: #ffecec;
      --text: #0f1726;
      --muted: #465a6f;
      --c1: #ffb48a;
      --c2: #ff8bd0;
      --c3: #7bd8ff;
      box-shadow: 0 28px 90px -40px rgba(7,22,50,0.22), 0 2px 16px rgba(7,22,50,0.14);
    }

    /* Noon scheme */
    #atrium407[data-scheme="noon"] {
      --bg1: #f4fbff;
      --bg2: #e8f2ff;
      --text: #0b1524;
      --muted: #3e556c;
      --c1: #49d5ff;
      --c2: #55ffa5;
      --c3: #7f72ff;
      box-shadow: 0 28px 90px -40px rgba(7,22,50,0.22), 0 2px 16px rgba(7,22,50,0.14);
    }

    /* Canvas layers */
    #atrium407 .canvas { position: absolute; inset: 0; z-index: 0; overflow: hidden; pointer-events: none; }
    #atrium407 .aurora {
      position: absolute; inset: -40% -10%;
      background:
        conic-gradient(from 180deg at 50% 50%,
          transparent,
          color-mix(in oklab, var(--c1) 60%, transparent) 20%,
          color-mix(in oklab, var(--c2) 60%, transparent) 45%,
          color-mix(in oklab, var(--c3) 60%, transparent) 70%,
          transparent 100%);
      filter: blur(60px) saturate(1.15);
      opacity: 0.65;
      animation: swirl var(--tempo) linear infinite;
      transform-origin: 50% 50%;
      mix-blend-mode: screen;
    }
    #atrium407 .aurora.a2 { animation-duration: calc(var(--tempo) * 1.6); opacity: 0.5; filter: blur(80px) saturate(1.1); }
    #atrium407 .aurora.a3 { animation-duration: calc(var(--tempo) * 0.8); opacity: 0.7; filter: blur(90px) saturate(1.2); }
    @keyframes swirl { to { transform: rotate(360deg); } }

    #atrium407 .grid {
      position: absolute; inset: 0; opacity: .35;
      background-image:
        linear-gradient(transparent 95%, rgba(255,255,255,0.06) 96%, transparent 97%),
        linear-gradient(90deg, transparent 95%, rgba(255,255,255,0.06) 96%, transparent 97%);
      background-size: 48px 48px, 48px 48px;
      mask: radial-gradient(1400px 900px at var(--mx,50%) var(--my,50%), #000 30%, transparent 80%);
      pointer-events: none;
      transition: opacity .3s ease;
    }
    #atrium407[data-grid="off"] .grid { opacity: 0; }

    #atrium407 .wrap {
      position: relative; z-index: 2;
      display: grid;
      grid-template-columns: 1.1fr 1fr;
      gap: clamp(16px, 3vw, 28px);
      align-items: center;
      padding: clamp(18px, 3.5vw, 32px);
      min-height: inherit;
    }
    @media (max-width: 900px) {
      #atrium407 .wrap { grid-template-columns: 1fr; padding-top: 32px; padding-bottom: 24px; }
    }

    /* Hero text */
    #atrium407 .lead {
      display: grid; gap: 14px; align-content: center;
      max-width: 680px;
      transform-style: preserve-3d;
    }
    #atrium407 h1 {
      margin: 0;
      font-weight: 900;
      letter-spacing: 0.2px;
      line-height: 1.05;
      font-size: clamp(32px, 6.2vw, 64px);
      background: linear-gradient(90deg, var(--text), var(--c1) 55%, var(--c2));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 10px 40px rgba(0,0,0,0.18));
    }
    #atrium407 .tag {
      margin: 0;
      font-size: clamp(14px, 2.2vw, 18px);
      color: var(--muted);
    }

    /* Prism stack visual */
    #atrium407 .prism {
      position: relative;
      width: min(80vmin, 520px);
      aspect-ratio: 1;
      margin-inline: auto;
      transform-style: preserve-3d;
      transition: transform .3s ease, filter .3s ease;
      will-change: transform;
    }
    #atrium407 .plate {
      position: absolute; inset: 0;
      border-radius: 28px;
      background:
        linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.02)),
        radial-gradient(80% 100% at var(--mx,50%) var(--my,50%), rgba(255,255,255,0.12), transparent 60%);
      outline: 1px solid rgba(255,255,255,0.14);
      backdrop-filter: blur(var(--blur)) saturate(1.15);
      -webkit-backdrop-filter: blur(var(--blur)) saturate(1.15);
      overflow: hidden;
      box-shadow:
        0 28px 80px -36px rgba(0,0,0,0.55),
        inset 0 0 0 1px rgba(255,255,255,0.08);
      animation: floaty calc(var(--tempo) * 0.8) ease-in-out infinite alternate;
    }
    #atrium407 .plate.p2 { inset: 4% 4%; border-radius: 24px; animation-duration: calc(var(--tempo) * 1.0); }
    #atrium407 .plate.p3 { inset: 8% 8%; border-radius: 20px; animation-duration: calc(var(--tempo) * 1.2); }
    #atrium407 .plate .sheen {
      position: absolute; inset: 0;
      background: linear-gradient(120deg, transparent, rgba(255,255,255,0.22) 35%, transparent 60%);
      mix-blend-mode: overlay;
      transform: translateX(-20%); opacity: .4;
      animation: sheen calc(var(--tempo) * 1.6) linear infinite;
    }
    @keyframes floaty {
      0% { transform: translateZ(0px) translateY(-6px) rotateX(0deg) rotateY(0deg); }
      100% { transform: translateZ(18px) translateY(6px) rotateX(0.6deg) rotateY(-0.6deg); }
    }
    @keyframes sheen { to { transform: translateX(20%); } }

    /* Orbs */
    #atrium407 .orb {
      position: absolute; width: 16px; height: 16px; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, var(--c1), var(--c2));
      filter: drop-shadow(0 0 16px color-mix(in lab, var(--c1) 60%, transparent));
      animation: orbit var(--tempo) linear infinite;
    }
    #atrium407 .orb.o1 { top: 6%; left: 20%; }
    #atrium407 .orb.o2 { bottom: 10%; right: 14%; animation-direction: reverse; }
    @keyframes orbit { to { transform: rotate(360deg) translateX(6px) rotate(-360deg); } }

    /* Controls */
    #atrium407 .controls {
      display: flex; flex-wrap: wrap; gap: 10px; align-items: center;
      margin-top: 10px;
    }
    #atrium407 .bar {
      display: flex; flex-wrap: wrap; gap: 10px; align-items: center;
      padding: 12px; border-radius: 18px;
      background: linear-gradient(180deg, rgba(255,255,255,0.10), transparent);
      outline: 1px solid rgba(255,255,255,0.18);
      backdrop-filter: blur(calc(var(--blur) * 0.6));
      -webkit-backdrop-filter: blur(calc(var(--blur) * 0.6));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06);
      width: fit-content;
    }

    #atrium407 .chips { display: inline-flex; gap: 8px; }
    #atrium407 .chips input { position: absolute; opacity: 0; pointer-events: none; }
    #atrium407 .chips label {
      user-select: none; cursor: pointer;
      font-size: 12px; font-weight: 900; letter-spacing: .35px; text-transform: uppercase;
      padding: 9px 12px; border-radius: 999px;
      color: var(--muted);
      background: linear-gradient(180deg, rgba(255,255,255,0.10), transparent);
      outline: 1px solid rgba(255,255,255,0.18);
      transition: color .2s ease, background .2s ease, box-shadow .2s ease;
    }
    #atrium407 .chips input:checked + label {
      color: #0b0f14;
      background: linear-gradient(90deg, var(--c1), var(--c3));
      box-shadow: 0 10px 26px -16px color-mix(in lab, var(--c1) 50%, transparent), 0 10px 26px -16px color-mix(in lab, var(--c3) 50%, transparent);
    }

    #atrium407 .speed {
      display: inline-flex; align-items: center; gap: 10px; margin-left: auto;
      color: var(--muted); font-size: 12px; font-weight: 800; text-transform: uppercase;
    }
    #atrium407 .speed input[type="range"] {
      -webkit-appearance: none; appearance: none;
      width: 180px; height: 28px; background: transparent; cursor: pointer;
    }
    #atrium407 .speed input::-webkit-slider-runnable-track {
      height: 6px; border-radius: 999px;
      background: linear-gradient(90deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));
      outline: 1px solid rgba(255,255,255,0.18);
    }
    #atrium407 .speed input::-webkit-slider-thumb {
      -webkit-appearance: none; appearance: none;
      width: 18px; height: 18px; border-radius: 50%;
      margin-top: -6px; border: 0;
      background: radial-gradient(circle at 30% 30%, var(--c1), var(--c2));
      box-shadow: 0 0 0 4px color-mix(in lab, var(--c1) 28%, transparent);
    }
    #atrium407 .speed input::-moz-range-track {
      height: 6px; border-radius: 999px;
      background: linear-gradient(90deg, rgba(255,255,255,0.10), rgba(255,255,255,0.06));
      outline: 1px solid rgba(255,255,255,0.18);
    }
    #atrium407 .speed input::-moz-range-thumb {
      width: 18px; height: 18px; border: none; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, var(--c1), var(--c2));
      box-shadow: 0 0 0 4px color-mix(in lab, var(--c1) 28%, transparent);
    }

    /* Buttons */
    #atrium407 .actions { display: flex; gap: 10px; flex-wrap: wrap; }
    #atrium407 .btn {
      appearance: none; border: 0; cursor: pointer; outline: 0;
      border-radius: 14px; padding: 12px 16px;
      font-weight: 900; letter-spacing: .2px; font-size: 14px;
      transition: transform .18s ease, filter .2s ease, box-shadow .22s ease;
    }
    #atrium407 .btn:active { transform: translateY(1px); }
    #atrium407 .btn.primary {
      color: #0a0e12;
      background: linear-gradient(90deg, var(--c1), var(--c3));
      box-shadow: 0 14px 34px -18px color-mix(in lab, var(--c1) 65%, transparent), 0 14px 34px -18px color-mix(in lab, var(--c3) 65%, transparent);
    }
    #atrium407 .btn.ghost {
      color: var(--text);
      background: linear-gradient(180deg, rgba(255,255,255,0.10), transparent);
      outline: 1px solid rgba(255,255,255,0.18);
      backdrop-filter: blur(calc(var(--blur) * 0.6));
      -webkit-backdrop-filter: blur(calc(var(--blur) * 0.6));
    }
    #atrium407 .btn.icon { width: 42px; height: 42px; display: grid; place-items: center; padding: 0; }

    /* Status row */
    #atrium407 .status {
      display: flex; align-items: center; gap: 10px; margin-top: 14px;
      color: var(--muted); font-size: 12px;
      width: 100%;
    }
    #atrium407 .status .led {
      width: 8px; height: 8px; border-radius: 50%;
      background: linear-gradient(90deg, var(--c1), var(--c2));
      box-shadow: 0 0 10px 4px color-mix(in lab, var(--c1) 45%, transparent);
    }

    /* Particles */
    #atrium407 .burst { position: absolute; inset: 0; z-index: 4; pointer-events: none; }
    #atrium407 .spark {
      position: absolute; width: 10px; height: 10px; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, var(--c1), var(--c3));
      filter: drop-shadow(0 0 10px color-mix(in lab, var(--c1) 45%, transparent));
      opacity: 0; transform: translate(-50%, -50%) scale(.6);
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      #atrium407 .aurora, #atrium407 .plate, #atrium407 .plate .sheen, #atrium407 .orb { animation: none !important; }
    }
  </style>

  <div class="canvas" aria-hidden="true">
    <div class="aurora a1"></div>
    <div class="aurora a2"></div>
    <div class="aurora a3"></div>
    <div class="grid"></div>
  </div>

  <div class="wrap">
    <div class="lead" id="lead">
      <h1>Prism Composer</h1>
      <p class="tag">Design your moment. Quiet motion, bright ideas, and a touch of aurora.</p>

      <div class="controls">
        <div class="bar">
          <div class="chips" role="group" aria-label="Color scheme">
            <input type="radio" name="scheme" id="scheme-dawn" value="dawn">
            <label for="scheme-dawn">Dawn</label>

            <input type="radio" name="scheme" id="scheme-noon" value="noon">
            <label for="scheme-noon">Noon</label>

            <input type="radio" name="scheme" id="scheme-night" value="night" checked>
            <label for="scheme-night">Night</label>
          </div>

          <div class="speed">
            <label for="tempo">Tempo</label>
            <input id="tempo" type="range" min="8" max="40" value="22" aria-label="Animation speed">
          </div>
        </div>

        <div class="actions">
          <button class="btn primary" id="bloom">Bloom</button>
          <button class="btn ghost" id="grid-toggle" aria-pressed="true">Toggle Grid</button>
        </div>
      </div>

      <div class="status" aria-live="polite">
        <span class="led" aria-hidden="true"></span>
        Updated <span id="last-updated">Last updated: 2025-11-04 00:17:47 EST</span>
      </div>
    </div>

    <div class="prism" id="prism">
      <div class="plate p1">
        <span class="sheen"></span>
        <span class="orb o1" aria-hidden="true"></span>
      </div>
      <div class="plate p2">
        <span class="sheen"></span>
      </div>
      <div class="plate p3">
        <span class="sheen"></span>
        <span class="orb o2" aria-hidden="true"></span>
      </div>
      <div class="burst" aria-hidden="true" id="burst"></div>
    </div>
  </div>

  <script>
    (function () {
      const root = document.getElementById('atrium407');
      const prism = document.getElementById('prism');
      const burst = document.getElementById('burst');
      const schemeRadios = root.querySelectorAll('input[name="scheme"]');
      const tempo = document.getElementById('tempo');
      const bloom = document.getElementById('bloom');
      const gridToggle = document.getElementById('grid-toggle');
      const updated = document.getElementById('last-updated');

      // Last updated
      try {
        const d = new Date();
        const fmt = new Intl.DateTimeFormat(undefined, { dateStyle: 'medium', timeStyle: 'short' });
        updated.textContent = fmt.format(d);
      } catch (e) { updated.textContent = (new Date()).toLocaleString(); }

      // Scheme switching
      schemeRadios.forEach(r => r.addEventListener('change', (e) => {
        if (e.target.checked) root.setAttribute('data-scheme', e.target.value);
      }));

      // Tempo control
      const applyTempo = () => root.style.setProperty('--tempo', tempo.value + 's');
      tempo.addEventListener('input', applyTempo);
      applyTempo();

      // Grid toggle
      root.setAttribute('data-grid', 'on');
      gridToggle.addEventListener('click', () => {
        const on = root.getAttribute('data-grid') !== 'off';
        root.setAttribute('data-grid', on ? 'off' : 'on');
        gridToggle.setAttribute('aria-pressed', String(!on));
      });

      // Pointer parallax + highlight
      const setPos = (x, y) => {
        const rect = root.getBoundingClientRect();
        const mx = ((x - rect.left) / rect.width) * 100;
        const my = ((y - rect.top) / rect.height) * 100;
        root.style.setProperty('--mx', mx + '%');
        root.style.setProperty('--my', my + '%');

        // Subtle tilt for the prism
        const cx = (mx - 50) / 50;
        const cy = (my - 50) / 50;
        const rx = Math.max(Math.min(cy, 1), -1) * 6;
        const ry = Math.max(Math.min(-cx, 1), -1) * 6;
        prism.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg)`;
      };
      const resetTilt = () => { prism.style.transform = 'rotateX(0deg) rotateY(0deg)'; };

      root.addEventListener('mousemove', (e) => setPos(e.clientX, e.clientY), { passive: true });
      root.addEventListener('mouseleave', resetTilt, { passive: true });
      root.addEventListener('touchmove', (e) => {
        const t = e.touches && e.touches[0];
        if (t) setPos(t.clientX, t.clientY);
      }, { passive: true });

      // Bloom particles
      function bloomAt(x, y) {
        const rect = prism.getBoundingClientRect();
        const cx = x ?? rect.left + rect.width / 2;
        const cy = y ?? rect.top + rect.height / 2;

        const count = 22;
        for (let i = 0; i < count; i++) {
          const s = document.createElement('span');
          s.className = 'spark';
          burst.appendChild(s);

          const angle = (Math.PI * 2) * (i / count) + Math.random() * 0.6;
          const dist = (Math.min(rect.width, rect.height) / 3) * (0.4 + Math.random() * 0.8);
          const tx = Math.cos(angle) * dist;
          const ty = Math.sin(angle) * dist;
          const dur = 600 + Math.random() * 800;

          s.style.left = (cx - rect.left) + 'px';
          s.style.top = (cy - rect.top) + 'px';
          s.animate([
            { opacity: 0, transform: 'translate(-50%, -50%) scale(0.6)' },
            { opacity: 1, offset: 0.2 },
            { opacity: 0, transform: `translate(calc(-50% + ${tx}px), calc(-50% + ${ty}px)) scale(${1.2 + Math.random() * 0.6})` }
          ], { duration: dur, easing: 'cubic-bezier(.16,.84,.44,1)' }).addEventListener('finish', () => s.remove());
        }
      }

      bloom.addEventListener('click', (e) => {
        const rect = prism.getBoundingClientRect();
        const x = rect.left + rect.width / 2;
        const y = rect.top + rect.height / 2;
        bloomAt(x, y);

        // subtle global bloom shimmer
        prism.animate([
          { filter: 'brightness(1) saturate(1)' },
          { filter: 'brightness(1.18) saturate(1.16)' },
          { filter: 'brightness(1) saturate(1)' }
        ], { duration: 900, easing: 'ease' });
      });

      prism.addEventListener('click', (e) => {
        bloomAt(e.clientX, e.clientY);
      });

      // Initialize pointer vars roughly center
      setPos(window.innerWidth / 2, window.innerHeight / 3);
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


