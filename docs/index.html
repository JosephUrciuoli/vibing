<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="noir-442" data-theme="dawn" style="--mx:50%; --my:50%; --rx:0deg; --ry:0deg;">
  <style>
    .noir-442{
      --ink:#0e1320;
      --muted:rgba(14,19,32,.64);
      --bg0:#f8fbff;
      --bg1:#fff7f2;
      --edge:rgba(0,0,0,.12);
      --glass:rgba(255,255,255,.6);
      --c1:hsl(210 90% 60%);
      --c2:hsl(150 70% 58%);
      --c3:hsl(330 80% 62%);
      position:relative;
      display:grid;
      grid-template-rows: auto 1fr;
      gap: clamp(14px, 2.2vw, 24px);
      padding: clamp(18px, 3vw, 40px);
      border-radius: 30px;
      border:1px solid var(--edge);
      background:
        radial-gradient(1200px 800px at var(--mx) var(--my), rgba(0,0,0,.06), transparent 56%),
        linear-gradient(160deg, var(--bg0), var(--bg1));
      box-shadow:
        0 40px 120px rgba(0,0,0,.18),
        inset 0 1px 0 rgba(255,255,255,.9);
      color:var(--ink);
      min-height: clamp(580px, 74vh, 980px);
      font-family: ui-sans-serif, -apple-system, Inter, Segoe UI, Roboto, "Helvetica Neue", Arial;
      overflow:hidden;
      isolation:isolate;
      perspective: 1200px;
    }
    .noir-442::before{
      content:"";
      position:absolute; inset:-35%;
      background: conic-gradient(from 0deg at 68% 32%, rgba(110,168,255,.22), rgba(126,232,198,.22), rgba(255,120,185,.2), transparent 70%);
      filter: blur(70px) saturate(1.05);
      mix-blend-mode: screen; opacity:.55; pointer-events:none;
      animation: spin-442 52s linear infinite;
    }
    .noir-442::after{
      content:"";
      position:absolute; inset:0;
      background:
        radial-gradient(900px 700px at var(--mx) var(--my), rgba(255,255,255,.5), transparent 60%),
        linear-gradient(transparent 65%, rgba(0,0,0,.06));
      mask: radial-gradient(140% 120% at 50% 40%, #000, transparent);
      pointer-events:none;
      mix-blend-mode:soft-light;
    }
    @keyframes spin-442 { to { transform: rotate(1turn); } }

    /* Dusk theme */
    .noir-442[data-theme="dusk"]{
      --ink:#eaf2ff;
      --muted:rgba(234,242,255,.72);
      --bg0:#070b14; --bg1:#121c2c;
      --edge:rgba(255,255,255,.16);
      --glass:rgba(255,255,255,.08);
      box-shadow: 0 60px 160px rgba(0,0,0,.6), inset 0 1px 0 rgba(255,255,255,.06);
      background:
        radial-gradient(1200px 800px at var(--mx) var(--my), rgba(255,255,255,.08), transparent 56%),
        linear-gradient(160deg, var(--bg0), var(--bg1));
    }

    .head-442{ display:grid; justify-items:center; text-align:center; gap: 10px; z-index:2; }
    .crest-442{
      display:inline-flex; gap:10px; align-items:center;
      padding:8px 14px; border-radius:999px;
      border:1px solid var(--edge); background:var(--glass);
      color:var(--muted); font-weight:850; font-size:11px; letter-spacing:.28em; text-transform:uppercase;
      backdrop-filter: blur(8px);
    }
    .title-442{
      margin:2px 0 0;
      font-weight:1000; letter-spacing:-.035em; line-height:.86;
      font-size: clamp(50px, 9.5vw, 116px);
      background: linear-gradient(90deg, var(--c1), var(--c2), var(--c3));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow: 0 6px 40px rgba(255,255,255,.08);
      transform: rotateX(var(--rx)) rotateY(var(--ry));
      transform-style: preserve-3d;
      transition: transform .18s ease;
    }
    .subtitle-442{
      margin:0; max-width: 74ch; color:var(--muted);
      font-size: clamp(14px, 2vw, 18px);
    }

    .controls-442{
      display:flex; flex-wrap:wrap; justify-content:center; gap:10px;
    }
    .btn-442, .chip-442{
      appearance:none; cursor:pointer; user-select:none;
      border-radius:16px; padding:12px 16px;
      font-weight:850; letter-spacing:.25px;
      border:1px solid rgba(0,0,0,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.76));
      color:#0b1320;
      box-shadow: 0 14px 28px rgba(0,0,0,.18), inset 0 1px 0 rgba(255,255,255,.8);
      transition: transform .18s ease, box-shadow .18s ease, filter .18s ease, background .18s ease, color .18s ease;
    }
    .btn-442:hover, .chip-442:hover{ transform: translateY(-1px); box-shadow: 0 20px 44px rgba(0,0,0,.22), inset 0 1px 0 rgba(255,255,255,.85); }
    .btn-442:active, .chip-442:active{ transform: translateY(0); }
    .ghost-442{ background: var(--glass); color: var(--ink); border-color: var(--edge); box-shadow: inset 0 1px 0 rgba(255,255,255,.12); backdrop-filter: blur(8px); }
    .outline-442{ background: transparent; color: var(--ink); border-color: var(--edge); box-shadow:none; }
    .noir-442[data-theme="dusk"] .btn-442, .noir-442[data-theme="dusk"] .chip-442{ color:#0b1320; }
    .noir-442[data-theme="dusk"] .ghost-442{ background: rgba(255,255,255,.06); color: var(--ink); }

    .slider-442{
      display:flex; align-items:center; gap:10px;
      padding:10px 14px; border-radius:14px; border:1px solid var(--edge);
      background:var(--glass); backdrop-filter: blur(8px);
      color:var(--ink); font-weight:800;
    }
    .slider-442 input[type="range"]{
      -webkit-appearance:none; appearance:none; width:160px; height:8px; border-radius:999px; background: rgba(0,0,0,.1); outline:none;
    }
    .slider-442 input[type="range"]::-webkit-slider-thumb{
      -webkit-appearance:none; appearance:none; width:18px; height:18px; border-radius:50%;
      background: linear-gradient(180deg, var(--c2), var(--c3)); border:1px solid rgba(0,0,0,.22); box-shadow: 0 4px 10px rgba(0,0,0,.24); cursor:pointer;
    }
    .noir-442[data-theme="dusk"] .slider-442{ background: rgba(255,255,255,.06); }

    .meta-442{
      display:flex; flex-wrap:wrap; gap:12px; align-items:center; justify-content:center;
      margin-top:2px; color:var(--muted); font-size:12px;
    }
    .live-442{ display:inline-flex; align-items:center; gap:8px; }
    .dot-442{
      width:8px; height:8px; border-radius:50%; background: var(--c3);
      box-shadow: 0 0 0 0 color-mix(in oklab, var(--c3), transparent 40%);
      animation: pulse-442 2s ease-out infinite;
    }
    @keyframes pulse-442 {
      0%{ box-shadow: 0 0 0 0 color-mix(in oklab, var(--c3), transparent 40%);}
      70%{ box-shadow: 0 0 0 10px color-mix(in oklab, var(--c3), transparent 100%);}
      100%{ box-shadow: 0 0 0 0 color-mix(in oklab, var(--c3), transparent 100%);}
    }

    .stage-442{
      position:relative; z-index:1;
      border-radius:22px; overflow:hidden;
      border:1px solid var(--edge);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.4), 0 32px 100px rgba(0,0,0,.25);
      min-height: 460px;
      display:grid; place-items:center;
      transform: rotateX(var(--rx)) rotateY(var(--ry));
      transform-style: preserve-3d;
      transition: transform .18s ease, box-shadow .25s ease;
      background: radial-gradient(80% 100% at 50% 40%, color-mix(in oklab, var(--c1) 10%, transparent), transparent 60%);
    }
    .grain-442{
      position:absolute; inset:0; pointer-events:none; mix-blend-mode: soft-light;
      background:
        radial-gradient(60px 60px at 20% 30%, rgba(255,255,255,.08), transparent 40%),
        radial-gradient(80px 80px at 80% 70%, rgba(0,0,0,.06), transparent 50%),
        repeating-linear-gradient(45deg, rgba(0,0,0,.04) 0 2px, transparent 2px 10px);
    }
    .hint-442{
      position:absolute; right:12px; bottom:12px;
      padding:8px 10px; border-radius:12px; border:1px solid var(--edge);
      background: var(--glass); color: var(--ink); font-size:12px; backdrop-filter: blur(6px);
      pointer-events:none;
    }
    .badges-442{
      position:absolute; left:12px; bottom:12px; display:flex; gap:8px; pointer-events:none;
    }
    .badge-442{
      padding:6px 10px; border-radius:10px; border:1px solid var(--edge);
      background: var(--glass); backdrop-filter: blur(6px);
      font-size:11px; font-weight:700; color:var(--ink);
    }
    .noir-442[data-theme="dusk"] .hint-442,
    .noir-442[data-theme="dusk"] .badge-442{ background: rgba(255,255,255,.06); }

    svg#svg-442{ width:100%; height:100%; display:block; }
    .rings-442 circle{
      fill:none;
      stroke-linecap:round;
      filter:url(#glow-442);
    }
    .blob-442{ filter:url(#soft-442); }

    @media (max-width: 900px){
      .title-442{ font-size: clamp(44px, 10.5vw, 78px); }
      .stage-442{ min-height: 430px; }
      .slider-442 input[type="range"]{ width:130px; }
    }
    @media (prefers-reduced-motion: reduce){
      .noir-442::before{ animation:none !important; }
    }
  </style>

  <div class="head-442" aria-live="polite">
    <div class="crest-442">Edition 442 • Kinetic Quiet</div>
    <h1 class="title-442" id="t-442">Stillness, in Motion</h1>
    <p class="subtitle-442">A meditative dial. Drift the rings, breathe the color, let time draw soft circles.</p>

    <div class="controls-442" role="group" aria-label="Controls">
      <button class="btn-442" id="theme-442" aria-pressed="false" title="Toggle dawn/dusk">Dusk</button>
      <div class="slider-442" title="Tempo">
        <span>Tempo</span>
        <input type="range" id="tempo-442" min="0.2" max="2.0" step="0.1" value="1.1" />
      </div>
      <button class="chip-442 ghost-442" id="shuffle-442" title="Shuffle palette">Shuffle</button>
      <button class="chip-442 outline-442" id="save-442" title="Save poster">Save PNG</button>
    </div>

    <div class="meta-442">
      <span class="live-442"><span class="dot-442" aria-hidden="true"></span>Live</span>
      <span id="clock-442"></span>
      <span id="last-updated">Last updated: 2025-11-05 13:26:09 EST</span>
    </div>
  </div>

  <div class="stage-442" id="stage-442" aria-label="Kinetic dial">
    <svg id="svg-442" viewBox="0 0 800 600" role="img" aria-labelledby="svgTitle-442 svgDesc-442">
      <title id="svgTitle-442">Kinetic dial with rotating rings and a breathing center</title>
      <desc id="svgDesc-442">Concentric dashed rings revolve at different speeds around a softly morphing shape; small orbiters trace silent paths.</desc>
      <defs>
        <linearGradient id="ring-442" x1="0" y1="0" x2="1" y2="1">
          <stop offset="0%" style="stop-color: var(--c1)"/>
          <stop offset="100%" style="stop-color: var(--c2)"/>
        </linearGradient>
        <linearGradient id="ring2-442" x1="1" y1="0" x2="0" y2="1">
          <stop offset="0%" style="stop-color: var(--c2)"/>
          <stop offset="100%" style="stop-color: var(--c3)"/>
        </linearGradient>
        <radialGradient id="blob-442" cx="50%" cy="50%" r="50%">
          <stop offset="0%" style="stop-color: var(--c1); stop-opacity:.9"/>
          <stop offset="60%" style="stop-color: var(--c2); stop-opacity:.6"/>
          <stop offset="100%" style="stop-color: var(--c3); stop-opacity:0"/>
        </radialGradient>
        <filter id="glow-442" x="-40%" y="-40%" width="180%" height="180%">
          <feGaussianBlur stdDeviation="1.2" result="b"/>
          <feMerge>
            <feMergeNode in="b"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
        <filter id="soft-442" x="-40%" y="-40%" width="180%" height="180%">
          <feGaussianBlur stdDeviation="18" />
        </filter>
      </defs>

      <!-- Breathing center -->
      <path id="breath-442" class="blob-442" fill="url(#blob-442)" d="M 400 300" />

      <!-- Concentric rings -->
      <g class="rings-442" id="rings-442">
        <circle id="r1-442" cx="400" cy="300" r="180" stroke="url(#ring-442)" stroke-width="10" stroke-dasharray="2 20"/>
        <circle id="r2-442" cx="400" cy="300" r="230" stroke="url(#ring2-442)" stroke-width="8" stroke-dasharray="1 16"/>
        <circle id="r3-442" cx="400" cy="300" r="280" stroke="url(#ring-442)" stroke-width="6" stroke-dasharray="3 22"/>
      </g>

      <!-- Orbiters -->
      <g id="orbits-442">
        <circle id="o1-442" r="5" fill="var(--c1)" />
        <circle id="o2-442" r="6" fill="var(--c2)" />
        <circle id="o3-442" r="4" fill="var(--c3)" />
      </g>
    </svg>

    <div class="grain-442"></div>
    <div class="badges-442">
      <div class="badge-442">No library</div>
      <div class="badge-442">SVG kinetic</div>
    </div>
    <div class="hint-442" aria-hidden="true">Move = tilt • Space = pause • T/R/S = shortcuts</div>
  </div>

  <script>
    (function(){
      const root = document.currentScript.closest('.noir-442');
      const stage = root.querySelector('#stage-442');
      const svg = root.querySelector('#svg-442');
      const breath = root.querySelector('#breath-442');
      const r1 = root.querySelector('#r1-442');
      const r2 = root.querySelector('#r2-442');
      const r3 = root.querySelector('#r3-442');
      const o1 = root.querySelector('#o1-442');
      const o2 = root.querySelector('#o2-442');
      const o3 = root.querySelector('#o3-442');

      const btnTheme = root.querySelector('#theme-442');
      const btnSave = root.querySelector('#save-442');
      const btnShuffle = root.querySelector('#shuffle-442');
      const tempo = root.querySelector('#tempo-442');
      const clock = root.querySelector('#clock-442');
      const updated = root.querySelector('#last-updated');
      const title = root.querySelector('#t-442');

      // Timestamp
      try{
        const now = new Date();
        updated.textContent = 'Updated ' + now.toLocaleString([], { weekday:'short', month:'short', day:'2-digit', hour:'2-digit', minute:'2-digit' });
      }catch(e){}

      // Live clock
      function tickClock(){
        try{
          const d = new Date();
          clock.textContent = d.toLocaleTimeString([], { hour:'2-digit', minute:'2-digit', second:'2-digit' }) + ' • ' + d.toLocaleDateString([], { month:'short', day:'2-digit' });
        }catch(e){}
      }
      tickClock(); const clk = setInterval(tickClock, 1000);

      // Palette
      function setHue(h){
        const c1 = `hsl(${(h)%360} 88% 60%)`;
        const c2 = `hsl(${(h+70)%360} 72% 58%)`;
        const c3 = `hsl(${(h+320)%360} 78% 62%)`;
        root.style.setProperty('--c1', c1);
        root.style.setProperty('--c2', c2);
        root.style.setProperty('--c3', c3);
      }
      function shuffle(){
        setHue(Math.floor(Math.random()*360));
      }

      // Motion state
      const state = {
        t: 0,
        running: true,
        speed: parseFloat(tempo.value),
        pointer: {x: 400, y: 300, active:false},
        reduced: window.matchMedia('(prefers-reduced-motion: reduce)').matches
      };
      if(state.reduced){ state.speed = 0.6; tempo.value = '0.6'; }

      // Size helpers
      let W = 800, H = 600;
      function fit(){
        const r = stage.getBoundingClientRect();
        W = Math.max(200, r.width);
        H = Math.max(200, r.height);
        // keep the same viewBox for consistent geometry
      }
      fit();
      let rTO;
      window.addEventListener('resize', ()=>{ clearTimeout(rTO); rTO = setTimeout(fit, 80); });

      // Pointer tilt + hotspot
      root.addEventListener('pointermove', (e)=>{
        const r = root.getBoundingClientRect();
        const x = e.clientX - r.left;
        const y = e.clientY - r.top;
        state.pointer.x = x / r.width * 800;
        state.pointer.y = y / r.height * 600;
        state.pointer.active = true;

        const xp = (x / r.width)*100, yp = (y / r.height)*100;
        root.style.setProperty('--mx', xp + '%');
        root.style.setProperty('--my', yp + '%');

        // subtle tilt
        const dx = (x / r.width - .5);
        const dy = (y / r.height - .5);
        root.style.setProperty('--ry', (dx * 6).toFixed(2) + 'deg');
        root.style.setProperty('--rx', (-dy * 4).toFixed(2) + 'deg');
      }, {passive:true});
      root.addEventListener('pointerleave', ()=>{
        state.pointer.active = false;
        root.style.setProperty('--ry', '0deg');
        root.style.setProperty('--rx', '0deg');
      });

      // Breathing blob path generator
      function blobPath(t){
        const cx = 400, cy = 300;
        const base = 135;
        const n = 16;
        const pts = [];
        const tempo = state.speed;
        const px = state.pointer.x, py = state.pointer.y;
        const dist = Math.hypot((px||cx)-cx, (py||cy)-cy) / 400 || 0;
        for(let i=0;i<n;i++){
          const a = (i/n) * Math.PI*2;
          const rip = 0.14*Math.sin(a*3 + t*0.02*tempo) + 0.08*Math.cos(a*2 - t*0.018*tempo);
          const pull = state.pointer.active ? 0.12*dist*Math.cos(a - Math.atan2((py-cy),(px-cx))) : 0;
          const r = base * (1 + rip + pull);
          pts.push({ x: cx + Math.cos(a)*r, y: cy + Math.sin(a)*r });
        }
        // Midpoint smoothing
        const mid = i => {
          const a = pts[i % n], b = pts[(i+1) % n];
          return { x: (a.x+b.x)/2, y: (a.y+b.y)/2 };
        };
        let d = '';
        let m0 = mid(0);
        d += `M ${m0.x.toFixed(2)} ${m0.y.toFixed(2)} `;
        for(let i=0;i<n;i++){
          const p = pts[(i+1)%n];
          const m = mid(i+1);
          d += `Q ${p.x.toFixed(2)} ${p.y.toFixed(2)} ${m.x.toFixed(2)} ${m.y.toFixed(2)} `;
        }
        d += 'Z';
        return d;
      }

      // Animate
      let raf;
      function frame(){
        state.t += 1;
        const t = state.t;

        // dash offsets for rings
        const s = state.speed;
        r1.style.strokeDashoffset = (t * 0.6 * s) % 1000;
        r2.style.strokeDashoffset = (-t * 0.9 * s) % 1000;
        r3.style.strokeDashoffset = (t * 1.4 * s) % 1000;

        // orbiters (elliptical paths)
        const a1 = t * 0.010 * s, a2 = t * -0.014 * s, a3 = t * 0.018 * s;
        const setOrb = (el, a, rx, ry) => {
          const cx = 400 + Math.cos(a)*rx;
          const cy = 300 + Math.sin(a)*ry;
          el.setAttribute('cx', cx.toFixed(2));
          el.setAttribute('cy', cy.toFixed(2));
        };
        setOrb(o1, a1, 230, 120);
        setOrb(o2, a2, 180, 180);
        setOrb(o3, a3, 280, 80);

        // breathing blob
        if(!state.reduced){
          breath.setAttribute('d', blobPath(t));
        }

        if(state.running) raf = requestAnimationFrame(frame);
      }

      // Controls
      btnTheme.addEventListener('click', ()=>{
        const dusk = root.getAttribute('data-theme') === 'dusk';
        if(dusk){
          root.setAttribute('data-theme', 'dawn');
          btnTheme.textContent = 'Dusk';
          btnTheme.setAttribute('aria-pressed', 'false');
        }else{
          root.setAttribute('data-theme', 'dusk');
          btnTheme.textContent = 'Dawn';
          btnTheme.setAttribute('aria-pressed', 'true');
        }
      });

      tempo.addEventListener('input', ()=>{ state.speed = parseFloat(tempo.value); });

      btnShuffle.addEventListener('click', shuffle);

      btnSave.addEventListener('click', ()=>{
        try{
          const clone = svg.cloneNode(true);
          const serializer = new XMLSerializer();
          const src = serializer.serializeToString(clone);
          const svg64 = 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(src);
          const img = new Image();
          const scale = 2;
          img.onload = function(){
            const canvas = document.createElement('canvas');
            canvas.width = 800 * scale;
            canvas.height = 600 * scale;
            const ctx = canvas.getContext('2d');
            ctx.fillStyle = getComputedStyle(root).getPropertyValue('--bg0').trim() || '#ffffff';
            ctx.fillRect(0,0,canvas.width, canvas.height);
            ctx.drawImage(img, 0, 0, canvas.width, canvas.height);
            const url = canvas.toDataURL('image/png');
            const a = document.createElement('a');
            a.href = url; a.download = 'stillness-in-motion.png';
            document.body.appendChild(a); a.click(); a.remove();
          };
          img.src = svg64;
        }catch(e){}
      });

      // Keyboard
      window.addEventListener('keydown', (e)=>{
        const k = e.key.toLowerCase();
        if(e.code === 'Space'){ e.preventDefault(); state.running = !state.running; if(state.running){ cancelAnimationFrame(raf); frame(); } else cancelAnimationFrame(raf); }
        else if(k === 't'){ btnTheme.click(); }
        else if(k === 'r'){ btnShuffle.click(); }
        else if(k === 's'){ btnSave.click(); }
      });

      // Start
      shuffle();
      frame();
      document.addEventListener('visibilitychange', ()=>{ if(document.hidden) cancelAnimationFrame(raf); else if(state.running) frame(); });
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


