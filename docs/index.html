<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div id="atelier2107" data-scheme="dark" data-animated="true" aria-label="Atelier 2107 — a living gradient poster">
  <style>
    /* Design tokens */
    #atelier2107{
      --c1: #7AE9FF;  /* primary hue */
      --c2: #7AFFB7;  /* secondary hue */
      --c3: #FFE175;  /* accent hue */
      --ink: #EAF3FF;
      --ink-soft: #BFD1F7;
      --bg-0: #070A12;
      --bg-1: #0B1120;

      position: relative;
      border-radius: 28px;
      padding: clamp(22px, 4.6vw, 56px);
      color: var(--ink);
      background:
        radial-gradient(1200px 900px at -10% -20%, color-mix(in oklab, var(--c1) 22%, transparent), transparent 62%),
        radial-gradient(1400px 1000px at 120% 120%, color-mix(in oklab, var(--c2) 18%, transparent), transparent 62%),
        linear-gradient(180deg, var(--bg-0), var(--bg-1));
      box-shadow:
        0 70px 160px rgba(0,0,0,0.55),
        inset 0 1px 0 rgba(255,255,255,0.06);
      overflow: hidden;
      isolation: isolate;
      perspective: 1000px;
      font: 500 16px/1.55 ui-sans-serif, system-ui, -apple-system, "SF Pro Text", Segoe UI, Inter, Roboto, Arial, sans-serif;

      /* pointer tilt variables */
      --rx: 0deg;
      --ry: 0deg;
      --rz: 0deg;
    }
    #atelier2107[data-scheme="light"]{
      --ink: #0C1326;
      --ink-soft: #3D4D7C;
      --bg-0: #F6FAFF;
      --bg-1: #EAF2FF;
      box-shadow:
        0 60px 140px rgba(40,90,180,0.25),
        inset 0 1px 0 rgba(255,255,255,0.9);
    }
    #atelier2107 *{ box-sizing: border-box; }

    /* Living backdrop */
    #atelier2107 .backdrop{ position:absolute; inset:-25%; z-index:0; transform: rotate(var(--rz)); transition: transform 280ms cubic-bezier(.2,.9,.2,1); }
    #atelier2107 .mesh{
      position:absolute; inset:0;
      filter: blur(48px) saturate(1.15);
      mix-blend-mode: screen;
      opacity: .65;
      animation: drift2107 32s linear infinite;
      transform-origin: 50% 50%;
    }
    #atelier2107 .mesh.m1{
      background:
        conic-gradient(from 0deg at 60% 40%, color-mix(in oklab, var(--c1) 55%, transparent) 0 14%, transparent 38% 52%, color-mix(in oklab, var(--c2) 55%, transparent) 66% 80%, transparent 100%);
      animation-duration: 44s;
    }
    #atelier2107 .mesh.m2{
      background:
        radial-gradient(48% 48% at 40% 60%, color-mix(in oklab, var(--c2) 40%, transparent), transparent 60%),
        radial-gradient(40% 40% at 70% 35%, color-mix(in oklab, var(--c3) 38%, transparent), transparent 62%);
      animation-direction: reverse;
      animation-duration: 36s;
    }
    #atelier2107 .mesh.m3{
      background:
        conic-gradient(from 90deg at 40% 70%, color-mix(in oklab, var(--c3) 32%, transparent) 0 22%, transparent 45% 100%);
      opacity:.5;
      animation-duration: 52s;
    }
    @keyframes drift2107{ to { transform: rotate(360deg) scale(1.02); } }

    #atelier2107 .grain{
      position:absolute; inset:-10%;
      background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='160' height='160' viewBox='0 0 160 160'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='1' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='160' height='160' filter='url(%23n)' opacity='0.06'/%3E%3C/svg%3E");
      background-size: 300px 300px;
      mix-blend-mode: overlay;
      animation: grainShift 8s linear infinite;
      pointer-events: none;
      z-index:1;
    }
    @keyframes grainShift { to { transform: translate3d(80px,60px,0); } }
    #atelier2107 .vignette{
      position:absolute; inset:0; z-index:2; pointer-events:none;
      background: radial-gradient(70% 70% at 50% 50%, transparent 50%, rgba(0,0,0,0.28) 100%);
      mix-blend-mode: multiply;
    }

    /* Chrome */
    #atelier2107 .chrome{
      position:relative; z-index:3; display:flex; align-items:center; justify-content:space-between; gap:12px;
      transform-style: preserve-3d;
      transform: rotateX(var(--rx)) rotateY(var(--ry));
      transition: transform 280ms cubic-bezier(.2,.9,.2,1);
    }
    #atelier2107 .brand{
      display:flex; align-items:center; gap:12px;
      padding:10px 14px; border-radius:999px; letter-spacing:.16em; text-transform:uppercase; font-size:12px; color: var(--ink-soft);
      border:1px solid rgba(255,255,255,0.14);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
      backdrop-filter: blur(10px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.08);
    }
    #atelier2107[data-scheme="light"] .brand{
      border-color: rgba(10,18,38,0.14);
      background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.35));
    }
    #atelier2107 .spark{
      width:10px; height:10px; border-radius:50%;
      background: radial-gradient(circle at 35% 35%, var(--c1), #fff);
      box-shadow: 0 0 16px color-mix(in oklab, var(--c1) 80%, transparent);
      animation: twinkle 3s ease-in-out infinite;
    }
    @keyframes twinkle{ 0%,100%{ transform: scale(1); } 50%{ transform: scale(1.25); } }

    #atelier2107 .actions{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    #atelier2107 .btn{
      display:inline-flex; align-items:center; gap:10px; font-weight:600; cursor:pointer; user-select:none;
      padding:10px 14px; border-radius:14px; color: var(--ink);
      border:1px solid rgba(255,255,255,0.14);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
      box-shadow: 0 10px 24px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.08);
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
    }
    #atelier2107 .btn:hover{ transform: translateY(-1px); box-shadow: 0 18px 36px rgba(0,0,0,0.22); }
    #atelier2107[data-scheme="light"] .btn{
      border-color: rgba(10,18,38,0.15);
      background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.55));
    }

    /* Mood dots */
    #atelier2107 .moods{ display:inline-flex; align-items:center; gap:10px; padding:6px 8px; border-radius:999px;
      border:1px dashed rgba(255,255,255,0.18);
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      box-shadow: 0 8px 22px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.06);
    }
    #atelier2107[data-scheme="light"] .moods{ border-color: rgba(10,18,38,0.18); background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.4)); }
    #atelier2107 .mood{
      width:26px; height:26px; border-radius:50%; border:1px solid rgba(255,255,255,0.3); cursor:pointer;
      box-shadow: inset 0 0 0 4px rgba(255,255,255,0.08), 0 8px 20px rgba(0,0,0,0.18);
      background: radial-gradient(circle at 35% 35%, var(--m1), var(--m2));
      transition: transform .2s ease, box-shadow .2s ease, outline-color .2s ease;
    }
    #atelier2107 .mood:hover{ transform: translateY(-1px) scale(1.05); box-shadow: 0 14px 28px rgba(0,0,0,0.22); }
    #atelier2107 .mood[aria-selected="true"]{ outline:2px solid var(--m1); outline-offset:2px; }

    /* Hero */
    #atelier2107 .hero{
      position:relative; z-index:3; margin-top: clamp(14px, 3.2vw, 28px);
      display:grid; grid-template-columns: 1.25fr 1fr; gap: clamp(18px, 3.2vw, 42px); align-items:center;
      transform-style: preserve-3d;
      transform: rotateX(var(--rx)) rotateY(var(--ry));
      transition: transform 280ms cubic-bezier(.2,.9,.2,1);
    }
    @media (max-width: 860px){ #atelier2107 .hero{ grid-template-columns: 1fr; } }

    #atelier2107 h1{
      margin: 6px 0 8px;
      font-weight: 900;
      letter-spacing: -0.02em;
      font-size: clamp(46px, 9vw, 120px);
      line-height: 0.9;
      background: linear-gradient(100deg, var(--c1), var(--c2), var(--c3));
      -webkit-background-clip:text; background-clip:text; color: transparent;
      text-shadow: 0 18px 70px color-mix(in oklab, var(--c2) 45%, transparent);
    }
    #atelier2107 .lede{
      margin: 0 0 14px; max-width: 70ch; color: var(--ink-soft);
      font-size: clamp(14px, 2vw, 18px);
    }
    #atelier2107 .mantra{
      display:inline-block; color: var(--ink); font-weight:600; opacity:.9;
      padding:10px 14px; border-radius:14px;
      border:1px solid rgba(255,255,255,0.16);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
      backdrop-filter: blur(8px);
      box-shadow: 0 10px 24px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.06);
      transition: opacity .35s ease;
    }
    #atelier2107[data-scheme="light"] .mantra{ border-color: rgba(10,18,38,0.16); background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.45)); }

    /* Dial */
    #atelier2107 .dialWrap{
      position:relative;
      display:grid; place-items:center;
      min-height: 320px;
      border-radius: 24px;
      border: 1px solid rgba(255,255,255,0.14);
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      backdrop-filter: blur(10px);
      box-shadow: 0 20px 50px rgba(0,0,0,0.28), inset 0 1px 0 rgba(255,255,255,0.06);
      overflow:hidden;
    }
    #atelier2107[data-scheme="light"] .dialWrap{ border-color: rgba(10,18,38,0.14); background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.55)); }
    #atelier2107 .halo{
      position:absolute; inset:-20%; z-index:0; filter: blur(40px) saturate(1.1);
      background:
        radial-gradient(60% 60% at 50% 50%, color-mix(in oklab, var(--c2) 24%, transparent), transparent 70%),
        conic-gradient(from 0deg at 50% 50%, color-mix(in oklab, var(--c1) 24%, transparent), transparent);
      animation: roll 26s linear infinite;
      opacity:.9;
    }
    @keyframes roll{ to { transform: rotate(360deg) scale(1.03);} }
    #atelier2107 .dial{ position:relative; z-index:1; width: min(82%, 360px); aspect-ratio: 1; }
    #atelier2107 .dial svg{ width:100%; height:100%; display:block; }
    #atelier2107 .ring{
      fill:none; stroke: color-mix(in oklab, var(--c1) 55%, var(--c2)); stroke-opacity: .7; stroke-width: 10; filter: drop-shadow(0 0 22px color-mix(in oklab, var(--c1) 55%, transparent));
    }
    #atelier2107 .ticks line{ stroke: color-mix(in oklab, var(--c3) 70%, white); stroke-width:2; stroke-linecap:round; opacity:.75; }
    #atelier2107 .dot{ fill: color-mix(in oklab, var(--c2) 75%, white); filter: drop-shadow(0 6px 16px color-mix(in oklab, var(--c2) 60%, transparent)); }

    /* Panels */
    #atelier2107 .panels{
      position:relative; z-index:3; margin-top: clamp(18px,3.2vw,28px);
      display:grid; grid-template-columns: repeat(3, 1fr); gap: clamp(12px, 2vw, 18px);
      transform-style: preserve-3d;
      transform: rotateX(var(--rx)) rotateY(var(--ry));
      transition: transform 280ms cubic-bezier(.2,.9,.2,1);
    }
    @media (max-width: 960px){ #atelier2107 .panels{ grid-template-columns: 1fr; } }
    #atelier2107 .panel{
      position:relative; overflow:hidden; border-radius:18px;
      border:1px solid rgba(255,255,255,0.14);
      background: linear-gradient(180deg, rgba(255,255,255,0.07), rgba(255,255,255,0.02));
      box-shadow: 0 14px 34px rgba(0,0,0,0.22), inset 0 1px 0 rgba(255,255,255,0.06);
      padding:16px;
      transition: transform .25s ease, box-shadow .25s ease;
      will-change: transform;
      color: var(--ink);
    }
    #atelier2107[data-scheme="light"] .panel{ border-color: rgba(10,18,38,0.14); background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.5)); }
    #atelier2107 .panel:hover{ transform: translateY(-3px) scale(1.01); box-shadow: 0 22px 44px rgba(0,0,0,0.28); }
    #atelier2107 .panel h3{
      margin: 6px 0 6px; font-size: clamp(16px, 2.2vw, 20px); letter-spacing: .02em;
      background: linear-gradient(90deg, var(--c1), var(--c2));
      -webkit-background-clip:text; background-clip:text; color: transparent;
    }
    #atelier2107 .panel p{ margin:0; color: var(--ink-soft); font-size: 14px; }
    #atelier2107 .glint{
      content:""; position:absolute; inset:-40% -40%; background:
        radial-gradient(60% 50% at 50% 50%, color-mix(in oklab, var(--c3) 35%, transparent), transparent 60%);
      mix-blend-mode: screen; filter: blur(30px); opacity:.25; transform: rotate(12deg) translate3d(var(--px,0), var(--py,0), 0);
      pointer-events:none; transition: transform .2s ease;
    }

    /* Footer stamp */
    #atelier2107 .foot{
      position:relative; z-index:3; display:flex; justify-content:space-between; align-items:center; gap:12px;
      margin-top: 18px; padding-top: 16px; border-top: 1px dashed rgba(255,255,255,0.16);
      color: var(--ink-soft); font-size: 13px;
    }
    #atelier2107[data-scheme="light"] .foot{ border-top-color: rgba(10,18,38,0.16); }

    /* Motion controls */
    #atelier2107[data-animated="false"] .mesh,
    #atelier2107[data-animated="false"] .halo{ animation-play-state: paused; }
    @media (prefers-reduced-motion: reduce){
      #atelier2107 .mesh, #atelier2107 .halo { animation: none !important; }
      #atelier2107{ transition: none !important; }
    }
  </style>

  <div class="backdrop" aria-hidden="true">
    <div class="mesh m1"></div>
    <div class="mesh m2"></div>
    <div class="mesh m3"></div>
    <div class="grain"></div>
    <div class="vignette"></div>
  </div>

  <div class="chrome" role="region" aria-label="Top bar">
    <div class="brand"><span class="spark" aria-hidden="true"></span> Atelier • 2107</div>
    <div class="actions">
      <div class="moods" role="tablist" aria-label="Moods">
        <button class="mood" role="tab" aria-selected="true" title="Nocturne" data-mood="nocturne" style="--m1:#7AE9FF;--m2:#7AFFB7;"></button>
        <button class="mood" role="tab" aria-selected="false" title="Dawn" data-mood="dawn" style="--m1:#FFB1A0;--m2:#FFE085;"></button>
        <button class="mood" role="tab" aria-selected="false" title="Neon" data-mood="neon" style="--m1:#FF6EE6;--m2:#FFB65B;"></button>
        <button class="mood" role="tab" aria-selected="false" title="Meadow" data-mood="meadow" style="--m1:#8EFF9A;--m2:#66E0FF;"></button>
      </div>
      <button class="btn" id="theme2107" type="button" aria-pressed="true" title="Toggle light/dark">Theme</button>
      <button class="btn" id="motion2107" type="button" aria-pressed="true" title="Pause or play motion">Calm</button>
    </div>
  </div>

  <div class="hero" role="region" aria-label="Title and dial">
    <div>
      <h1>Shape the light.</h1>
      <p class="lede">A kinetic vignette that listens to your pointer, breathes in gradients, and keeps delicate time.</p>
      <div class="mantra" id="mantra2107">Less noise, more note.</div>
    </div>

    <div class="dialWrap">
      <div class="halo" aria-hidden="true"></div>
      <div class="dial" aria-hidden="true">
        <svg viewBox="0 0 200 200" role="img" aria-label="Holographic dial">
          <defs>
            <radialGradient id="gcore" cx="50%" cy="50%">
              <stop offset="0%" stop-color="white" stop-opacity="1"/>
              <stop offset="100%" stop-color="white" stop-opacity="0"/>
            </radialGradient>
          </defs>
          <circle class="ring" cx="100" cy="100" r="78"/>
          <g class="ticks" id="ticks2107" transform="rotate(0 100 100)">
            <!-- 60 ticks -->
            <script type="application/ecmascript"><![CDATA[
              // Intentionally left empty for environments that parse embedded scripts in SVG; main script handles ticks.
            ]]></script>
          </g>
          <circle class="dot" id="dot2107" cx="100" cy="22" r="5"/>
          <circle cx="100" cy="100" r="26" fill="url(#gcore)" opacity=".35"/>
        </svg>
      </div>
    </div>
  </div>

  <div class="panels" role="region" aria-label="Notes">
    <div class="panel">
      <div class="glint" aria-hidden="true"></div>
      <h3>Poise</h3>
      <p>Spacing is sound. Let elements breathe so intent can be heard.</p>
    </div>
    <div class="panel">
      <div class="glint" aria-hidden="true"></div>
      <h3>Clarity</h3>
      <p>Contrast with care. Soft edges; sharp ideas.</p>
    </div>
    <div class="panel">
      <div class="glint" aria-hidden="true"></div>
      <h3>Play</h3>
      <p>Motion invites touch. Small surprises, quiet delight.</p>
    </div>
  </div>

  <div class="foot">
    <div class="stamp">Revision 2107 • <span id="last-updated">Last updated: 2026-01-21 16:26:42 EST</span></div>
    <div class="hint" aria-hidden="true">Tip: try the moods, then move your pointer.</div>
  </div>

  <script>
    (function(){
      const root = document.getElementById('atelier2107');
      const themeBtn = document.getElementById('theme2107');
      const motionBtn = document.getElementById('motion2107');
      const moods = Array.from(root.querySelectorAll('.mood'));
      const mantra = document.getElementById('mantra2107');
      const ticksGroup = document.getElementById('ticks2107');
      const dot = document.getElementById('dot2107');
      const updated = root.querySelector('#last-updated');

      // Timestamp
      try {
        const now = new Date();
        const opts = { year:'numeric', month:'short', day:'2-digit', hour:'2-digit', minute:'2-digit' };
        updated.textContent = new Intl.DateTimeFormat(undefined, opts).format(now);
      } catch {
        updated.textContent = new Date().toLocaleString();
      }

      // Build ticks (60 marks)
      (function buildTicks(){
        const frag = document.createDocumentFragment();
        for(let i=0;i<60;i++){
          const l = document.createElementNS('http://www.w3.org/2000/svg','line');
          const angle = i * 6; // degrees
          const len = (i % 5 === 0) ? 10 : 6;
          const r1 = 78, r2 = r1 + len;
          const a = angle * Math.PI/180;
          const x1 = 100 + Math.cos(a)*r1;
          const y1 = 100 + Math.sin(a)*r1;
          const x2 = 100 + Math.cos(a)*r2;
          const y2 = 100 + Math.sin(a)*r2;
          l.setAttribute('x1', x1.toFixed(3));
          l.setAttribute('y1', y1.toFixed(3));
          l.setAttribute('x2', x2.toFixed(3));
          l.setAttribute('y2', y2.toFixed(3));
          frag.appendChild(l);
        }
        ticksGroup.appendChild(frag);
      })();

      // Mantra rotation
      const lines = [
        'Less noise, more note.',
        'Calm is a feature.',
        'Space is a material.',
        'Design for breath.',
        'Edges soft, intent sharp.'
      ];
      let idx = 0;
      setInterval(() => {
        idx = (idx + 1) % lines.length;
        mantra.style.opacity = '0';
        setTimeout(() => { mantra.textContent = lines[idx]; mantra.style.opacity = '1'; }, 280);
      }, 3600);

      // Pointer parallax
      const pointer = { nx:0, ny:0, over:false };
      function setTilt(nx, ny){
        const maxTilt = 8;
        root.style.setProperty('--ry', (nx*maxTilt).toFixed(2)+'deg');
        root.style.setProperty('--rx', (-ny*maxTilt).toFixed(2)+'deg');
        root.style.setProperty('--rz', (nx*6).toFixed(2)+'deg');
        // parallax for glints
        const px = (nx*40).toFixed(1)+'px';
        const py = (ny*40).toFixed(1)+'px';
        root.querySelectorAll('.glint').forEach(g => { g.style.setProperty('--px', px); g.style.setProperty('--py', py); });
      }
      root.addEventListener('pointermove', (e) => {
        const r = root.getBoundingClientRect();
        pointer.nx = (e.clientX - r.left)/r.width * 2 - 1;
        pointer.ny = (e.clientY - r.top)/r.height * 2 - 1;
        pointer.over = true;
        if (root.dataset.animated !== 'false') setTilt(pointer.nx, pointer.ny);
      });
      root.addEventListener('pointerleave', () => {
        pointer.over = false;
        setTilt(0,0);
      });

      // Mood system
      const moodMap = {
        nocturne: { c1:'#7AE9FF', c2:'#7AFFB7', c3:'#FFE175', scheme:'dark' },
        dawn:     { c1:'#FFB1A0', c2:'#FFE085', c3:'#FFC6E6', scheme:'light' },
        neon:     { c1:'#FF6EE6', c2:'#FFB65B', c3:'#7AD3FF', scheme:'dark' },
        meadow:   { c1:'#8EFF9A', c2:'#66E0FF', c3:'#F2FFB6', scheme:'light' }
      };
      function applyMood(key){
        const m = moodMap[key] || moodMap.nocturne;
        root.style.setProperty('--c1', m.c1);
        root.style.setProperty('--c2', m.c2);
        root.style.setProperty('--c3', m.c3);
        root.setAttribute('data-scheme', m.scheme);
        themeBtn.setAttribute('aria-pressed', (m.scheme !== 'dark').toString());
      }
      moods.forEach(btn => {
        btn.addEventListener('click', () => {
          moods.forEach(b => b.setAttribute('aria-selected','false'));
          btn.setAttribute('aria-selected','true');
          applyMood(btn.dataset.mood);
        });
      });

      // Theme toggle
      themeBtn.addEventListener('click', () => {
        const isDark = root.getAttribute('data-scheme') === 'dark';
        root.setAttribute('data-scheme', isDark ? 'light' : 'dark');
        themeBtn.setAttribute('aria-pressed', (!isDark).toString());
      });

      // Motion toggle
      function setMotion(on){
        root.setAttribute('data-animated', on ? 'true' : 'false');
        motionBtn.setAttribute('aria-pressed', on ? 'true' : 'false');
      }
      motionBtn.addEventListener('click', () => {
        const on = root.getAttribute('data-animated') !== 'true';
        setMotion(on);
        if (!on) cancelAnimationFrame(raf); else raf = requestAnimationFrame(tick);
      });

      // Dial animation (time + pointer influence)
      let raf = null;
      function tick(ts){
        raf = requestAnimationFrame(tick);
        const now = new Date();
        const sec = now.getSeconds() + now.getMilliseconds()/1000;
        const base = sec/60; // 0..1
        const pointerBoost = (Math.hypot(pointer.nx, pointer.ny) || 0) * 40; // deg
        const rot = base * 360 + pointerBoost;
        ticksGroup.setAttribute('transform', `rotate(${rot.toFixed(2)} 100 100)`);
        const a = ((rot-90) * Math.PI/180);
        const r = 78;
        const x = 100 + Math.cos(a)*r;
        const y = 100 + Math.sin(a)*r;
        dot.setAttribute('cx', x.toFixed(2));
        dot.setAttribute('cy', y.toFixed(2));
      }

      // Init
      applyMood('nocturne');
      setMotion(true);
      raf = requestAnimationFrame(tick);
      document.addEventListener('visibilitychange', () => {
        if (document.hidden){ cancelAnimationFrame(raf); raf = null; }
        else if (root.getAttribute('data-animated') === 'true' && !raf){ raf = requestAnimationFrame(tick); }
      });
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


