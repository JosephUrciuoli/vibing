<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="v916" aria-label="HALO Observatory · 916">
  <style>
    .v916 {
      --h: 288;             /* base hue */
      --sat: 82%;
      --ink: hsl(232 22% 12%);
      --ink-2: hsl(232 16% 38%);
      --muted: hsl(232 12% 46%);
      --bg-a: hsl(calc(var(--h) - 14) 52% 97%);
      --bg-b: hsl(calc(var(--h) + 24) 48% 93%);
      --glass: hsl(0 0% 100% / 0.72);
      --line: hsl(232 20% 82%);
      --accent-a: hsl(var(--h) var(--sat) 52%);
      --accent-b: hsl(calc(var(--h) - 36) var(--sat) 56%);
      --glow: hsl(var(--h) 100% 70% / 0.35);
      --mx: 62%;
      --my: 38%;
      --tempo: 1;
      position: relative;
      padding: clamp(18px, 4.2vw, 48px);
      border-radius: 34px;
      color: var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, "SF Pro Text", Segoe UI, Roboto, Inter, "Helvetica Neue", Arial, "Noto Sans";
      background:
        radial-gradient(900px 650px at var(--mx) var(--my), hsl(var(--h) 95% 74% / 0.22), transparent 60%),
        linear-gradient(145deg, var(--bg-a), var(--bg-b));
      box-shadow:
        inset 0 1px 0 hsl(0 0% 100% / 0.85),
        0 30px 120px hsl(232 62% 20% / 0.08);
      overflow: hidden;
      isolation: isolate;
      transition: background 400ms ease, color 300ms ease;
    }
    .v916 * { box-sizing: border-box; }

    /* Satin grain */
    .v916::before {
      content: "";
      position: absolute; inset: -30%;
      background:
        radial-gradient(60% 60% at 15% 18%, hsl(calc(var(--h) + 80) 90% 70% / 0.12), transparent 60%),
        radial-gradient(60% 60% at 90% 85%, hsl(calc(var(--h) - 30) 90% 70% / 0.12), transparent 60%),
        repeating-conic-gradient(from 0deg, hsl(0 0% 100% / 0.015) 0 6deg, transparent 6deg 12deg);
      mix-blend-mode: overlay;
      pointer-events: none;
      z-index: 0;
      filter: saturate(110%);
    }

    /* Header */
    .v916 .top {
      position: relative; z-index: 2;
      display: flex; align-items: center; justify-content: space-between; gap: 12px;
      margin-bottom: clamp(14px, 2.6vw, 22px);
    }
    .v916 .brand {
      display: inline-flex; align-items: center; gap: 12px;
      padding: 12px 16px; border-radius: 999px;
      background: var(--glass); border: 1px solid var(--line); backdrop-filter: blur(10px);
      box-shadow: inset 0 1px 0 hsl(0 0% 100% / .95), 0 16px 40px hsl(232 40% 30% / .10);
      user-select: none;
    }
    .v916 .logo {
      position: relative; width: 22px; height: 22px;
      border-radius: 50%;
      background:
        radial-gradient(circle at 50% 50%, #fff 0 40%, transparent 45%),
        conic-gradient(from 0deg, var(--accent-a), var(--accent-b), var(--accent-a));
      box-shadow: 0 0 0 4px hsl(var(--h) 85% 60% / 0.16), 0 0 28px var(--glow);
      animation: v916-orb calc(12s / var(--tempo)) linear infinite;
    }
    .v916 .logo::after {
      content: "";
      position: absolute; inset: 3px;
      border-radius: 50%;
      -webkit-mask: radial-gradient(closest-side, transparent 68%, #000 69%);
              mask: radial-gradient(closest-side, transparent 68%, #000 69%);
      background: conic-gradient(from 0deg, #fff, transparent 30%, transparent 70%, #fff);
      opacity: .55;
    }
    @keyframes v916-orb { to { transform: rotate(360deg); } }
    .v916 .mark { font-weight: 900; letter-spacing: .18em; text-transform: uppercase; color: var(--muted); font-size: 12px; }

    .v916 .actions { display: flex; flex-wrap: wrap; gap: 8px; }
    .v916 .btn {
      appearance: none; cursor: pointer; border-radius: 999px; border: 1px solid var(--line);
      background: var(--glass); color: var(--ink);
      padding: 10px 12px; font-size: 12px; font-weight: 800; letter-spacing: .08em; text-transform: uppercase;
      box-shadow: inset 0 1px 0 hsl(0 0% 100% / .95), 0 12px 30px hsl(232 40% 30% / .10);
      backdrop-filter: blur(10px);
      transition: transform 140ms ease, box-shadow 180ms ease, background 180ms ease, color 180ms ease, border-color 200ms ease;
    }
    .v916 .btn:hover { transform: translateY(-1px); box-shadow: inset 0 1px 0 hsl(0 0% 100% / 1), 0 18px 46px hsl(232 40% 30% / .14); }
    .v916 .btn.primary {
      background: linear-gradient(90deg, var(--accent-a), var(--accent-b)); border: none; color: white;
      box-shadow: 0 16px 38px hsl(var(--h) 85% 55% / .26);
    }

    /* Layout */
    .v916 .wrap {
      position: relative; z-index: 2;
      display: grid; align-items: stretch; gap: clamp(16px, 2.4vw, 20px);
      grid-template-columns: 1.05fr 1fr;
    }
    @media (max-width: 980px) { .v916 .wrap { grid-template-columns: 1fr; } }

    /* Panel */
    .v916 .panel {
      position: relative; border-radius: 26px; padding: clamp(18px, 2.2vw, 26px);
      border: 1px solid var(--line); background: var(--glass);
      box-shadow: 0 30px 70px hsl(232 40% 30% / 0.10), inset 0 1px 0 hsl(0 0% 100% / .95);
      overflow: hidden; backdrop-filter: blur(10px);
    }
    .v916 .kicker {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 6px 10px; border-radius: 999px; font-size: 11px; letter-spacing: .22em; text-transform: uppercase;
      color: var(--muted); background: hsl(0 0% 100% / .94); border: 1px solid var(--line);
      box-shadow: inset 0 1px 0 hsl(0 0% 100% / 1);
    }
    .v916 .pulse { width: 8px; height: 8px; border-radius: 50%; background: var(--accent-a); box-shadow: 0 0 10px var(--accent-a); animation: v916-pulse calc(2s / var(--tempo)) ease-in-out infinite; }
    @keyframes v916-pulse { 0%,100%{ transform: scale(1); opacity:.95 } 50%{ transform: scale(1.6); opacity:.75 } }

    .v916 .title {
      margin: 14px 0 10px;
      font-weight: 950; letter-spacing: -0.02em; line-height: .92;
      font-size: clamp(48px, 8.6vw, 112px);
      background: linear-gradient(90deg, hsl(226 28% 18%), var(--accent-a) 50%, var(--accent-b));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 6px 22px hsl(var(--h) 85% 60% / .16));
    }
    .v916 .sub { margin: 0 0 16px; color: var(--ink-2); font-size: clamp(14px, 2.2vw, 18px); max-width: 62ch; }
    .v916 .tags { display: flex; flex-wrap: wrap; gap: 8px; margin-top: 8px; }
    .v916 .tag {
      padding: 8px 12px; border-radius: 999px; font-size: 12px;
      border: 1px solid var(--line); background: hsl(0 0% 100% / 1); color: var(--ink);
      box-shadow: inset 0 1px 0 hsl(0 0% 100% / 1);
      transition: transform 150ms ease, border-color 160ms ease, background 160ms ease;
    }
    .v916 .tag:hover { transform: translateY(-1px); border-color: hsl(var(--h) 60% 52%); }

    /* Stage */
    .v916 .stage {
      position: relative; border-radius: 26px; padding: clamp(12px, 1.8vw, 18px);
      border: 1px solid var(--line); background: var(--glass); backdrop-filter: blur(10px);
      box-shadow: 0 30px 70px hsl(232 40% 30% / 0.10), inset 0 1px 0 hsl(0 0% 100% / 0.95);
      min-height: 380px; overflow: hidden;
    }
    .v916 .scene {
      position: relative; width: clamp(300px, 48vw, 600px); margin: 0 auto;
      aspect-ratio: 1; display: grid; place-items: center;
    }
    .v916 canvas.halo {
      width: 100%; height: 100%;
      display: block; border-radius: 20px;
      filter: saturate(115%);
    }

    .v916 .readout {
      position: absolute; inset: 0; display: grid; place-items: end center; padding-bottom: 8px; z-index: 3;
      text-align: center; pointer-events: none; font-weight: 800; color: hsl(226 25% 20%);
      font-size: clamp(20px, 2.8vw, 28px);
    }
    .v916 .readout small { display: block; margin-top: 6px; font-size: 11px; letter-spacing: .18em; text-transform: uppercase; color: var(--muted); }

    /* Footer */
    .v916 .foot {
      margin-top: 18px; position: relative; z-index: 2;
      display: flex; align-items: center; justify-content: space-between; gap: 12px;
      padding-top: 12px; border-top: 1px dashed var(--line); color: var(--muted); font-size: 12px;
      flex-wrap: wrap;
    }
    .v916 .badge {
      display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px;
      background: hsl(0 0% 100% / .94); border: 1px solid var(--line); box-shadow: inset 0 1px 0 hsl(0 0% 100% / 1);
    }
    .v916 .badge .dot { width: 6px; height: 6px; border-radius: 50%; background: var(--accent-a); box-shadow: 0 0 10px var(--accent-a); }

    /* Night mode */
    .v916.night {
      --ink: hsl(220 22% 94%);
      --ink-2: hsl(220 12% 80%);
      --muted: hsl(220 12% 74%);
      --bg-a: hsl(240 35% 8%);
      --bg-b: hsl(240 28% 14%);
      --glass: hsl(0 0% 100% / 0.06);
      --line: hsl(220 30% 98% / 0.14);
      background:
        radial-gradient(900px 650px at var(--mx) var(--my), hsl(var(--h) 85% 58% / 0.24), transparent 60%),
        linear-gradient(165deg, var(--bg-a), var(--bg-b));
      box-shadow:
        inset 0 1px 0 hsl(0 0% 100% / 0.05),
        0 22px 60px hsl(230 60% 2% / 0.55);
    }
    .v916.night .btn, .v916.night .brand, .v916.night .panel, .v916.night .badge, .v916.night .stage { backdrop-filter: blur(12px); }
    .v916.night .btn, .v916.night .badge { background: hsl(0 0% 100% / 0.06); }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .v916, .v916 * { animation: none !important; transition: none !important; }
    }
  </style>

  <div class="top">
    <div class="brand" aria-label="HALO Observatory 916">
      <span class="logo" aria-hidden="true"></span>
      <span class="mark">HALO · 916</span>
    </div>
    <div class="actions" aria-label="Controls">
      <button class="btn" data-mode="lumen" aria-label="Light mode">Lumen</button>
      <button class="btn" data-mode="noir" aria-label="Dark mode">Noir</button>
      <button class="btn primary" data-mode="auto" aria-label="Auto drift">Auto</button>
      <button class="btn" data-palette="prism" aria-label="Palette: Prism">Prism</button>
      <button class="btn" data-palette="ember" aria-label="Palette: Ember">Ember</button>
      <button class="btn" data-palette="tundra" aria-label="Palette: Tundra">Tundra</button>
      <button class="btn" data-palette="verdant" aria-label="Palette: Verdant">Verdant</button>
    </div>
  </div>

  <div class="wrap">
    <div class="panel">
      <span class="kicker"><span class="pulse" aria-hidden="true"></span> Quiet Technology</span>
      <h1 class="title">Design for the exhale.</h1>
      <p class="sub">An ambient timekeeper and light sculpture. Drag the sky to bend the halo. Choose a mood, or let Auto drift through color and motion.</p>
      <div class="tags">
        <span class="tag">Conic bloom</span>
        <span class="tag">Pointer gravity</span>
        <span class="tag">Halo trails</span>
      </div>
    </div>

    <div class="stage" aria-label="Interactive halo sculpture">
      <div class="scene">
        <canvas class="halo" aria-hidden="true"></canvas>
        <div class="readout" aria-live="polite">
          <span class="clock">—:—:—</span>
          <small>local</small>
        </div>
      </div>
    </div>
  </div>

  <div class="foot">
    <span class="hint">Orbit speed:
      <input class="tempo" type="range" min="0.5" max="2" value="1" step="0.1" aria-label="Orbit speed control">
    </span>
    <span class="badge"><span class="dot" aria-hidden="true"></span><span id="last-updated">Last updated: 2025-11-27 10:19:01 EST</span></span>
  </div>

  <script>
    (function () {
      const root = document.currentScript.closest('.v916');
      const lastUpdated = root.querySelector('#last-updated');
      const clock = root.querySelector('.clock');
      const canvas = root.querySelector('canvas.halo');
      const ctx = canvas.getContext('2d', { alpha: true });
      const tempoInput = root.querySelector('.tempo');
      const scene = root.querySelector('.scene');
      const reduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;

      // Palettes
      const paletteMap = {
        prism: 288,
        ember: 16,
        tundra: 210,
        verdant: 140
      };

      // Last updated
      function setLU() {
        try {
          const dt = new Date();
          const fmt = new Intl.DateTimeFormat(undefined, {
            year: 'numeric', month: 'short', day: '2-digit',
            hour: '2-digit', minute: '2-digit', second: '2-digit'
          }).format(dt);
          lastUpdated.textContent = 'Last updated: ' + fmt;
        } catch (_) {
          lastUpdated.textContent = 'Last updated: ' + new Date().toLocaleString();
        }
      }
      setLU();

      // Clock
      function tickTime() {
        const now = new Date();
        clock.textContent = now.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit', second: '2-digit' });
      }
      tickTime();
      const timeId = setInterval(tickTime, 250);

      // Canvas sizing
      const dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      function fit() {
        const r = scene.getBoundingClientRect();
        const size = Math.min(r.width, r.height);
        canvas.width = Math.round(size * dpr);
        canvas.height = Math.round(size * dpr);
        canvas.style.width = size + 'px';
        canvas.style.height = size + 'px';
      }
      fit();
      const ro = new ResizeObserver(fit);
      ro.observe(scene);

      // Pointer gravity
      const pointer = { x: 0.62, y: 0.38, inside: false };
      function onMove(e) {
        const r = scene.getBoundingClientRect();
        const px = (e.clientX - r.left) / r.width;
        const py = (e.clientY - r.top) / r.height;
        pointer.x = Math.max(0, Math.min(1, px));
        pointer.y = Math.max(0, Math.min(1, py));
        pointer.inside = true;
        root.style.setProperty('--mx', (pointer.x * 100).toFixed(2) + '%');
        root.style.setProperty('--my', (pointer.y * 100).toFixed(2) + '%');
      }
      function onLeave() {
        pointer.inside = false;
      }
      root.addEventListener('pointermove', onMove);
      root.addEventListener('pointerleave', onLeave);

      // Actions
      let autoOn = false;
      root.querySelectorAll('[data-mode]').forEach(btn => {
        btn.addEventListener('click', () => {
          const m = btn.getAttribute('data-mode');
          if (m === 'noir') root.classList.add('night');
          if (m === 'lumen') root.classList.remove('night');
          if (m === 'auto') { autoOn = !autoOn; btn.blur(); }
          btn.blur();
        });
      });
      root.querySelectorAll('[data-palette]').forEach(btn => {
        btn.addEventListener('click', () => {
          const key = btn.getAttribute('data-palette');
          const hue = paletteMap[key] ?? 288;
          root.style.setProperty('--h', hue);
          btn.blur();
        });
      });

      // Tempo control
      tempoInput.addEventListener('input', () => {
        const v = parseFloat(tempoInput.value) || 1;
        root.style.setProperty('--tempo', v);
      });

      // Draw halo
      let t = 0;
      let rafId = null;

      function H() {
        const cs = getComputedStyle(root);
        const hue = parseFloat(cs.getPropertyValue('--h')) || 288;
        const tempo = parseFloat(cs.getPropertyValue('--tempo')) || 1;
        const night = root.classList.contains('night');
        const W = canvas.width, H = canvas.height;
        const cx = W * (pointer.x || 0.62);
        const cy = H * (pointer.y || 0.38);

        // Animate
        t += 0.008 * tempo;

        // Auto drift
        if (autoOn && !pointer.inside) {
          const driftX = 0.5 + Math.sin(t * 1.3) * 0.25;
          const driftY = 0.5 + Math.cos(t * 1.1) * 0.2;
          root.style.setProperty('--mx', (driftX * 100).toFixed(2) + '%');
          root.style.setProperty('--my', (driftY * 100).toFixed(2) + '%');
        }

        // Clear
        ctx.clearRect(0, 0, W, H);

        // Base
        const R = Math.min(W, H) * 0.42;
        const rings = 6;
        const gap = R * 0.11;

        // Composite glow looks nicer at night
        ctx.globalCompositeOperation = night ? 'lighter' : 'source-over';

        for (let i = 0; i < rings; i++) {
          const r = R - i * gap;
          const wob = Math.sin(t * 3 + i * 0.9) * 0.12 + Math.cos(t * 2 + i * 1.1) * 0.08;
          const thickness = Math.max(2, r * (0.06 + wob * 0.02));
          const a = 0.65 - i * 0.08;

          // Orbit offset by pointer
          const ox = (cx - W / 2) * (0.05 + i * 0.01);
          const oy = (cy - H / 2) * (0.05 + i * 0.01);

          // Color shift per ring
          const hh = (hue + i * 18) % 360;
          const colA = `hsla(${hh}, ${90 - i * 4}%, ${night ? 62 - i * 3 : 50 + i * 3}%, ${a})`;
          const colB = `hsla(${(hh + 40) % 360}, ${90 - i * 4}%, ${night ? 70 - i * 2 : 58 + i * 2}%, ${a})`;

          // Stroke gradient along arc
          const grad = ctx.createLinearGradient(cx - r - ox, cy - r - oy, cx + r + ox, cy + r + oy);
          grad.addColorStop(0, colA);
          grad.addColorStop(1, colB);

          ctx.save();
          ctx.translate(ox, oy);
          ctx.lineWidth = thickness;
          ctx.strokeStyle = grad;
          ctx.shadowColor = `hsla(${hh}, 100%, 70%, ${night ? 0.35 : 0.18})`;
          ctx.shadowBlur = night ? 40 : 24;

          // Draw a partial halo that slowly precesses
          const sweep = Math.PI * (1.2 + Math.sin(t * 1.2 + i) * 0.5);
          const start = t * (0.8 + i * 0.06) + i * 0.4;
          ctx.beginPath();
          ctx.arc(cx, cy, r, start, start + sweep);
          ctx.stroke();
          ctx.restore();
        }

        // Center pulse
        const pulse = 0.5 + Math.sin(t * 3) * 0.5;
        const coreR = Math.max(2, R * 0.06 + pulse * 2);
        const gradientCore = ctx.createRadialGradient(cx, cy, 0, cx, cy, coreR * 8);
        gradientCore.addColorStop(0, `hsla(${hue}, 100%, ${night ? 78 : 60}%, ${night ? 0.9 : 0.6})`);
        gradientCore.addColorStop(1, 'rgba(255,255,255,0)');
        ctx.globalCompositeOperation = 'lighter';
        ctx.fillStyle = gradientCore;
        ctx.beginPath();
        ctx.arc(cx, cy, coreR * 8, 0, Math.PI * 2);
        ctx.fill();

        rafId = requestAnimationFrame(H);
      }

      if (!reduced) rafId = requestAnimationFrame(H);
      else H(); // draw once for reduced motion

      // Accessibility: pause auto on hide
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) autoOn = false;
      });

      // Defensive cleanup
      const obs = new MutationObserver(() => {
        if (!document.body.contains(root)) {
          clearInterval(timeId);
          ro.disconnect();
          if (rafId) cancelAnimationFrame(rafId);
          obs.disconnect();
        }
      });
      obs.observe(document.body, { childList: true, subtree: true });
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


