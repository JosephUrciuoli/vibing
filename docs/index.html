<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="observatory" data-theme="night" aria-label="Lumen Observatory — a kinetic orrery">
  <style>
    .observatory {
      --h: 262;
      --bg1: hsl(var(--h) 72% 7%);
      --bg2: hsl(calc(var(--h) + 24) 70% 10%);
      --glass: rgba(255,255,255,0.06);
      --glass-strong: rgba(255,255,255,0.12);
      --stroke: rgba(255,255,255,0.16);
      --fg: #ecf1ff;
      --muted: color-mix(in oklab, var(--fg), transparent 42%);
      --accent: hsl(calc(var(--h) + 80) 85% 62%);
      --shadow: 0 40px 120px rgba(0,0,0,0.55), inset 0 1px 0 rgba(255,255,255,0.06);
      position: relative;
      display: grid;
      gap: 16px;
      padding: clamp(18px, 3.6vw, 28px);
      border-radius: 24px;
      border: 1px solid var(--stroke);
      background: radial-gradient(1400px 800px at var(--mx,55%) var(--my,35%), rgba(255,255,255,0.09), transparent 55%), linear-gradient(180deg, var(--bg1), var(--bg2));
      color: var(--fg);
      font-family: ui-sans-serif, system-ui, -apple-system, "SF Pro Display", Inter, Segoe UI, Roboto, "Helvetica Neue", Arial;
      box-shadow: var(--shadow);
      overflow: clip;
      isolation: isolate;
    }
    .observatory[data-theme="dawn"] {
      --bg1: hsl(calc(var(--h) - 40) 80% 96%);
      --bg2: hsl(calc(var(--h) - 10) 70% 88%);
      --fg: #0e1324;
      --muted: color-mix(in oklab, var(--fg), transparent 40%);
      --glass: rgba(255,255,255,0.55);
      --glass-strong: rgba(255,255,255,0.85);
      --stroke: rgba(10,20,40,0.16);
      --shadow: 0 36px 90px rgba(10,20,40,0.18), 0 2px 8px rgba(10,20,40,0.08);
    }

    .observatory .chrome {
      display: flex; align-items: center; justify-content: space-between; gap: 12px; z-index: 2;
    }
    .observatory .brand {
      display: inline-flex; align-items: center; gap: 10px; padding: 8px 12px;
      border: 1px solid var(--stroke); border-radius: 999px;
      background: linear-gradient(180deg, var(--glass), transparent);
      backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px);
      box-shadow: var(--shadow);
      user-select: none;
    }
    .observatory .logomark {
      width: 16px; height: 16px; border-radius: 4px;
      background: conic-gradient(from 0deg, hsl(var(--h) 90% 60%), hsl(calc(var(--h)+90) 80% 60%), hsl(calc(var(--h)+180) 80% 60%), hsl(var(--h) 90% 60%));
      box-shadow: inset 0 0 0 2px rgba(255,255,255,0.6), 0 0 22px hsl(var(--h) 90% 60% / .6);
      animation: roll 16s linear infinite;
    }
    .observatory .brand .name { font-weight: 800; letter-spacing: 0.2px; font-size: .98rem; }

    .observatory .toggler {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 8px 12px; border-radius: 12px; cursor: pointer; font-weight: 800;
      border: 1px solid var(--stroke); color: var(--fg);
      background: linear-gradient(180deg, var(--glass), transparent);
      box-shadow: var(--shadow); transition: transform .2s ease, filter .3s ease;
    }
    .observatory .toggler:hover { transform: translateY(-1px); filter: saturate(1.06); }
    .observatory .toggler .i { font-size: 1rem; }

    @keyframes roll { to { filter: hue-rotate(1turn); transform: rotate(1turn); } }

    /* Headline */
    .observatory .hero { text-align: center; display: grid; gap: 6px; z-index: 2; }
    .observatory h1 {
      margin: 0;
      font-size: clamp(2.2rem, 6vw, 4rem);
      line-height: 1.02;
      letter-spacing: 0.2px;
      background: linear-gradient(90deg, var(--fg), var(--accent) 55%, hsl(calc(var(--h) + 140) 85% 65%));
      -webkit-background-clip: text; background-clip: text; color: transparent;
    }
    .observatory .sub {
      margin: 0 auto; max-width: 60ch; color: var(--muted);
      font-size: clamp(0.98rem, 1.9vw, 1.12rem);
    }

    /* Scene */
    .observatory .scene {
      position: relative;
      width: min(880px, 100%);
      aspect-ratio: 16 / 10;
      margin: 8px auto 0;
      border-radius: 24px;
      border: 1px solid var(--stroke);
      background: linear-gradient(180deg, var(--glass), transparent);
      overflow: hidden;
      box-shadow: var(--shadow);
      transform-style: preserve-3d;
      perspective: 1200px;
    }
    .observatory .stars, .observatory .halo, .observatory .grid { position: absolute; inset: 0; }
    .observatory .stars { z-index: 0; mix-blend-mode: screen; }
    .observatory .star {
      position: absolute; width: 2px; height: 2px; border-radius: 2px;
      background: radial-gradient(circle, #fff, transparent 65%);
      opacity: .8; animation: glint var(--dur, 2400ms) ease-in-out infinite alternate;
      filter: drop-shadow(0 0 8px rgba(255,255,255,0.6));
    }
    @keyframes glint { from { transform: scale(0.9); opacity: .65; } to { transform: scale(1.4); opacity: 1; } }

    .observatory .halo {
      background:
        radial-gradient(600px 360px at var(--mx,60%) var(--my,40%), hsl(var(--h) 90% 60% / .20), transparent 60%),
        radial-gradient(800px 500px at 20% 10%, hsl(calc(var(--h)+100) 90% 60% / .14), transparent 65%);
      filter: blur(20px) saturate(1.05);
      pointer-events: none;
    }

    .observatory .grid::before,
    .observatory .grid::after {
      content: "";
      position: absolute; inset: 10% 8%;
      border-radius: 50%;
      border: 1px dashed color-mix(in oklab, var(--fg), transparent 75%);
      filter: blur(.2px);
    }
    .observatory .grid::after {
      inset: 18% 16%;
    }

    /* Orrery */
    .observatory .orrery {
      position: absolute; inset: 0; display: grid; place-items: center; z-index: 1;
      transition: transform 320ms ease;
    }
    .observatory .sun {
      width: clamp(34px, 6.6vw, 64px); height: clamp(34px, 6.6vw, 64px); border-radius: 50%;
      background: radial-gradient(circle at 32% 32%, hsl(calc(var(--h)+32) 90% 72%), hsl(calc(var(--h)+10) 80% 58%) 55%, transparent 62%);
      box-shadow:
        0 0 0 1px color-mix(in oklab, var(--fg), transparent 70%),
        0 0 30px hsl(var(--h) 90% 62% / .55),
        0 0 90px hsl(calc(var(--h)+100) 90% 66% / .35);
      position: relative;
      z-index: 2;
    }
    .observatory .ring {
      position: absolute; border-radius: 50%;
      border: 1px dashed color-mix(in oklab, var(--fg), transparent 68%);
      inset: var(--inset);
    }
    .observatory .orbit {
      position: absolute; inset: var(--inset);
      border-radius: 50%;
      animation: spin var(--dur) linear infinite;
      transform-origin: center center;
    }
    .observatory .planet {
      position: absolute; top: calc(-1 * var(--size) / 2); left: 50%;
      width: var(--size); height: var(--size); border-radius: 50%;
      transform: translateX(-50%);
      background: radial-gradient(circle at 30% 35%, white, hsl(var(--hue, var(--h)) 82% 64%) 55%, hsl(var(--hue, var(--h)) 82% 40%));
      box-shadow: 0 0 18px hsl(var(--hue, var(--h)) 90% 62% / .45);
      outline: 1px solid color-mix(in oklab, var(--fg), transparent 70%);
    }
    @keyframes spin { to { transform: rotate(1turn); } }

    /* Overlay for eclipse */
    .observatory .eclipse {
      position: absolute; inset: 0; z-index: 3; pointer-events: none;
      background: radial-gradient(60% 60% at 50% 50%, transparent 35%, rgba(0,0,0,.45) 70%, rgba(0,0,0,.65) 100%);
      opacity: 0; transition: opacity 320ms ease;
    }
    .observatory[data-eclipse="on"] .eclipse { opacity: 1; }

    /* Comets */
    .observatory .comet {
      position: absolute; width: 12px; height: 12px; border-radius: 50%;
      background: radial-gradient(circle, #fff, hsl(var(--h) 100% 80%) 60%, transparent 70%);
      box-shadow: 0 0 14px #fff, 0 0 40px hsl(var(--h) 90% 60% / .7);
      transform: translate(-50%, -50%) rotate(var(--angle, 0deg));
      pointer-events: none; z-index: 2;
    }
    .observatory .comet::after {
      content: ""; position: absolute; left: -240px; top: 50%; transform: translateY(-50%);
      width: 240px; height: 2px; border-radius: 2px; opacity: .9;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.8), rgba(255,255,255,.1));
      filter: blur(1px);
    }
    @keyframes streak { to { transform: translate(var(--dx), var(--dy)) rotate(var(--angle)); opacity: 0; } }

    /* Controls */
    .observatory .controls { display: flex; flex-wrap: wrap; gap: 10px; justify-content: center; z-index: 2; }
    .observatory .btn {
      border: 1px solid var(--stroke);
      background: linear-gradient(90deg, hsl(var(--h) 90% 60%), hsl(calc(var(--h) + 80) 85% 62%));
      color: #0b0f1e; padding: 10px 14px; border-radius: 14px;
      cursor: pointer; font-weight: 900; letter-spacing: 0.25px;
      box-shadow: var(--shadow);
      transition: transform .15s ease, filter .3s ease;
      text-shadow: 0 1px 0 rgba(255,255,255,0.4);
    }
    .observatory .btn:hover { transform: translateY(-1px); filter: saturate(1.06); }
    .observatory .btn.ghost {
      background: linear-gradient(180deg, var(--glass), transparent);
      color: var(--fg); text-shadow: none; font-weight: 700;
    }

    .observatory .ticker {
      min-height: 1.4em; margin: 2px auto 0; text-align: center; color: var(--muted);
      font-size: 0.98rem; transition: opacity .24s ease; z-index: 2;
    }

    .observatory .status {
      display: flex; align-items: center; justify-content: space-between; gap: 10px;
      border-top: 1px dashed var(--stroke); padding-top: 10px; margin-top: 2px;
      font-size: .92rem; color: var(--muted);
      z-index: 2;
    }
    .observatory #last-updated { font-variant-numeric: tabular-nums; white-space: nowrap; }

    /* Speed */
    .observatory[data-speed="fast"] .orbit { animation-duration: calc(var(--dur) * .55); }
    .observatory[data-speed="slow"] .orbit { animation-duration: calc(var(--dur) * 1.6); }

    /* Tilt on pointer */
    .observatory .tilt { transition: transform 280ms ease; will-change: transform; }

    @media (max-width: 760px) {
      .observatory .scene { aspect-ratio: 1 / 1; }
      .observatory .status { flex-direction: column; align-items: flex-start; gap: 6px; }
    }
    @media (prefers-reduced-motion: reduce) {
      .observatory *, .observatory *::before, .observatory *::after {
        animation: none !important; transition: none !important;
      }
    }
  </style>

  <div class="chrome">
    <div class="brand">
      <span class="logomark" aria-hidden="true"></span>
      <span class="name">Lumen Observatory</span>
    </div>
    <button class="toggler" type="button" aria-label="Toggle theme">
      <span class="i" aria-hidden="true">☾</span>
      <span class="l">Night</span>
    </button>
  </div>

  <div class="hero">
    <h1>Celestial Minimalism</h1>
    <p class="sub">Time drawn in light. A tiny universe you can steer with a fingertip.</p>
  </div>

  <div class="scene tilt" role="img" aria-label="Generative orrery with stars, orbits and comets">
    <div class="stars" aria-hidden="true"></div>
    <div class="halo" aria-hidden="true"></div>
    <div class="grid" aria-hidden="true"></div>

    <div class="orrery">
      <div class="sun" aria-hidden="true"></div>

      <div class="ring" style="--inset: 12% 18%"></div>
      <div class="ring" style="--inset: 20% 26%"></div>
      <div class="ring" style="--inset: 30% 36%"></div>

      <div class="orbit" style="--inset: 12% 18%; --dur: 24s;">
        <span class="planet" style="--size: 10px; --hue: calc(var(--h) + 20)"></span>
      </div>
      <div class="orbit" style="--inset: 20% 26%; --dur: 34s;">
        <span class="planet" style="--size: 14px; --hue: calc(var(--h) + 120)"></span>
      </div>
      <div class="orbit" style="--inset: 30% 36%; --dur: 54s;">
        <span class="planet" style="--size: 18px; --hue: calc(var(--h) + 200)"></span>
      </div>
    </div>

    <div class="eclipse" aria-hidden="true"></div>
  </div>

  <div class="controls tilt" role="group" aria-label="Orrery controls">
    <button class="btn" type="button" data-action="palette">Palette</button>
    <button class="btn ghost" type="button" data-action="speed">Accelerate</button>
    <button class="btn ghost" type="button" data-action="eclipse">Eclipse</button>
    <button class="btn ghost" type="button" data-action="comet">Comet</button>
    <button class="btn ghost" type="button" data-action="reset">Reset</button>
  </div>

  <div class="ticker tilt" aria-live="polite"></div>

  <div class="status tilt">
    <span>Tip: Move to tilt the cosmos; tap to launch a comet.</span>
    <span id="last-updated">Last updated: 2026-02-03 20:55:17 EST</span>
  </div>

  <script>
    (function () {
      const root = document.currentScript.parentElement;
      const scene = root.querySelector('.scene');
      const stars = root.querySelector('.stars');
      const orrery = root.querySelector('.orrery');
      const ticker = root.querySelector('.ticker');
      const toggle = root.querySelector('.toggler');
      const icon = toggle.querySelector('.i');
      const label = toggle.querySelector('.l');

      // Theme persistence
      const saved = localStorage.getItem('lumenTheme');
      if (saved) root.dataset.theme = saved;
      reflectTheme();

      function reflectTheme() {
        const night = root.dataset.theme === 'night';
        icon.textContent = night ? '☾' : '☼';
        label.textContent = night ? 'Night' : 'Dawn';
      }

      toggle.addEventListener('click', () => {
        root.dataset.theme = root.dataset.theme === 'night' ? 'dawn' : 'night';
        localStorage.setItem('lumenTheme', root.dataset.theme);
        reflectTheme();
      });

      // Stars
      const COUNT = 96;
      const frag = document.createDocumentFragment();
      for (let i = 0; i < COUNT; i++) {
        const s = document.createElement('span');
        s.className = 'star';
        s.style.left = Math.random() * 100 + '%';
        s.style.top = Math.random() * 100 + '%';
        s.style.opacity = (0.55 + Math.random() * 0.45).toFixed(2);
        s.style.setProperty('--dur', (1600 + Math.random() * 2600) + 'ms');
        frag.appendChild(s);
      }
      stars.appendChild(frag);

      // Pointer glow & parallax tilt
      const tilts = root.querySelectorAll('.tilt');
      function setMouseVars(clientX, clientY) {
        const r = root.getBoundingClientRect();
        const px = (clientX - r.left) / r.width;
        const py = (clientY - r.top) / r.height;
        root.style.setProperty('--mx', Math.round(px * 100) + '%');
        root.style.setProperty('--my', Math.round(py * 100) + '%');
        const rx = (py - 0.5) * -8;
        const ry = (px - 0.5) * 8;
        tilts.forEach(el => el.style.transform = `perspective(900px) rotateX(${rx}deg) rotateY(${ry}deg)`);
      }
      root.addEventListener('pointermove', e => setMouseVars(e.clientX, e.clientY));
      root.addEventListener('pointerleave', () => {
        root.style.removeProperty('--mx'); root.style.removeProperty('--my');
        tilts.forEach(el => el.style.transform = 'none');
      });

      // Tap to comet
      scene.addEventListener('click', (e) => {
        const rect = scene.getBoundingClientRect();
        spawnComet(e.clientX - rect.left, e.clientY - rect.top);
      });

      function spawnComet(x, y) {
        const c = document.createElement('span');
        c.className = 'comet';
        const angle = (Math.random() * 50 - 25) + 20; // gentle diagonals
        const dx = (scene.clientWidth + 300) + 'px';
        const dy = (scene.clientHeight + 200) + 'px';
        c.style.left = x + 'px';
        c.style.top = y + 'px';
        c.style.setProperty('--angle', angle + 'deg');
        c.style.setProperty('--dx', dx);
        c.style.setProperty('--dy', dy);
        const dur = 1800 + Math.random() * 1400;
        c.style.animation = `streak ${dur}ms ease-out forwards`;
        scene.appendChild(c);
        setTimeout(() => c.remove(), dur + 100);
        speak("A comet arcs across silence.");
      }

      // Controls
      const hues = [198, 212, 236, 262, 284, 318, 352];
      root.querySelector('[data-action="palette"]').addEventListener('click', () => {
        const hue = hues[Math.floor(Math.random() * hues.length)];
        root.style.setProperty('--h', hue);
        speak("Palette shifted.");
      });
      root.querySelector('[data-action="speed"]').addEventListener('click', () => {
        const current = root.getAttribute('data-speed');
        const next = current === 'fast' ? 'slow' : current === 'slow' ? null : 'fast';
        if (next) root.setAttribute('data-speed', next); else root.removeAttribute('data-speed');
        speak(next === 'fast' ? "Orbits accelerate." : next === 'slow' ? "Orbits unwind." : "Speed balanced.");
      });
      root.querySelector('[data-action="eclipse"]').addEventListener('click', () => {
        const on = root.getAttribute('data-eclipse') === 'on';
        root.setAttribute('data-eclipse', on ? 'off' : 'on');
        speak(on ? "Light returns." : "Eclipse descends.");
      });
      root.querySelector('[data-action="comet"]').addEventListener('click', () => {
        // launch from random edge
        const rect = scene.getBoundingClientRect();
        const x = Math.random() * rect.width;
        const y = Math.random() * rect.height * 0.4 + rect.height * 0.1;
        spawnComet(x, y);
      });
      root.querySelector('[data-action="reset"]').addEventListener('click', () => {
        root.removeAttribute('data-speed');
        root.setAttribute('data-eclipse', 'off');
        root.style.removeProperty('--h');
        speak("Back to first light.");
      });

      // Ticker cycle
      const lines = [
        "We measure time in light.",
        "Orbit is simply patience in motion.",
        "Silence makes the glow louder.",
        "Precision is kindness."
      ];
      let idx = 0, timer;
      function cycle() {
        ticker.style.opacity = 0;
        setTimeout(() => {
          ticker.textContent = lines[idx % lines.length];
          ticker.style.opacity = 1;
          idx++;
        }, 180);
      }
      function speak(text) {
        clearInterval(timer);
        ticker.textContent = text;
        ticker.style.opacity = 1;
        timer = setInterval(cycle, 4800);
      }
      speak(lines[0]);

      // Last updated
      const last = root.querySelector('#last-updated');
      try {
        const dt = new Date();
        const fmt = new Intl.DateTimeFormat([], {
          year: 'numeric', month: 'short', day: '2-digit',
          hour: '2-digit', minute: '2-digit', timeZoneName: 'short'
        }).format(dt);
        last.textContent = `Last updated: ${fmt}`;
      } catch {
        last.textContent = `Last updated: ${new Date().toLocaleString()}`;
      }
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


