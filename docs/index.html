<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section id="vibe2195" aria-label="Vibing Web â€” Edition 2195">
  <style>
    /* Scope everything to this section only */
    #vibe2195 {
      --bg0: #f8f7f2;
      --bg1: #f3f1eb;
      --panel: rgba(0,0,0,0.06);
      --ink: #1f2328;
      --muted: #586069;
      --accent: #4b6aff;
      --accent2: #ff7aa2;
      --ring: rgba(0,0,0,0.08);
      --radius: 26px;
      --shadow: 0 30px 80px rgba(10, 12, 18, 0.18);
      color: var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
      letter-spacing: 0.1px;
    }

    /* Themes */
    #vibe2195[data-theme="paper"] {
      --bg0: #fbfaf6;
      --bg1: #f2efe7;
      --ink: #1f2328;
      --muted: #5a616a;
      --accent: #4b6aff;
      --accent2: #ff7aa2;
      --ring: rgba(10,12,18,0.08);
    }
    #vibe2195[data-theme="sky"] {
      --bg0: #0b1220;
      --bg1: #101b30;
      --ink: #eaf1ff;
      --muted: #9fb0c9;
      --panel: rgba(255,255,255,0.06);
      --accent: #7bdff6;
      --accent2: #cdb4ff;
      --ring: rgba(255,255,255,0.16);
    }
    #vibe2195[data-theme="noir"] {
      --bg0: #0a0a0a;
      --bg1: #141414;
      --ink: #f3f3f3;
      --muted: #a7a7a7;
      --panel: rgba(255,255,255,0.06);
      --accent: #ffd56b;
      --accent2: #ffaa7f;
      --ring: rgba(255,255,255,0.18);
    }

    /* Shell */
    #vibe2195 .folio {
      position: relative;
      border-radius: 34px;
      padding: clamp(18px, 2.6vw, 32px);
      background:
        radial-gradient(1200px 600px at var(--mx, 75%) var(--my, 35%), color-mix(in srgb, var(--accent), transparent 85%), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      border: 1px solid var(--ring);
      box-shadow: var(--shadow);
      overflow: clip;
      isolation: isolate;
    }

    /* subtle paper grain / night haze */
    #vibe2195 .folio::after {
      content: "";
      position: absolute;
      inset: -20%;
      background:
        radial-gradient(800px 800px at 10% 0%, color-mix(in srgb, var(--accent), transparent 92%), transparent 60%),
        radial-gradient(700px 700px at 120% 120%, color-mix(in srgb, var(--accent2), transparent 92%), transparent 70%),
        repeating-linear-gradient(90deg, rgba(0,0,0,0.02) 0 1px, transparent 1px 3px);
      mix-blend-mode: soft-light;
      opacity: 0.4;
      pointer-events: none;
      animation: v2195-drift 60s linear infinite;
    }
    @keyframes v2195-drift { to { transform: rotate(360deg); } }

    /* Layout */
    #vibe2195 .grid {
      display: grid;
      grid-template-columns: 1.05fr 1fr;
      gap: clamp(18px, 4vw, 40px);
      align-items: center;
    }
    @media (max-width: 900px) {
      #vibe2195 .grid { grid-template-columns: 1fr; }
    }

    /* Masthead */
    #vibe2195 .tag {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      font-size: 12px;
      text-transform: uppercase;
      letter-spacing: 1.2px;
      padding: 8px 12px;
      border-radius: 999px;
      background: color-mix(in srgb, var(--panel), transparent 30%);
      border: 1px solid var(--ring);
      color: var(--ink);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.4);
    }
    #vibe2195 .tag::before {
      content: "";
      width: 8px; height: 8px; border-radius: 50%;
      background: radial-gradient(circle at 35% 35%, #fff, var(--accent));
      box-shadow: 0 0 12px var(--accent);
    }
    #vibe2195 h1 {
      margin: 14px 0 8px 0;
      font-size: clamp(36px, 6.8vw, 78px);
      line-height: 0.98;
      font-weight: 900;
      letter-spacing: -0.03em;
      text-wrap: balance;
      background: linear-gradient(180deg, color-mix(in srgb, var(--ink), #ffffff 14%), color-mix(in srgb, var(--accent2), #ffffff 20%));
      -webkit-background-clip: text;
              background-clip: text;
      color: transparent;
    }
    #vibe2195 .sub {
      margin: 0 0 18px;
      font-size: clamp(14px, 1.6vw, 17px);
      color: var(--muted);
      text-wrap: balance;
    }

    /* Controls */
    #vibe2195 .controls {
      display: grid;
      gap: 12px;
      max-width: 560px;
    }
    #vibe2195 .chips {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }
    #vibe2195 .chip {
      appearance: none;
      border: 1px solid var(--ring);
      background: linear-gradient(180deg, color-mix(in srgb, var(--panel), transparent 10%), transparent);
      color: var(--ink);
      padding: 8px 12px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 700;
      letter-spacing: 0.2px;
      cursor: pointer;
      transition: transform 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.5);
    }
    #vibe2195 .chip:hover { transform: translateY(-1px); border-color: color-mix(in srgb, var(--accent), transparent 40%); }
    #vibe2195 .chip[aria-pressed="true"] {
      box-shadow: 0 10px 26px color-mix(in srgb, var(--accent), transparent 80%), inset 0 0 0 2px color-mix(in srgb, var(--accent), transparent 60%);
    }

    #vibe2195 .slider {
      display: grid;
      grid-template-columns: auto 1fr auto;
      align-items: center;
      gap: 12px;
      padding: 10px 12px;
      border-radius: 14px;
      background: linear-gradient(180deg, color-mix(in srgb, var(--panel), transparent 10%), transparent);
      border: 1px solid var(--ring);
      font-size: 13px;
      color: var(--ink);
    }
    #vibe2195 input[type="range"] {
      -webkit-appearance: none;
      appearance: none;
      width: 100%;
      height: 6px;
      border-radius: 999px;
      background: linear-gradient(90deg, var(--accent), var(--accent2));
      outline: none;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.5);
    }
    #vibe2195 input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      appearance: none;
      width: 18px; height: 18px; border-radius: 50%;
      background: #fff;
      border: 2px solid color-mix(in srgb, var(--accent), transparent 30%);
      box-shadow: 0 6px 18px rgba(0,0,0,0.2), 0 0 0 6px color-mix(in srgb, var(--accent2), transparent 85%);
      cursor: pointer;
    }
    #vibe2195 input[type="range"]::-moz-range-thumb {
      width: 18px; height: 18px; border-radius: 50%;
      background: #fff;
      border: 2px solid color-mix(in srgb, var(--accent), transparent 30%);
      box-shadow: 0 6px 18px rgba(0,0,0,0.2), 0 0 0 6px color-mix(in srgb, var(--accent2), transparent 85%);
      cursor: pointer;
    }
    #vibe2195 .slider output {
      min-width: 3ch;
      text-align: right;
      font-variant-numeric: tabular-nums;
      font-weight: 700;
    }

    #vibe2195 .toggle {
      justify-self: start;
      appearance: none;
      border: 1px solid var(--ring);
      background: linear-gradient(180deg, color-mix(in srgb, var(--panel), transparent 0%), transparent);
      color: var(--ink);
      padding: 10px 14px;
      border-radius: 12px;
      font-size: 13px;
      font-weight: 800;
      letter-spacing: 0.2px;
      cursor: pointer;
      transition: transform 160ms ease, border-color 160ms ease, box-shadow 160ms ease;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.5);
    }
    #vibe2195 .toggle:hover { transform: translateY(-1px); border-color: color-mix(in srgb, var(--accent), transparent 40%); }
    #vibe2195 .toggle[data-state="paused"] {
      background: linear-gradient(180deg, color-mix(in srgb, var(--accent), transparent 82%), transparent);
      border-color: color-mix(in srgb, var(--accent), transparent 40%);
    }

    /* Loom */
    #vibe2195 .loom {
      position: relative;
      height: clamp(320px, 40vw, 560px);
      min-height: 320px;
      border-radius: var(--radius);
      overflow: hidden;
      background:
        radial-gradient(140% 120% at 10% -10%, rgba(255,255,255,0.6), transparent 55%),
        linear-gradient(180deg, color-mix(in srgb, var(--bg0), #ffffff 4%), color-mix(in srgb, var(--bg1), #ffffff 10%));
      border: 1px solid var(--ring);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.5);
    }
    #vibe2195 .loom::before {
      content: "";
      position: absolute;
      inset: -25%;
      background:
        radial-gradient(450px 380px at var(--mx, 70%) var(--my, 35%), color-mix(in srgb, var(--accent2), transparent 80%), transparent 60%),
        radial-gradient(600px 500px at 20% 120%, color-mix(in srgb, var(--accent), transparent 80%), transparent 65%);
      opacity: 0.7;
      mix-blend-mode: screen;
      pointer-events: none;
      transition: opacity 280ms ease;
    }
    #vibe2195 canvas#weave {
      width: 100%;
      height: 100%;
      display: block;
    }

    /* Footer */
    #vibe2195 .foot {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-top: clamp(14px, 3vw, 18px);
      padding-top: 14px;
      border-top: 1px dashed var(--ring);
      color: var(--muted);
      font-size: 12px;
      flex-wrap: wrap;
    }
    #vibe2195 .meta {
      display: inline-flex;
      gap: 10px;
      align-items: center;
      flex-wrap: wrap;
    }
    #vibe2195 .pill {
      padding: 6px 10px;
      border-radius: 999px;
      background: color-mix(in srgb, var(--panel), transparent 20%);
      border: 1px solid var(--ring);
      color: var(--ink);
      font-weight: 700;
      letter-spacing: 0.2px;
    }

    /* Motion sensitivity */
    @media (prefers-reduced-motion: reduce) {
      #vibe2195 .folio::after { animation: none !important; }
      #vibe2195 .loom::before { transition: none !important; }
    }
  </style>

  <div class="folio" data-theme="paper">
    <div class="grid">
      <div class="lead" role="region" aria-label="Weave controls">
        <span class="tag">Edition 2195</span>
        <h1>The Weave Lab</h1>
        <p class="sub">Drawn by light, woven by time. A living tapestry that bends with your touch.</p>

        <div class="controls">
          <div class="chips" role="group" aria-label="Theme">
            <button class="chip" type="button" data-theme="paper" aria-pressed="true">Paper</button>
            <button class="chip" type="button" data-theme="sky" aria-pressed="false">Sky</button>
            <button class="chip" type="button" data-theme="noir" aria-pressed="false">Noir</button>
          </div>

          <label class="slider">
            <span>Tempo</span>
            <input id="tempo2195" type="range" min="0.2" max="2.2" step="0.1" value="1.0" aria-label="Animation speed">
            <output for="tempo2195">1.0</output>
          </label>

          <button class="toggle" type="button" data-state="playing" aria-pressed="false">Freeze flow</button>
        </div>
      </div>

      <div class="loom" role="img" aria-label="Generative woven field">
        <canvas id="weave"></canvas>
      </div>
    </div>

    <div class="foot">
      <div class="meta">
        <span class="pill">Weave Engine v2</span>
        <span class="pill">Pointer Parallax</span>
        <span class="pill">Adaptive Themes</span>
      </div>
      <span id="last-updated">Last updated: 2026-01-25 20:47:47 EST</span>
    </div>
  </div>

  <script>
    (function() {
      const root = document.getElementById('vibe2195');
      const shell = root.querySelector('.folio');
      const loom = root.querySelector('.loom');
      const canvas = root.querySelector('#weave');
      const ctx = canvas.getContext('2d');
      const chips = Array.from(root.querySelectorAll('.chip'));
      const slider = root.querySelector('input[type="range"]');
      const out = root.querySelector('.slider output');
      const toggle = root.querySelector('.toggle');
      const updated = root.querySelector('#last-updated');

      // Last updated
      try {
        const d = new Date();
        const opts = { year: 'numeric', month: 'short', day: '2-digit', hour: '2-digit', minute: '2-digit' };
        updated.textContent = 'Last updated: ' + d.toLocaleString(undefined, opts);
      } catch {
        updated.textContent = 'Last updated: ' + new Date().toISOString();
      }

      // Theme switching
      function applyTheme(theme) {
        root.setAttribute('data-theme', theme);
        shell.setAttribute('data-theme', theme);
        chips.forEach(c => c.setAttribute('aria-pressed', String(c.dataset.theme === theme)));
      }
      chips.forEach(c => c.addEventListener('click', () => applyTheme(c.dataset.theme)));
      applyTheme('paper');

      // Tempo
      out.value = slider.value;
      let tempo = parseFloat(slider.value);
      slider.addEventListener('input', () => {
        tempo = parseFloat(slider.value);
        out.value = slider.value;
      });

      // Play/Pause logic
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      let running = !prefersReduced;
      function updateToggleUI() {
        toggle.dataset.state = running ? 'playing' : 'paused';
        toggle.textContent = running ? 'Freeze flow' : 'Play flow';
        toggle.setAttribute('aria-pressed', String(!running));
      }
      toggle.addEventListener('click', () => {
        running = !running;
        updateToggleUI();
        if (running) raf();
      });
      updateToggleUI();

      // Canvas sizing
      let dpr = Math.min(window.devicePixelRatio || 1, 2);
      function resize() {
        const rect = loom.getBoundingClientRect();
        canvas.width = Math.floor(rect.width * dpr);
        canvas.height = Math.floor(rect.height * dpr);
        canvas.style.width = rect.width + 'px';
        canvas.style.height = rect.height + 'px';
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      }
      const ro = new ResizeObserver(resize);
      ro.observe(loom);
      resize();

      // Helpers
      function cssVar(name) {
        return getComputedStyle(root).getPropertyValue(name).trim();
      }

      // Pointer parallax
      let px = 0.7, py = 0.35;
      function moveParallax(e) {
        const r = loom.getBoundingClientRect();
        const x = Math.max(0, Math.min(r.width, e.clientX - r.left));
        const y = Math.max(0, Math.min(r.height, e.clientY - r.top));
        px = x / r.width;
        py = y / r.height;
        loom.style.setProperty('--mx', (px * 100).toFixed(2) + '%');
        loom.style.setProperty('--my', (py * 100).toFixed(2) + '%');
      }
      loom.addEventListener('pointermove', moveParallax);
      loom.addEventListener('pointerleave', () => {
        loom.style.setProperty('--mx', '75%');
        loom.style.setProperty('--my', '35%');
      });

      // Weave engine
      let t = 0;
      function render() {
        const w = canvas.clientWidth;
        const h = canvas.clientHeight;
        ctx.clearRect(0, 0, w, h);

        const lines = Math.round(38 + Math.sin(t * 0.7) * 6);
        const acc1 = cssVar('--accent') || '#4b6aff';
        const acc2 = cssVar('--accent2') || '#ff7aa2';

        // soft veil
        ctx.globalAlpha = 1;
        ctx.fillStyle = getComputedStyle(root).getPropertyValue('--bg0').trim() || '#ffffff';
        ctx.globalCompositeOperation = 'source-over';

        // Draw woven threads
        for (let i = 0; i < lines; i++) {
          const y0 = h * ((i + 0.5) / (lines + 1));
          const amp = (h * 0.08) * (0.6 + 0.4 * Math.sin(i * 0.45 + t * 0.8));
          const freq = 2.2 + (i % 5) * 0.3;
          const phase = t * (0.6 + (i % 3) * 0.1) + i * 0.12 + (px - 0.5) * 1.6;

          // gradient stroke along the line
          const g = ctx.createLinearGradient(0, y0, w, y0);
          g.addColorStop(0, acc1);
          g.addColorStop(0.5, acc2);
          g.addColorStop(1, acc1);

          ctx.lineWidth = 1.2 + 1.2 * Math.sin(i * 0.3 + t * 0.8 + py * 2.0);
          ctx.strokeStyle = g;
          ctx.globalAlpha = 0.85;
          ctx.globalCompositeOperation = 'multiply';

          ctx.beginPath();
          for (let x = 0; x <= w; x += 14) {
            const y = y0
              + Math.sin((x / w) * Math.PI * 2 * freq + phase) * amp
              + Math.sin((x / w) * Math.PI * 2 * (freq * 0.5) + phase * 1.7) * amp * 0.32;
            if (x === 0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
          }
          ctx.stroke();

          // luminous stitch pass
          ctx.globalCompositeOperation = 'screen';
          ctx.globalAlpha = 0.08;
          ctx.lineWidth = 3.2;
          ctx.stroke();
        }

        // Edge glow ring
        ctx.globalCompositeOperation = 'screen';
        ctx.globalAlpha = 0.25;
        const rg = ctx.createRadialGradient(w * px, h * py, 0, w * px, h * py, Math.max(w, h) * 0.7);
        rg.addColorStop(0, acc2);
        rg.addColorStop(1, 'transparent');
        ctx.fillStyle = rg;
        ctx.beginPath();
        ctx.arc(w * px, h * py, Math.max(w, h) * 0.7, 0, Math.PI * 2);
        ctx.fill();

        // reset
        ctx.globalAlpha = 1;
        ctx.globalCompositeOperation = 'source-over';
      }

      function raf() {
        if (!running) return;
        t += 0.008 * (tempo || 1);
        render();
        requestAnimationFrame(raf);
      }

      // Start/Stop on visibility
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
          running = false;
        } else {
          if (!prefersReduced) running = true;
          updateToggleUI();
          raf();
        }
      });

      // Initial paint
      render();
      if (running) raf();
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


