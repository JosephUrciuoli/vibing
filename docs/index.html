<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="solaris" aria-label="Solaris Sundial">
  <style>
    .solaris {
      --sky-top: hsl(230 70% 9%);
      --sky-bottom: hsl(248 60% 5%);
      --horizon: hsl(260 60% 12%);
      --ring: hsl(205 100% 70%);
      --text: #eef2ff;
      --muted: #cbd5e1;
      --glow: 0 20px 80px rgba(0,0,0,.45);
      --radius: 22px;
      position: relative;
      border-radius: var(--radius);
      overflow: hidden;
      min-height: clamp(360px, 56vh, 760px);
      padding: clamp(18px, 4.5vw, 48px);
      color: var(--text);
      background:
        radial-gradient(1200px 600px at 50% 130%, var(--horizon) 10%, transparent 60%),
        linear-gradient(180deg, var(--sky-top), var(--sky-bottom));
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,.05),
        0 22px 70px rgba(0,0,0,.5);
      font: 500 16px/1.5 ui-sans-serif, system-ui, -apple-system, Segoe UI, Inter, Roboto, "Helvetica Neue", Arial;
      isolation: isolate;
    }

    /* soft halo grain */
    .solaris .grain {
      position: absolute;
      inset: -2px;
      pointer-events: none;
      mix-blend-mode: soft-light;
      opacity: .5;
      background:
        radial-gradient(200% 140% at 70% -20%, rgba(255,255,255,.07), transparent 60%),
        radial-gradient(170% 130% at -10% 120%, rgba(255,255,255,.05), transparent 60%),
        repeating-conic-gradient(from 0deg, rgba(255,255,255,.02) 0 6deg, transparent 6deg 12deg);
      z-index: 0;
    }

    /* distant stars */
    .solaris .stars {
      position: absolute;
      inset: 0;
      background:
        radial-gradient(2px 2px at 10% 20%, #fff, transparent 60%),
        radial-gradient(1.5px 1.5px at 80% 30%, #fff, transparent 60%),
        radial-gradient(1.5px 1.5px at 60% 70%, #fff, transparent 60%),
        radial-gradient(1px 1px at 30% 85%, #fff, transparent 60%),
        radial-gradient(1.5px 1.5px at 25% 35%, #fff, transparent 60%),
        radial-gradient(1px 1px at 70% 15%, #fff, transparent 60%),
        radial-gradient(1px 1px at 45% 55%, #fff, transparent 60%),
        radial-gradient(2px 2px at 90% 80%, #fff, transparent 60%);
      filter: drop-shadow(0 0 6px rgba(255,255,255,.2));
      opacity: .0; /* raised by JS at night */
      transition: opacity .8s ease;
      z-index: 0;
      pointer-events: none;
    }

    .solaris .header {
      position: relative;
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 12px;
      margin-bottom: clamp(16px, 3vw, 26px);
      z-index: 2;
    }
    .solaris .kicker {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 12px;
      border-radius: 999px;
      background: rgba(255,255,255,.08);
      border: 1px solid rgba(255,255,255,.18);
      font-size: 12px;
      letter-spacing: .06em;
      text-transform: uppercase;
      color: var(--text);
      text-shadow: 0 1px 12px rgba(255,255,255,.12);
    }
    .solaris .kicker .dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--ring);
      box-shadow: 0 0 10px var(--ring);
    }
    .solaris .title {
      margin: 0;
      font-size: clamp(28px, 6vw, 64px);
      letter-spacing: -0.02em;
      line-height: 1.02;
      text-shadow: 0 4px 42px rgba(0,0,0,.35), 0 2px 14px rgba(25,135,255,.25);
    }
    .solaris .tagline {
      margin: 6px 0 0;
      color: var(--muted);
      font-size: clamp(14px, 1.6vw, 18px);
    }

    /* Dial */
    .solaris .dial-wrap {
      display: grid;
      place-items: center;
      margin: clamp(8px, 3vw, 22px) 0;
      z-index: 2;
    }
    .solaris .dial {
      position: relative;
      width: clamp(240px, 45vmin, 520px);
      aspect-ratio: 1;
      border-radius: 50%;
      background:
        radial-gradient(50% 50% at 50% 50%, rgba(255,255,255,.08), rgba(255,255,255,.02) 60%, transparent 62%),
        radial-gradient(60% 60% at 50% 50%, rgba(255,255,255,.05), transparent 62%);
      border: 1px solid rgba(255,255,255,.18);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,.06),
        0 18px 60px rgba(0,0,0,.35);
      overflow: hidden;
      transform: translateZ(0);
    }
    .solaris .ticks {
      position: absolute; inset: 8%;
      border-radius: 50%;
      background:
        conic-gradient(from -90deg,
          rgba(255,255,255,.18) 0 0.5deg, transparent 0.5deg 6deg);
      mask: radial-gradient(closest-side, transparent calc(100% - 2px), black calc(100% - 0px));
      opacity: .7;
      filter: drop-shadow(0 0 10px rgba(255,255,255,.1));
    }
    .solaris .ring {
      position: absolute; inset: 4%;
      border-radius: 50%;
      background: conic-gradient(from 0deg, rgba(255,255,255,.06), rgba(255,255,255,.0));
      border: 1px solid rgba(255,255,255,.16);
      box-shadow: inset 0 0 40px rgba(255,255,255,.05);
      animation: ring-spin 28s linear infinite;
    }
    .solaris .ring.r2 { inset: 10%; animation-duration: 46s; opacity: .7; }
    @keyframes ring-spin { to { transform: rotate(360deg); } }

    .solaris .body {
      position: absolute; inset: 0; display: grid; place-items: center;
    }
    .solaris .orbit { position: absolute; inset: 2%; border-radius: 50%; }

    .solaris .node {
      --angle: 0deg;
      --r: 42%;
      position: absolute;
      top: 50%; left: 50%;
      width: clamp(18px, 2.8vmin, 24px); height: clamp(18px, 2.8vmin, 24px);
      border-radius: 50%;
      transform: translate(-50%,-50%) rotate(var(--angle)) translate(var(--r)) rotate(calc(-1 * var(--angle)));
      box-shadow: 0 0 0 2px rgba(255,255,255,.2), 0 0 24px rgba(255,255,255,.25);
      transition: opacity .6s ease;
    }
    .solaris .sun {
      background: radial-gradient(circle at 30% 30%, #fff, hsl(45 100% 65%) 40%, hsl(35 98% 55%) 65%, transparent 68%);
      box-shadow:
        0 0 0 1px rgba(255,255,255,.35),
        0 0 40px hsl(42 100% 60% / .7),
        0 0 120px hsl(42 100% 60% / .35);
    }
    .solaris .moon {
      background: radial-gradient(circle at 65% 35%, hsl(210 20% 98%), hsl(220 16% 80%) 60%, transparent 65%),
                  radial-gradient(circle at 40% 60%, rgba(0,0,0,.15), transparent 45%);
      filter: saturate(80%);
      width: clamp(14px, 2.2vmin, 18px); height: clamp(14px, 2.2vmin, 18px);
      --r: 48%;
      opacity: .8;
      box-shadow:
        0 0 0 1px rgba(255,255,255,.25),
        0 0 24px rgba(180,200,255,.3);
    }

    .solaris .center {
      position: absolute; inset: 24% 24%;
      border-radius: 50%;
      display: grid; place-items: center;
      background: radial-gradient(60% 60% at 50% 50%, rgba(255,255,255,.06), rgba(255,255,255,.02) 70%, transparent 72%);
      border: 1px solid rgba(255,255,255,.14);
      box-shadow: inset 0 0 40px rgba(255,255,255,.08);
    }

    .solaris .time {
      display: inline-flex; align-items: baseline; gap: 10px;
      font-variant-numeric: tabular-nums;
      text-shadow: 0 2px 20px rgba(0,0,0,.45);
    }
    .solaris .clock {
      font-size: clamp(28px, 5.2vw, 54px);
      letter-spacing: -0.02em;
    }
    .solaris .sec, .solaris .ampm {
      font-size: clamp(12px, 1.6vw, 14px);
      color: var(--muted);
      opacity: .9;
      transform: translateY(2px);
    }

    /* Controls */
    .solaris .controls {
      display: grid;
      grid-template-columns: 1fr auto;
      gap: 14px;
      align-items: center;
      margin-top: clamp(10px, 2.2vw, 18px);
      z-index: 2;
    }
    @media (max-width: 560px) { .solaris .controls { grid-template-columns: 1fr; } }

    .solaris .label {
      display: flex; align-items: center; justify-content: space-between;
      font-size: 12px; color: var(--muted);
      margin-bottom: 6px;
      letter-spacing: .02em;
    }
    .solaris .value { color: #eaf1ff; opacity: .85; margin-left: 10px; font-variant-numeric: tabular-nums; }

    .solaris input[type="range"] {
      -webkit-appearance: none; appearance: none; width: 100%; height: 36px; background: transparent;
    }
    .solaris input[type="range"]::-webkit-slider-runnable-track,
    .solaris input[type="range"]::-moz-range-track {
      height: 10px; border-radius: 999px;
      background: linear-gradient(90deg, hsl(200 80% 60%), hsl(40 90% 60%), hsl(260 70% 65%));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.22), 0 1px 14px rgba(0,0,0,.35);
    }
    .solaris input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none; appearance: none;
      width: 24px; height: 24px; border-radius: 50%;
      background: #fff;
      border: 2px solid rgba(255,255,255,.6);
      box-shadow: 0 0 0 6px rgba(255,255,255,.12), 0 8px 28px rgba(38,139,255,.45);
      margin-top: -7px;
    }
    .solaris input[type="range"]::-moz-range-thumb {
      width: 24px; height: 24px; border-radius: 50%;
      background: #fff;
      border: 2px solid rgba(255,255,255,.6);
      box-shadow: 0 0 0 6px rgba(255,255,255,.12), 0 8px 28px rgba(38,139,255,.45);
    }

    .solaris .btn {
      -webkit-tap-highlight-color: transparent;
      cursor: pointer;
      display: inline-flex; align-items: center; gap: 10px;
      padding: 10px 14px;
      border-radius: 12px;
      border: 1px solid rgba(255,255,255,.18);
      color: var(--text);
      background: linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06));
      font-weight: 700;
      letter-spacing: .01em;
      box-shadow: 0 6px 26px rgba(0,0,0,.28);
      transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease;
    }
    .solaris .btn:hover { transform: translateY(-1px); border-color: rgba(255,255,255,.28); box-shadow: 0 10px 30px rgba(0,0,0,.35); }
    .solaris .btn .pulse {
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--ring);
      box-shadow: 0 0 0 0 var(--ring);
      animation: pulse 2.2s ease-out infinite;
    }
    @keyframes pulse {
      0%   { box-shadow: 0 0 0 0 hsl(205 100% 70% / .6); }
      70%  { box-shadow: 0 0 0 12px hsl(205 100% 70% / 0); }
      100% { box-shadow: 0 0 0 0 hsl(205 100% 70% / 0); }
    }

    /* Footer */
    .solaris .footer {
      display: flex; flex-wrap: wrap; gap: 12px 18px; align-items: baseline;
      margin-top: clamp(12px, 2.6vw, 20px);
      color: var(--muted);
      font-size: 12px;
      z-index: 2;
    }
    .solaris .badge {
      display: inline-flex; align-items: center; gap: 8px;
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.16);
      padding: 6px 10px;
      border-radius: 999px;
      color: #e7eeff;
    }
    .solaris .quote {
      position: relative;
      margin-top: 8px;
      font-style: italic;
      color: #d8e1f3;
      opacity: .95;
      transition: opacity .6s ease, transform .6s ease;
    }
    .solaris .quote.fade {
      opacity: .0; transform: translateY(6px);
    }
  </style>

  <div class="grain" aria-hidden="true"></div>
  <div class="stars" aria-hidden="true"></div>

  <div class="header">
    <div>
      <div class="kicker"><span class="dot" aria-hidden="true"></span> Iteration 825</div>
      <h1 class="title">SOLARIS</h1>
      <p class="tagline">Time, drawn in light. A living sundial for the screen.</p>
    </div>
  </div>

  <div class="dial-wrap">
    <div class="dial" id="dial" aria-label="A circular dial with sun and moon representing the time of day">
      <div class="ring r1" aria-hidden="true"></div>
      <div class="ring r2" aria-hidden="true"></div>
      <div class="ticks" aria-hidden="true"></div>

      <div class="body">
        <div class="orbit">
          <div class="node sun" id="sun" aria-hidden="true"></div>
          <div class="node moon" id="moon" aria-hidden="true"></div>
        </div>
      </div>

      <div class="center" aria-hidden="true"></div>

      <div class="body">
        <div class="time" aria-live="polite">
          <span class="clock" id="clock">--:--</span>
          <span class="sec" id="sec">--</span>
          <span class="ampm" id="ampm">--</span>
        </div>
      </div>
    </div>
  </div>

  <div class="controls" role="group" aria-label="Sky controls">
    <div class="control">
      <div class="label">
        <span>Scrub the day</span>
        <span class="value" id="scrubValue">LIVE</span>
      </div>
      <input id="scrub" type="range" min="0" max="24" step="0.05" value="0" aria-label="Choose hour of day">
    </div>
    <button class="btn" id="toggleLive" aria-pressed="true" title="Toggle live sky">
      <span class="pulse" aria-hidden="true"></span>
      <span class="btn-text">Live sky</span>
    </button>
  </div>

  <div class="footer">
    <span class="badge">Designed for quiet focus</span>
    <span>•</span>
    <span id="last-updated">Last updated: 2025-11-23 06:13:52 EST</span>
    <div class="quote" id="quote">“Make space; let the light do the talking.”</div>
  </div>

  <script>
    (function () {
      const root = document.currentScript.closest('.solaris');
      const stars = root.querySelector('.stars');
      const sun = root.querySelector('#sun');
      const moon = root.querySelector('#moon');
      const clock = root.querySelector('#clock');
      const sec = root.querySelector('#sec');
      const ampm = root.querySelector('#ampm');
      const scrub = root.querySelector('#scrub');
      const scrubValue = root.querySelector('#scrubValue');
      const toggleLive = root.querySelector('#toggleLive');
      const quoteEl = root.querySelector('#quote');
      const last = root.querySelector('#last-updated');

      // Last updated stamp
      try {
        const now = new Date();
        const fmt = new Intl.DateTimeFormat([], { dateStyle: 'medium', timeStyle: 'short' });
        last.textContent = 'Last updated: ' + fmt.format(now);
      } catch (e) {
        last.textContent = 'Last updated: ' + new Date().toLocaleString();
      }

      const quotes = [
        '“Make space; let the light do the talking.”',
        '“Quiet is a feature.”',
        '“Design is the choreography of attention.”',
        '“Edges whisper; centers glow.”',
        '“Clarity loves restraint.”'
      ];
      let qi = 0;

      let live = true;
      let raf;
      let lastTick = 0;

      function clamp01(v){ return Math.max(0, Math.min(1, v)); }
      function lerp(a,b,t){ return a + (b-a) * t; }
      function hsl(h,s,l){ return `hsl(${h} ${s}% ${l}%)`; }

      function setSky(phase) {
        // phase: 0..1, 0 = midnight, 0.5 = noon
        const twoPi = Math.PI * 2;
        const daylight = (Math.cos((phase - 0.5) * twoPi) + 1) / 2; // 0 at midnight, 1 at noon
        const twilight = clamp01(Math.exp(-Math.pow((phase - 0.25)/0.12, 2)) + Math.exp(-Math.pow((phase - 0.75)/0.12, 2)));

        // Sky top/bottom hues blend from night violet to day azure
        const topHue = lerp(255, 205, daylight);
        const topLight = lerp(10, 78, daylight);
        const botHue = lerp(250, 200, daylight);
        const botLight = lerp(6, 62, daylight);

        // Horizon warms at twilight
        const warmHue = 28, warmSat = 90, warmLight = 62;
        const dayHue = 200, daySat = 80, dayLight = 55;
        const nightHue = 260, nightSat = 60, nightLight = 12;

        const horizonH = lerp(lerp(nightHue, dayHue, daylight), warmHue, clamp01(twilight));
        const horizonS = lerp(lerp(nightSat, daySat, daylight), warmSat, clamp01(twilight));
        const horizonL = lerp(lerp(nightLight, dayLight, daylight), warmLight, clamp01(twilight));

        root.style.setProperty('--sky-top', hsl(topHue, 65, topLight));
        root.style.setProperty('--sky-bottom', hsl(botHue, 70, botLight));
        root.style.setProperty('--horizon', hsl(horizonH, horizonS, horizonL));

        // Ring accent follows day hue
        root.style.setProperty('--ring', hsl(lerp(205, 46, clamp01(twilight*0.8)), 90, lerp(70, 60, clamp01(twilight*0.8))));

        // Stars visible at night
        stars.style.opacity = String(Math.pow(1 - daylight, 0.9));

        // Sun/Moon position + visibility
        const angle = (phase * 360) - 90; // -90 places 0 at top
        sun.style.setProperty('--angle', angle + 'deg');
        moon.style.setProperty('--angle', (angle + 180) + 'deg');

        sun.style.opacity = String(0.15 + 0.85 * daylight);
        moon.style.opacity = String(0.1 + 0.9 * (1 - daylight));
      }

      function updateTimeDisplay(d) {
        const hh = d.getHours();
        const mm = d.getMinutes();
        const ss = d.getSeconds();
        const h12 = ((hh + 11) % 12) + 1;
        clock.textContent = String(h12).padStart(2,'0') + ':' + String(mm).padStart(2,'0');
        sec.textContent = String(ss).padStart(2,'0');
        ampm.textContent = hh >= 12 ? 'PM' : 'AM';
      }

      function currentPhaseFromDate(d) {
        return (d.getHours() + d.getMinutes()/60 + d.getSeconds()/3600) / 24;
      }

      function tick(now) {
        if (!live) return;
        const d = new Date();
        setSky(currentPhaseFromDate(d));
        updateTimeDisplay(d);

        if (!lastTick || now - lastTick > 6000) {
          rotateQuote();
          lastTick = now;
        }
        raf = requestAnimationFrame(tick);
      }

      function start() {
        cancelAnimationFrame(raf);
        raf = requestAnimationFrame(tick);
      }

      function stop() {
        cancelAnimationFrame(raf);
      }

      function rotateQuote() {
        if (!quoteEl) return;
        quoteEl.classList.add('fade');
        setTimeout(() => {
          qi = (qi + 1) % quotes.length;
          quoteEl.textContent = quotes[qi];
          quoteEl.classList.remove('fade');
        }, 320);
      }

      // Controls
      toggleLive.addEventListener('click', () => {
        live = !live;
        toggleLive.setAttribute('aria-pressed', String(live));
        toggleLive.querySelector('.btn-text').textContent = live ? 'Live sky' : 'Scrub mode';
        scrubValue.textContent = live ? 'LIVE' : `${Number(scrub.value).toFixed(2)} h`;
        if (live) {
          start();
        } else {
          stop();
        }
      });

      function scrubUpdate() {
        if (live) return;
        const hours = Number(scrub.value);
        scrubValue.textContent = `${hours.toFixed(2)} h`;
        const fakeDate = new Date();
        fakeDate.setHours(Math.floor(hours), Math.floor((hours % 1) * 60), Math.floor(((hours*60) % 1) * 60));
        updateTimeDisplay(fakeDate);
        setSky(hours / 24);
      }
      scrub.addEventListener('input', scrubUpdate);

      // Initialize
      live = true;
      toggleLive.setAttribute('aria-pressed', 'true');
      toggleLive.querySelector('.btn-text').textContent = 'Live sky';
      scrubValue.textContent = 'LIVE';
      setSky(currentPhaseFromDate(new Date()));
      updateTimeDisplay(new Date());
      start();

      // Tilt shimmer on pointer
      const dial = root.querySelector('#dial');
      let tiltRaf = null;
      function onMove(e) {
        if (!dial) return;
        if (tiltRaf) cancelAnimationFrame(tiltRaf);
        tiltRaf = requestAnimationFrame(() => {
          const rect = dial.getBoundingClientRect();
          const x = (e.clientX - rect.left) / rect.width - 0.5;
          const y = (e.clientY - rect.top) / rect.height - 0.5;
          dial.style.transform = `rotateX(${(-y*6).toFixed(2)}deg) rotateY(${(x*8).toFixed(2)}deg)`;
        });
      }
      dial.addEventListener('pointermove', onMove);
      dial.addEventListener('pointerleave', () => { dial.style.transform = 'rotateX(0deg) rotateY(0deg)'; }, { passive: true });
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


