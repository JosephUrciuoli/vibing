<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div class="vibe418" aria-label="Helios Atelier — Kinetic Sundial">
  <style>
    .vibe418{
      --bg-1:#070b14;
      --bg-2:#101a2f;
      --ink:#eef3ff;
      --muted:#a5b1cc;
      --line:rgba(255,255,255,0.18);
      --glass:rgba(255,255,255,0.06);
      --accent:#ffd36e;  /* dawn gold */
      --accent-2:#57b5ff;/* sky blue */
      --accent-3:#b07bff;/* heliotrope */
      --accent-4:#02c39a;/* mint */
      --shadow:0 30px 90px rgba(5,12,30,0.55);
      color:var(--ink);
      font:500 15.5px/1.55 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      position:relative; isolation:isolate; overflow:hidden; min-height:620px;
      border-radius:28px; padding:clamp(18px,3.8vw,38px);
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
    }
    .vibe418.is-light{
      --bg-1:#f7fbff;
      --bg-2:#e9f3ff;
      --ink:#10142a;
      --muted:#5a6a85;
      --line:rgba(0,22,60,0.16);
      --glass:rgba(255,255,255,0.66);
      --accent:#ffb300;
      --accent-2:#2e7dff;
      --accent-3:#9b4bff;
      --accent-4:#00b894;
      --shadow:0 22px 64px rgba(16,60,120,0.18);
    }

    /* Deep scene */
    .vibe418 .scene{
      position:absolute; inset:-8vmax; z-index:-3;
      background:
        radial-gradient(90vmax 70vmax at -10% 110%, color-mix(in oklab, var(--accent-3) 22%, transparent), transparent 60%),
        radial-gradient(80vmax 70vmax at 120% -20%, color-mix(in oklab, var(--accent-2) 22%, transparent), transparent 60%),
        linear-gradient(140deg, var(--bg-1), var(--bg-2));
      filter:saturate(1.08);
    }
    .vibe418 .stars{ position:absolute; inset:0; pointer-events:none; z-index:-2; }
    .vibe418 .stars span{
      position:absolute; width:2px; height:2px; border-radius:50%;
      background:radial-gradient(circle at 50% 50%, #fff, #fff0 70%);
      opacity:0.65; animation:v418-twinkle 4.4s ease-in-out infinite;
    }
    @keyframes v418-twinkle{ 0%,100%{ transform:scale(0.9); opacity:0.38;} 50%{ transform:scale(1.6); opacity:0.9;} }

    /* Subtle grid */
    .vibe418 .grid{
      position:absolute; inset:-2px; z-index:-1; pointer-events:none;
      background:
        radial-gradient(circle at 50% 50%, color-mix(in oklab, var(--ink) 12%, transparent), transparent 70%) center/180% 180% no-repeat,
        repeating-linear-gradient(0deg, color-mix(in oklab, var(--ink) 5%, transparent) 0 1px, transparent 1px 40px),
        repeating-linear-gradient(90deg, color-mix(in oklab, var(--ink) 5%, transparent) 0 1px, transparent 1px 40px);
      opacity:0.06;
      mask:radial-gradient(140% 120% at 50% 50%, #000, transparent 70%);
      animation:v418-breathe 18s ease-in-out infinite alternate;
      transform-origin:center;
    }
    @keyframes v418-breathe{
      0%{transform:perspective(900px) rotateX(6deg) rotateY(-5deg) translateY(0);}
      100%{transform:perspective(900px) rotateX(-5deg) rotateY(6deg) translateY(-8px);}
    }

    /* Card */
    .vibe418 .card{
      max-width:min(1120px,96vw); margin:0 auto; position:relative; overflow:clip;
      background:var(--glass); border:1px solid var(--line); border-radius:24px;
      box-shadow:var(--shadow); padding:clamp(18px,4.6vw,36px);
      backdrop-filter:blur(16px) saturate(1.2); -webkit-backdrop-filter:blur(16px) saturate(1.2);
    }
    .vibe418 .card::before{
      content:""; position:absolute; inset:-1px; border-radius:inherit; padding:1px;
      background:linear-gradient(120deg, color-mix(in oklab, var(--accent-2) 55%, transparent), transparent 45%, color-mix(in oklab, var(--accent) 60%, transparent) 75%, transparent);
      -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite:xor; mask-composite:exclude; pointer-events:none; opacity:0.5;
    }

    /* Header */
    .vibe418 .top{ display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:6px;}
    .vibe418 .badge{
      display:inline-flex; align-items:center; gap:10px; padding:8px 12px;
      border-radius:999px; border:1px solid var(--line);
      background:linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06));
      color:var(--muted); font-size:12px; letter-spacing:0.26px; text-transform:uppercase;
    }
    .vibe418 .led{ width:8px; height:8px; border-radius:50%;
      background:radial-gradient(circle at 40% 40%, var(--accent), var(--accent-2));
      box-shadow:0 0 0 6px color-mix(in oklab, var(--accent) 20%, transparent);
      animation:v418-pulse 2.4s ease-in-out infinite;
    }
    @keyframes v418-pulse{ 0%,100%{transform:scale(1); opacity:1;} 50%{transform:scale(0.8); opacity:0.7;} }

    .vibe418 .controls{ display:flex; gap:8px; align-items:center; flex-wrap:wrap;}
    .vibe418 .slider{ display:flex; align-items:center; gap:10px; padding:6px 10px; border-radius:12px; border:1px solid var(--line);
      background:linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.05)); height:44px; }
    .vibe418 .slider label{ font-size:12px; color:var(--muted); text-transform:uppercase; letter-spacing:0.22px;}
    .vibe418 input[type="range"]{ -webkit-appearance:none; appearance:none; width:140px; height:28px; background:transparent; cursor:pointer;}
    .vibe418 input[type="range"]::-webkit-slider-runnable-track{
      height:6px; border-radius:999px; border:1px solid var(--line);
      background:linear-gradient(90deg, var(--accent), var(--accent-2), var(--accent-3));
      box-shadow:inset 0 0 0 3px rgba(0,0,0,0.08);
    }
    .vibe418 input[type="range"]::-moz-range-track{ height:6px; border-radius:999px; background:linear-gradient(90deg, var(--accent), var(--accent-2), var(--accent-3)); border:1px solid var(--line); }
    .vibe418 input[type="range"]::-webkit-slider-thumb{
      -webkit-appearance:none; appearance:none; width:18px; height:18px; border-radius:50%; margin-top:-6px;
      background:radial-gradient(circle at 40% 40%, #fff8, #fff0),
                 radial-gradient(circle at 50% 50%, color-mix(in oklab, var(--accent) 55%, #fff), color-mix(in oklab, var(--accent-2) 40%, #fff) 60%);
      box-shadow:0 2px 10px rgba(0,0,0,0.25), inset 0 0 0 2px rgba(255,255,255,0.6);
      border:none;
    }
    .vibe418 input[type="range"]::-moz-range-thumb{
      width:18px; height:18px; border-radius:50%; border:none;
      background:radial-gradient(circle at 50% 50%, color-mix(in oklab, var(--accent) 55%, #fff), color-mix(in oklab, var(--accent-2) 40%, #fff) 60%);
      box-shadow:0 2px 10px rgba(0,0,0,0.25), inset 0 0 0 2px rgba(255,255,255,0.6);
    }
    .vibe418 .ctrl{
      width:44px; height:44px; display:grid; place-items:center; border-radius:12px; cursor:pointer;
      border:1px solid var(--line); background:linear-gradient(180deg, rgba(255,255,255,0.16), rgba(255,255,255,0.05));
      color:var(--ink); box-shadow:0 8px 20px rgba(0,0,0,0.18);
      transition:transform 180ms ease, background 180ms ease; -webkit-tap-highlight-color:transparent;
    }
    .vibe418 .ctrl:hover{ transform:translateY(-2px);}
    .vibe418 .ctrl:focus-visible{ outline:2px solid color-mix(in oklab, var(--accent-2) 60%, transparent); outline-offset:3px;}
    .vibe418 .ico{ width:20px; height:20px; }
    .vibe418 .ico.sun{
      background:radial-gradient(circle at 40% 40%, #fff8, #fff0),
                 radial-gradient(circle at 50% 50%, color-mix(in oklab, var(--accent) 55%, #fff), color-mix(in oklab, var(--accent-2) 40%, #fff) 60%);
      border-radius:50%; box-shadow:0 0 0 2px rgba(255,255,255,0.35) inset;
    }
    .vibe418 .ico.moon{
      border-radius:50%;
      background:radial-gradient(circle at 62% 38%, rgba(0,0,0,0.78) 0 40%, transparent 44%),
                 radial-gradient(circle at 50% 50%, #e6e9ff, #cdd7ff 60%);
      box-shadow:0 0 0 2px rgba(0,0,0,0.15) inset;
    }
    .vibe418.is-light .ico.moon{ display:none; }
    .vibe418:not(.is-light) .ico.sun{ display:none; }

    /* Title */
    .vibe418 .title{
      margin:8px 0 6px; font-weight:850; letter-spacing:-0.02em;
      font-size:clamp(36px,6.6vw,76px); line-height:1.02;
      background:linear-gradient(90deg, var(--ink) 0 12%, color-mix(in oklab, var(--accent-2) 85%, #fff) 40%, color-mix(in oklab, var(--accent) 80%, #fff) 68%, var(--ink) 95%);
      background-size:200% 100%; -webkit-background-clip:text; background-clip:text; color:transparent;
      animation:v418-sheen 9s ease-in-out infinite;
    }
    @keyframes v418-sheen{ 0%,100%{background-position:0% 50%;} 50%{background-position:100% 50%;} }
    .vibe418 .subtitle{ color:var(--muted); margin:8px 0 16px; font-size:clamp(14px,2.2vw,18px); }

    /* Layout */
    .vibe418 .stage{ display:grid; grid-template-columns:1.05fr 1fr; gap:clamp(16px,4.4vw,36px); align-items:center; }
    @media (max-width:900px){ .vibe418 .stage{ grid-template-columns:1fr; } }

    /* DIAL */
    .vibe418 .dial-wrap{ position:relative; }
    .vibe418 .dial{
      --tx:0deg; --ty:0deg;
      width:min(560px,88vw); aspect-ratio:1/1; position:relative; margin:4px auto 8px;
      transform:perspective(1200px) rotateX(var(--tx)) rotateY(var(--ty));
      transition:transform 240ms ease;
    }
    .vibe418 .spot{
      position:absolute; width:220px; height:220px; border-radius:50%; pointer-events:none;
      background:radial-gradient(closest-side, rgba(255,255,255,0.26), rgba(255,255,255,0.08) 60%, transparent 70%);
      mix-blend-mode:screen; transform:translate(-50%,-50%); opacity:0; transition:opacity 200ms ease;
    }
    .vibe418.is-light .spot{ mix-blend-mode:multiply; background:radial-gradient(closest-side, rgba(0,0,0,0.10), rgba(0,0,0,0.04) 60%, transparent 70%); }

    .vibe418 .sun{
      position:absolute; inset:42% 42%; border-radius:50%;
      background:
        radial-gradient(closest-side, color-mix(in oklab, var(--accent) 65%, #fff), color-mix(in oklab, var(--accent-2) 30%, transparent) 70%),
        radial-gradient(closest-side, rgba(255,255,255,0.85), rgba(255,255,255,0.0) 70%);
      box-shadow:0 0 60px color-mix(in oklab, var(--accent) 60%, transparent), 0 0 120px color-mix(in oklab, var(--accent-2) 40%, transparent);
      filter:saturate(1.1);
    }

    .vibe418 .ring{
      position:absolute; inset:var(--inset,0); border-radius:50%; transform:rotate(var(--a, 0deg));
      background:conic-gradient(from 0deg,
        color-mix(in oklab, var(--accent) 40%, #fff) 0 14%,
        color-mix(in oklab, var(--accent-2) 50%, #fff) 14% 38%,
        color-mix(in oklab, var(--accent-3) 50%, #fff) 38% 62%,
        color-mix(in oklab, var(--accent-4) 45%, #fff) 62% 86%,
        color-mix(in oklab, var(--accent) 40%, #fff) 86% 100%);
      filter:saturate(1.14) brightness(1.02);
    }
    .vibe418 .ring::before{
      content:""; position:absolute; inset:0; border-radius:inherit; padding:var(--t,14px);
      background:inherit;
      -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite:xor; mask-composite:exclude; pointer-events:none;
    }
    /* tick marks */
    .vibe418 .ring::after{
      content:""; position:absolute; inset:var(--tickInset,8px); border-radius:inherit; opacity:0.45;
      background:
        repeating-conic-gradient(from 0deg, color-mix(in oklab, var(--ink) 22%, transparent) 0 2deg, transparent 2deg 12deg);
      -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite:xor; mask-composite:exclude; padding:var(--tickT,10px);
      filter:blur(0.4px);
    }

    .vibe418 .r1{ --inset:0;     --t:18px; --tickInset:6px;  --tickT:14px; mix-blend-mode:screen; }
    .vibe418 .r2{ --inset:28px;  --t:16px; --tickInset:26px; --tickT:12px; mix-blend-mode:screen; }
    .vibe418 .r3{ --inset:64px;  --t:14px; --tickInset:58px; --tickT:11px; mix-blend-mode:screen; }
    .vibe418 .r4{ --inset:102px; --t:12px; --tickInset:96px; --tickT:10px; mix-blend-mode:screen; }
    .vibe418 .r5{ --inset:144px; --t:10px; --tickInset:136px; --tickT:9px;  mix-blend-mode:screen; }
    .vibe418.is-light .ring, .vibe418.is-light .ring::after{ mix-blend-mode:multiply; }

    .vibe418 .flare{
      position:absolute; inset:18% 18%; border-radius:50%;
      background:
        conic-gradient(from 0deg, rgba(255,255,255,0.0) 0 42%, rgba(255,255,255,0.4) 47%, rgba(255,255,255,0.0) 52%, rgba(255,255,255,0.25) 78%, rgba(255,255,255,0.0) 82%);
      filter:blur(8px);
      transform:rotate(var(--f,0deg));
      opacity:0.8;
    }

    /* Copy */
    .vibe418 .copy h2{ margin:0 0 8px; font-weight:780; letter-spacing:-0.01em; font-size:clamp(18px,2.2vw,22px); color:var(--ink);}
    .vibe418 .copy p{ color:var(--muted); margin:0 0 14px;}
    .vibe418 .chips{ display:flex; gap:8px; flex-wrap:wrap; margin:10px 0 16px;}
    .vibe418 .chip{
      padding:8px 12px; border-radius:999px; border:1px solid var(--line);
      background:linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06));
      font-size:12px; color:var(--ink); cursor:pointer; -webkit-tap-highlight-color:transparent;
      transition:transform 150ms ease, background 150ms ease, color 150ms ease, box-shadow 150ms ease;
      user-select:none;
    }
    .vibe418 .chip:hover{ transform:translateY(-2px); }
    .vibe418 .chip[aria-pressed="true"]{
      background:linear-gradient(135deg, var(--accent-2), var(--accent));
      color:#0d1222; font-weight:750; border-color:transparent;
      box-shadow:0 10px 22px color-mix(in oklab, var(--accent-2) 28%, transparent);
    }

    .vibe418 .actions{ display:flex; gap:12px; flex-wrap:wrap; }
    .vibe418 .btn{
      position:relative; display:inline-flex; align-items:center; justify-content:center; gap:10px;
      padding:12px 16px; border-radius:14px; font-weight:780; letter-spacing:0.2px; text-decoration:none; cursor:pointer;
      border:1px solid var(--line); -webkit-tap-highlight-color:transparent;
      transition:transform 180ms ease, box-shadow 220ms ease, background 180ms ease, color 180ms ease;
      color:var(--ink); background:linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06));
    }
    .vibe418 .btn.primary{
      color:#0a1020; background:linear-gradient(135deg, var(--accent-2), var(--accent));
      box-shadow:0 12px 28px color-mix(in oklab, var(--accent-2) 30%, transparent);
    }
    .vibe418 .btn:hover{ transform:translateY(-2px); }
    .vibe418 .btn:focus-visible{ outline:2px solid color-mix(in oklab, var(--accent-2) 60%, transparent); outline-offset:3px; }

    /* Meta */
    .vibe418 .meta{ margin-top:18px; display:flex; gap:12px; align-items:center; flex-wrap:wrap; color:var(--muted); font-size:12px;}
    .vibe418 .timeline{ --p:30%;
      flex:1 1 200px; height:10px; border-radius:999px; overflow:hidden;
      border:1px solid var(--line); background:linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04)); position:relative;
    }
    .vibe418 .timeline span{ position:absolute; inset:0; width:var(--p);
      background:linear-gradient(90deg, var(--accent), var(--accent-2), var(--accent-3));
      filter:saturate(1.1); transform-origin:left center;
    }

    /* Flash */
    .vibe418 .flash::after{
      content:""; position:absolute; inset:-2px; border-radius:inherit;
      background:radial-gradient(120% 120% at 50% 50%, rgba(255,255,255,0.65), transparent 60%);
      animation:v418-flash 360ms ease-out both; pointer-events:none;
    }
    @keyframes v418-flash{ from{opacity:0;} 40%{opacity:1;} to{opacity:0;} }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      .vibe418 .grid, .vibe418 .ring, .vibe418 .flare, .vibe418 .spot, .vibe418 .title, .vibe418 .stars span{ animation:none !important; transition:none !important;}
    }
  </style>

  <div class="scene" aria-hidden="true"></div>
  <div class="stars" aria-hidden="true"></div>
  <div class="grid" aria-hidden="true"></div>

  <section class="card" id="v418-card" aria-label="Hero">
    <div class="top">
      <div class="badge"><span class="led" aria-hidden="true"></span> Vibe 418 — Helios Atelier</div>
      <div class="controls">
        <div class="slider" role="group" aria-label="Tempo">
          <label for="v418-tempo">Tempo</label>
          <input id="v418-tempo" type="range" min="0.25" max="2.5" step="0.01" value="1">
        </div>
        <button class="ctrl" id="v418-theme" aria-label="Toggle Light/Dark" aria-pressed="false">
          <span class="ico sun" aria-hidden="true"></span>
          <span class="ico moon" aria-hidden="true"></span>
        </button>
        <button class="ctrl" id="v418-pause" aria-label="Pause orbit" aria-pressed="false">
          <svg class="ico" viewBox="0 0 24 24" aria-hidden="true">
            <rect x="5" y="4" width="5" height="16" rx="1.5" fill="currentColor"></rect>
            <rect x="14" y="4" width="5" height="16" rx="1.5" fill="currentColor"></rect>
          </svg>
        </button>
      </div>
    </div>

    <h1 class="title">Helios Atelier</h1>
    <p class="subtitle">A kinetic sundial for your screen. Tilt with your pointer; choose a sky. Let the orbits draw time.</p>

    <div class="stage">
      <div class="dial-wrap">
        <div class="dial" id="v418-dial" aria-label="Generative kinetic sundial" role="img">
          <div class="ring r1"></div>
          <div class="ring r2"></div>
          <div class="ring r3"></div>
          <div class="ring r4"></div>
          <div class="ring r5"></div>
          <div class="flare" aria-hidden="true"></div>
          <div class="sun" aria-hidden="true"></div>
          <div class="spot" id="v418-spot" aria-hidden="true"></div>
        </div>
      </div>

      <div class="copy">
        <h2>Skies</h2>
        <div class="chips" aria-label="Orbit moods">
          <button class="chip" data-mode="dawn" aria-pressed="true">Dawn</button>
          <button class="chip" data-mode="zenith" aria-pressed="false">Zenith</button>
          <button class="chip" data-mode="dusk" aria-pressed="false">Dusk</button>
          <button class="chip" data-mode="eclipse" aria-pressed="false">Eclipse</button>
        </div>
        <p>Each sky reshapes motion and hue. Dawn glides, Zenith clicks, Dusk drifts wide, Eclipse inverts and breathes.</p>
        <div class="actions">
          <a class="btn primary" href="#" role="button" id="v418-snap">Capture Still</a>
          <a class="btn" href="#" role="button" id="v418-startstop">Start Orbit</a>
        </div>
      </div>
    </div>

    <div class="meta">
      <div class="timeline" aria-label="Orbit progress"><span></span></div>
      <span id="last-updated">Last updated: 2025-11-04 11:22:05 EST</span>
    </div>
  </section>

  <script>
    (function(){
      const root = document.currentScript.closest('.vibe418');
      const card = root.querySelector('#v418-card');
      const dial = root.querySelector('#v418-dial');
      const rings = Array.from(root.querySelectorAll('.ring'));
      const flare = root.querySelector('.flare');
      const spot = root.querySelector('#v418-spot');
      const themeBtn = root.querySelector('#v418-theme');
      const pauseBtn = root.querySelector('#v418-pause');
      const tempo = root.querySelector('#v418-tempo');
      const snap = root.querySelector('#v418-snap');
      const startStop = root.querySelector('#v418-startstop');
      const chips = Array.from(root.querySelectorAll('.chip'));
      const timeline = root.querySelector('.timeline');
      const updatedEl = root.querySelector('#last-updated');
      const starsHost = root.querySelector('.stars');

      // Last updated
      try{
        const fmt = new Intl.DateTimeFormat([], {year:'numeric', month:'2-digit', day:'2-digit', hour:'2-digit', minute:'2-digit', second:'2-digit', hour12:false, timeZoneName:'short'});
        updatedEl.textContent = 'Last updated: ' + fmt.format(new Date());
      }catch{
        updatedEl.textContent = 'Last updated: ' + new Date().toLocaleString();
      }

      // Stars
      (function makeStars(){
        const n = 84;
        const frag = document.createDocumentFragment();
        for(let i=0;i<n;i++){
          const s = document.createElement('span');
          const x = Math.random()*100;
          const y = Math.random()*100;
          const z = 0.6 + Math.random()*0.8; // size multiplier
          s.style.left = x+'%';
          s.style.top = y+'%';
          s.style.width = s.style.height = (1.4 + Math.random()*2.2)+'px';
          s.style.opacity = (0.35 + Math.random()*0.65).toFixed(2);
          s.style.animationDelay = (Math.random()*4).toFixed(2)+'s';
          s.style.transform = `scale(${z.toFixed(2)})`;
          frag.appendChild(s);
        }
        starsHost.appendChild(frag);
      })();

      // Theme
      const hour = new Date().getHours();
      if(hour >= 8 && hour <= 18) root.classList.add('is-light');
      function syncThemePressed(){ themeBtn.setAttribute('aria-pressed', String(root.classList.contains('is-light'))); }
      themeBtn.addEventListener('click', ()=>{ root.classList.toggle('is-light'); syncThemePressed(); });
      syncThemePressed();

      // Modes
      function setMode(mode){
        root.dataset.mode = mode;
        chips.forEach(c=> c.setAttribute('aria-pressed', String(c.dataset.mode === mode)));
        // color drift per mode
        switch(mode){
          case 'dawn':
            root.style.setProperty('--accent', '#ffd36e');
            root.style.setProperty('--accent-2', '#57b5ff');
            root.style.setProperty('--accent-3', '#b07bff');
            root.style.setProperty('--accent-4', '#02c39a');
            break;
          case 'zenith':
            root.style.setProperty('--accent', '#ffb300');
            root.style.setProperty('--accent-2', '#2e7dff');
            root.style.setProperty('--accent-3', '#9b4bff');
            root.style.setProperty('--accent-4', '#00b894');
            break;
          case 'dusk':
            root.style.setProperty('--accent', '#ff9e6e');
            root.style.setProperty('--accent-2', '#6a8dff');
            root.style.setProperty('--accent-3', '#c08bff');
            root.style.setProperty('--accent-4', '#49deb8');
            break;
          case 'eclipse':
            root.style.setProperty('--accent', '#a7b3ff');
            root.style.setProperty('--accent-2', '#7afcc8');
            root.style.setProperty('--accent-3', '#c2a6ff');
            root.style.setProperty('--accent-4', '#c8ff8a');
            break;
        }
      }
      chips.forEach(c=> c.addEventListener('click', ()=> setMode(c.dataset.mode)));
      setMode('dawn');

      // Pointer tilt + spot
      function onPointer(e){
        const r = dial.getBoundingClientRect();
        const cx = r.left + r.width/2, cy = r.top + r.height/2;
        const x = (e.clientX - cx) / (r.width/2);
        const y = (e.clientY - cy) / (r.height/2);
        const tiltX = 10 * Math.max(-1, Math.min(1, -y));
        const tiltY = 12 * Math.max(-1, Math.min(1, x));
        dial.style.setProperty('--tx', tiltX.toFixed(2) + 'deg');
        dial.style.setProperty('--ty', tiltY.toFixed(2) + 'deg');

        spot.style.left = e.clientX + 'px';
        spot.style.top = e.clientY + 'px';
        spot.style.opacity = '1';
      }
      window.addEventListener('mousemove', onPointer, {passive:true});
      window.addEventListener('mouseleave', ()=> spot.style.opacity = '0', {passive:true});

      // Animation loop
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      let running = true;
      let t0 = performance.now();

      // base angular velocities (degrees/sec)
      const baseW = [36, -22, 54, -78, 110]; // mixed directions for drama
      const offsets = [0, 40, 120, 200, 300];

      function loop(now = performance.now()){
        if (!running || prefersReduced) return;
        const dt = (now - t0) / 1000; t0 = now;

        // tempo
        const speed = parseFloat(tempo.value || '1');

        // timeline progress
        const cycle = (now / 1000 / 12) % 1;
        timeline.style.setProperty('--p', Math.round(cycle*100) + '%');

        const mode = root.dataset.mode || 'dawn';

        rings.forEach((ring, i)=>{
          // wobble per mode
          let wob = 0, drift = 0, s = speed;
          if(mode === 'dawn'){
            wob = Math.sin(now/1000 * (0.3 + i*0.07)) * (i+1);
            drift = Math.cos(now/1000 * 0.12 + i) * 4;
            s *= 0.8;
          }else if(mode === 'zenith'){
            wob = (Math.round((now/200 + i)%2) ? 3 : -3); // clicky
            drift = Math.sin(now/1000 * 0.9 + i) * 1.5;
            s *= 1.2;
          }else if(mode === 'dusk'){
            wob = Math.sin(now/1000 * (0.18 + i*0.05)) * (4 + i);
            drift = Math.cos(now/1000 * 0.3 + i) * 8;
            s *= 0.9;
          }else{ // eclipse
            wob = Math.sin(now/1000 * (0.5 + i*0.1)) * (6 + i*0.8);
            drift = Math.cos(now/1000 * 0.6 + i) * 12;
            s *= 1.05;
          }

          const a = (offsets[i] + (baseW[i] * s * (dt*60)) + wob + drift) % 360;
          offsets[i] = a;
          ring.style.setProperty('--a', a.toFixed(2) + 'deg');
        });

        // flare sweep
        const flareAngle = (now/1000 * 24 * speed) % 360;
        flare.style.setProperty('--f', flareAngle.toFixed(2) + 'deg');

        requestAnimationFrame(loop);
      }
      if(!prefersReduced) requestAnimationFrame(loop);

      // Pause / Start
      function setRunning(state){
        running = state;
        pauseBtn.setAttribute('aria-pressed', String(!running));
        startStop.textContent = running ? 'Stop Orbit' : 'Start Orbit';
        if(running){ t0 = performance.now(); requestAnimationFrame(loop); }
      }
      pauseBtn.addEventListener('click', ()=> setRunning(!running));
      startStop.addEventListener('click', (e)=>{ e.preventDefault(); setRunning(!running); });

      // Capture still
      snap.addEventListener('click', (e)=>{
        e.preventDefault();
        if (!running) return;
        card.classList.add('flash');
        setTimeout(()=> card.classList.remove('flash'), 420);
      });

      // Keyboard navigation for chips
      chips.forEach((c, idx)=> c.addEventListener('keydown', (e)=>{
        if(e.key === 'ArrowRight' || e.key === 'ArrowDown'){
          e.preventDefault(); const n = chips[(idx+1)%chips.length]; n.focus(); setMode(n.dataset.mode);
        }else if(e.key === 'ArrowLeft' || e.key === 'ArrowUp'){
          e.preventDefault(); const p = chips[(idx-1+chips.length)%chips.length]; p.focus(); setMode(p.dataset.mode);
        }else if(e.key === 'Enter' || e.key === ' '){
          e.preventDefault(); setMode(c.dataset.mode);
        }
      }));
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


