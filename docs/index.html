<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="v153" aria-label="Paper Garden — Daylight Atelier">
  <style>
    .v153 {
      --paper: hsl(48 40% 97%);
      --ink: hsl(230 20% 18%);
      --muted: hsl(230 12% 44%);
      --ring: hsl(230 20% 30% / 0.18);
      --a1: hsl(6 85% 62%);
      --a2: hsl(42 90% 62%);
      --a3: hsl(164 65% 55%);
      --a4: hsl(206 80% 60%);
      --shine: hsl(255 100% 98%);
      --depth: 22px;
      color: var(--ink);
      font-family: ui-sans-serif, -apple-system, system-ui, "SF Pro Display", Segoe UI, Roboto, Helvetica, Arial;
      background:
        radial-gradient(160% 120% at 0% 0%, hsl(210 100% 98%), transparent 60%),
        radial-gradient(140% 100% at 100% 100%, hsl(45 100% 98%), transparent 50%),
        var(--paper);
      border-radius: 30px;
      box-shadow:
        inset 0 1px 0 hsl(0 0% 100% / 0.75),
        0 40px 70px hsl(220 40% 30% / 0.12);
      overflow: clip;
      position: relative;
      isolation: isolate;
    }
    .v153 .wrap {
      width: min(1200px, 100%);
      margin-inline: auto;
      padding: clamp(20px, 5vw, 56px);
      position: relative;
    }
    .v153 .top {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      gap: 16px;
    }
    .v153 .brand {
      display: inline-flex; align-items: center; gap: 12px;
      letter-spacing: 0.18em; text-transform: uppercase;
      font-weight: 800; font-size: 11px; color: var(--muted);
    }
    .v153 .seed {
      width: 26px; height: 26px; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, var(--shine), hsl(0 0% 100% / 0.4) 35%, hsl(0 0% 100% / 0) 60%) padding-box,
                  conic-gradient(from 120deg, var(--a1), var(--a2), var(--a3), var(--a4), var(--a1)) border-box;
      border: 2px solid transparent;
      filter: drop-shadow(0 6px 16px hsl(200 50% 40% / 0.25));
      animation: v153-spin 10s linear infinite;
    }
    @keyframes v153-spin { to { transform: rotate(360deg); } }

    .v153 .title {
      margin: 10px 0 8px;
      font-weight: 900; letter-spacing: -0.02em; line-height: 0.96;
      font-size: clamp(48px, 8.4vw, 120px);
      background: linear-gradient(96deg, hsl(230 20% 20%) 0%, hsl(230 10% 40%) 50%, var(--a4) 110%);
      -webkit-background-clip: text; background-clip: text; color: transparent;
      text-wrap: balance;
    }
    .v153 .subtitle {
      font-size: clamp(14px, 2vw, 18px);
      color: var(--muted);
      max-width: 72ch;
      text-wrap: balance;
    }

    .v153 .stage {
      margin-top: clamp(18px, 4vw, 28px);
      position: relative; border-radius: 24px; overflow: clip;
      border: 1px solid var(--ring);
      background: radial-gradient(140% 100% at 80% -10%, hsl(0 0% 100% / 0.9), transparent 50%),
                  var(--paper);
      min-height: 720px;
      box-shadow:
        0 24px 60px hsl(220 30% 30% / 0.14),
        inset 0 1px 0 hsl(0 0% 100% / 0.8);
      perspective: 1000px; transform-style: preserve-3d;
      transition: transform 220ms ease;
    }
    .v153 .stage:hover { transform: rotateX(2deg) rotateY(-2deg); }

    .v153 canvas { position: absolute; inset: 0; width: 100%; height: 100%; display: block; }

    /* Paper texture */
    .v153 .texture {
      position: absolute; inset: 0; pointer-events: none; mix-blend-mode: multiply; opacity: 0.35;
      background:
        repeating-linear-gradient(90deg, hsl(0 0% 0% / 0.015) 0 1px, transparent 1px 3px),
        repeating-linear-gradient(0deg,  hsl(0 0% 0% / 0.012) 0 2px, transparent 2px 5px);
    }
    .v153 .deck {
      position: absolute; left: 50%; bottom: clamp(10px, 4vw, 22px); transform: translateX(-50%);
      display: grid; grid-auto-flow: column; gap: 10px; align-items: center;
      background: hsl(0 0% 100% / 0.7);
      border: 1px solid var(--ring); border-radius: 999px; padding: 10px 12px;
      box-shadow: 0 20px 40px hsl(220 30% 40% / 0.16), inset 0 1px 0 hsl(0 0% 100% / 0.9);
      backdrop-filter: blur(10px) saturate(140%);
    }
    .v153 .btn, .v153 .toggle, .v153 .slider {
      appearance: none; cursor: pointer; user-select: none;
      border-radius: 999px; border: 1px solid var(--ring);
      font-weight: 800; letter-spacing: 0.01em; font-size: 12px;
      color: var(--ink);
      background: linear-gradient(180deg, hsl(0 0% 100% / 0.9), hsl(0 0% 100% / 0.7));
      box-shadow: 0 1px 0 hsl(0 0% 100% / 0.9) inset, 0 6px 14px hsl(220 30% 30% / 0.16);
      transition: transform 140ms ease, box-shadow 220ms ease, background 220ms ease;
      padding: 10px 14px;
    }
    .v153 .btn:hover, .v153 .toggle:hover, .v153 .slider:hover { transform: translateY(-1px); }
    .v153 .btn:active, .v153 .toggle:active { transform: translateY(0); box-shadow: inset 0 2px 8px hsl(220 30% 20% / 0.2); }
    .v153 .primary {
      color: white;
      background: linear-gradient(92deg, var(--a2), var(--a4));
      border-color: transparent;
      box-shadow: 0 12px 26px hsl(210 70% 50% / 0.35), 0 0 0 1px hsl(0 0% 100% / 0.7) inset;
    }
    .v153 .toggle[aria-pressed="true"] { outline: 2px solid var(--a4); outline-offset: 2px; }

    .v153 .slider {
      display: grid; grid-template-columns: auto 1fr auto; gap: 8px; align-items: center; padding: 8px 10px;
      background: linear-gradient(180deg, hsl(0 0% 100% / 0.9), hsl(0 0% 100% / 0.7));
    }
    .v153 input[type="range"] {
      accent-color: hsl(210 90% 50%);
      width: 140px; height: 6px; border-radius: 999px; appearance: none; outline: none; cursor: pointer;
      background: linear-gradient(90deg, var(--a1), var(--a2), var(--a3), var(--a4));
    }
    .v153 input[type="range"]::-webkit-slider-thumb {
      appearance: none; width: 18px; height: 18px; border-radius: 50%;
      background: white; border: 2px solid hsl(210 30% 70%);
      box-shadow: 0 6px 12px hsl(220 30% 30% / 0.2);
      margin-top: -6px;
    }
    .v153 input[type="range"]::-moz-range-thumb {
      width: 18px; height: 18px; border-radius: 50%;
      background: white; border: 2px solid hsl(210 30% 70%);
    }
    .v153 .val { font-variant-numeric: tabular-nums; font-weight: 800; }

    .v153 .note {
      display: flex; justify-content: space-between; align-items: center; gap: 10px; flex-wrap: wrap;
      color: var(--muted); font-size: 12px;
      padding: 22px clamp(20px, 5vw, 56px) 34px;
    }
    .v153 .tags { display: flex; gap: 8px; flex-wrap: wrap; }
    .v153 .tag {
      padding: 6px 10px; border-radius: 999px; border: 1px solid var(--ring);
      background: hsl(0 0% 100% / 0.8); backdrop-filter: blur(4px);
      color: var(--ink);
    }

    .v153 .credits {
      position: absolute; top: clamp(10px, 3vw, 20px); right: clamp(10px, 3vw, 20px);
      background: hsl(0 0% 100% / 0.7);
      border: 1px solid var(--ring); border-radius: 999px;
      padding: 6px 10px; font-size: 11px; color: var(--muted);
      backdrop-filter: blur(8px) saturate(140%);
    }

    .v153.rm * { transition: none !important; animation: none !important; }
  </style>

  <div class="wrap" tabindex="0">
    <div class="top">
      <div class="brand">
        <span class="seed" aria-hidden="true"></span>
        Edition 153 — Paper Garden
      </div>
      <div class="credits">Drag to paint. Press P to cycle palette.</div>
    </div>

    <h2 class="title">Paper&nbsp;Garden</h2>
    <p class="subtitle">Let color bloom like ink on handmade paper. Gentle, bright, a little curious.</p>

    <div class="stage" id="v153-stage" aria-label="Generative watercolor blooms on paper">
      <canvas id="v153-canvas" role="img" aria-label="Soft watercolor circles blooming and fading on paper"></canvas>
      <div class="texture" aria-hidden="true"></div>

      <div class="deck" aria-label="Controls">
        <button class="btn primary" id="v153-palette" type="button" aria-label="Cycle palette">Palette: Citrus</button>
        <button class="toggle" id="v153-flow" type="button" aria-pressed="true" aria-label="Toggle flow">Flow</button>
        <button class="btn" id="v153-save" type="button" aria-label="Save poster">Save</button>

        <label class="slider" for="v153-rate">
          <span>Bloom</span>
          <input id="v153-rate" type="range" min="0" max="100" value="55" />
          <span class="val" id="v153-rate-val">55</span>
        </label>

        <label class="slider" for="v153-bleed">
          <span>Bleed</span>
          <input id="v153-bleed" type="range" min="0" max="100" value="60" />
          <span class="val" id="v153-bleed-val">60</span>
        </label>
      </div>
    </div>
  </div>

  <div class="note">
    <div class="tags" role="list" aria-label="design notes">
      <span class="tag" role="listitem">Daylight</span>
      <span class="tag" role="listitem">Watercolor simulation</span>
      <span class="tag" role="listitem">Soft paper texture</span>
      <span class="tag" role="listitem">Shortcuts: Space · P · S</span>
    </div>
    <small><span id="last-updated">Last updated: 2025-10-23 15:14:08 EST</span></small>
  </div>

  <script>
    (function () {
      const root = document.currentScript.closest('.v153');
      const stage = root.querySelector('#v153-stage');
      const canvas = root.querySelector('#v153-canvas');
      const ctx = canvas.getContext('2d', { alpha: true });
      const updated = root.querySelector('#last-updated');

      // Timestamp
      try {
        const fmt = new Intl.DateTimeFormat([], { dateStyle: 'medium', timeStyle: 'short' });
        updated.textContent = 'Updated ' + fmt.format(new Date());
      } catch { updated.textContent = 'Updated ' + new Date().toLocaleString(); }

      const reducedMotion = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (reducedMotion) root.classList.add('rm');

      // Controls
      const paletteBtn = root.querySelector('#v153-palette');
      const flowBtn = root.querySelector('#v153-flow');
      const saveBtn = root.querySelector('#v153-save');
      const rateEl = root.querySelector('#v153-rate');
      const bleedEl = root.querySelector('#v153-bleed');
      const rateVal = root.querySelector('#v153-rate-val');
      const bleedVal = root.querySelector('#v153-bleed-val');

      // Palettes
      const palettes = [
        { name: 'Citrus', cols: ['hsl(6 85% 62%)', 'hsl(28 90% 62%)', 'hsl(42 90% 62%)', 'hsl(340 80% 64%)'] },
        { name: 'Lapis', cols: ['hsl(216 85% 60%)', 'hsl(190 70% 58%)', 'hsl(240 35% 55%)', 'hsl(260 80% 68%)'] },
        { name: 'Meadow', cols: ['hsl(140 60% 52%)', 'hsl(164 65% 55%)', 'hsl(82 70% 55%)', 'hsl(195 60% 54%)'] },
        { name: 'Coral', cols: ['hsl(10 80% 62%)', 'hsl(350 70% 60%)', 'hsl(18 85% 62%)', 'hsl(330 70% 65%)'] },
        { name: 'Mono', cols: ['hsl(230 10% 35%)', 'hsl(230 10% 45%)', 'hsl(230 10% 55%)', 'hsl(230 10% 25%)'] }
      ];
      let paletteIndex = 0;
      function applyPalette(i) {
        const c = palettes[i].cols;
        root.style.setProperty('--a1', c[0]);
        root.style.setProperty('--a2', c[1]);
        root.style.setProperty('--a3', c[2]);
        root.style.setProperty('--a4', c[3]);
        paletteBtn.textContent = 'Palette: ' + palettes[i].name;
        flash(paletteBtn);
      }

      function flash(el) {
        el.classList.add('primary');
        setTimeout(() => el.classList.remove('primary'), 260);
      }

      // Canvas sizing
      let dpr = 1;
      function size() {
        dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        const rect = stage.getBoundingClientRect();
        canvas.width = Math.floor(rect.width * dpr);
        canvas.height = Math.floor(rect.height * dpr);
        canvas.style.width = rect.width + 'px';
        canvas.style.height = rect.height + 'px';
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
        // Prime a soft paper wash
        ctx.fillStyle = getComputedStyle(root).getPropertyValue('--paper').trim() || '#faf7ef';
        ctx.fillRect(0, 0, rect.width, rect.height);
      }
      size();
      addEventListener('resize', size);

      // Bloom engine
      const blooms = [];
      let running = !reducedMotion;
      let bleed = 0.60;     // 0..1
      let birth = 0.55;     // 0..1
      const pointer = { x: 0.5, y: 0.5, down: false };

      function rand(arr) { return arr[(Math.random() * arr.length) | 0]; }
      function spawn(x, y, power = 1) {
        const cols = palettes[paletteIndex].cols;
        const count = Math.max(1, Math.round(power * 3));
        for (let i = 0; i < count; i++) {
          const hue = rand(cols);
          const r0 = 4 + Math.random() * 10;
          blooms.push({
            x: x + (Math.random() - 0.5) * 8,
            y: y + (Math.random() - 0.5) * 8,
            r: r0,
            life: 1,
            col: hue,
            vx: (Math.random() - 0.5) * 0.6,
            vy: -0.2 + (Math.random() - 0.5) * 0.5,
            swell: 0.6 + Math.random() * 1.4
          });
        }
      }

      function draw(now) {
        const w = stage.clientWidth, h = stage.clientHeight;

        // Gentle fade to paper to emulate watercolor diffusion
        ctx.globalCompositeOperation = 'source-over';
        ctx.fillStyle = 'rgba(255,255,255,0.06)';
        ctx.fillRect(0, 0, w, h);

        // Chance-based ambient births
        if (Math.random() < birth * 0.25) {
          spawn(Math.random() * w, Math.random() * h, 0.6);
        }

        // Draw blooms
        ctx.globalCompositeOperation = 'multiply';
        for (let i = blooms.length - 1; i >= 0; i--) {
          const b = blooms[i];
          // Update
          b.x += b.vx;
          b.y += b.vy;
          b.vx *= 0.995;
          b.vy = b.vy * 0.995 + 0.002; // gentle gravity
          b.r += (0.4 + bleed * 2.2) * b.swell * 0.5;
          b.life -= 0.006 + bleed * 0.004;

          // Radial wash
          const g = ctx.createRadialGradient(b.x, b.y, 0, b.x, b.y, b.r * (2.3 + bleed * 1.4));
          const c = b.col;
          g.addColorStop(0.0, toAlpha(c, 0.18 + bleed * 0.12));
          g.addColorStop(0.55, toAlpha(c, 0.10 + bleed * 0.08));
          g.addColorStop(1.0, 'rgba(255,255,255,0)');
          ctx.fillStyle = g;
          ctx.beginPath();
          ctx.arc(b.x, b.y, b.r * (2.3 + bleed * 1.4), 0, Math.PI * 2);
          ctx.fill();

          // Core
          ctx.globalAlpha = Math.max(0, b.life);
          ctx.fillStyle = toAlpha(c, 0.35);
          ctx.beginPath();
          ctx.arc(b.x, b.y, Math.max(0.1, b.r * 0.25), 0, Math.PI * 2);
          ctx.fill();
          ctx.globalAlpha = 1;

          if (b.life <= 0 || b.r > Math.max(w, h) * 0.9) blooms.splice(i, 1);
        }

        // Back to normal op
        ctx.globalCompositeOperation = 'source-over';
      }

      function toAlpha(hsl, a) {
        return hsl.replace('hsl', 'hsla').replace(')', ',' + a + ')');
      }

      // Loop
      function tick(t) {
        if (!running) return;
        draw(t);
        if (!reducedMotion) requestAnimationFrame(tick);
      }

      // Pointer interactions
      function setPointer(e) {
        const rect = stage.getBoundingClientRect();
        const t = e.touches ? e.touches[0] : e;
        pointer.x = Math.max(0, Math.min(1, (t.clientX - rect.left) / rect.width));
        pointer.y = Math.max(0, Math.min(1, (t.clientY - rect.top) / rect.height));
        if (pointer.down) spawn(pointer.x * rect.width, pointer.y * rect.height, 1.5);
      }
      stage.addEventListener('pointerdown', (e) => { pointer.down = true; setPointer(e); });
      stage.addEventListener('pointermove', setPointer, { passive: true });
      addEventListener('pointerup', () => { pointer.down = false; });

      // UI bindings
      paletteBtn.addEventListener('click', () => {
        paletteIndex = (paletteIndex + 1) % palettes.length;
        applyPalette(paletteIndex);
      });

      flowBtn.addEventListener('click', () => {
        running = !running;
        flowBtn.setAttribute('aria-pressed', running ? 'true' : 'false');
        flowBtn.textContent = running ? 'Flow' : 'Pause';
        flash(flowBtn);
        if (running && !reducedMotion) requestAnimationFrame(tick);
      });

      saveBtn.addEventListener('click', () => {
        try {
          const link = document.createElement('a');
          link.download = 'paper-garden.png';
          link.href = canvas.toDataURL('image/png');
          link.click();
          flash(saveBtn);
        } catch {}
      });

      function setRate(v) {
        const n = Math.max(0, Math.min(100, Math.round(v)));
        rateVal.textContent = String(n);
        birth = n / 100;
      }
      function setBleed(v) {
        const n = Math.max(0, Math.min(100, Math.round(v)));
        bleedVal.textContent = String(n);
        bleed = n / 100;
      }
      rateEl.addEventListener('input', (e) => setRate(Number(e.target.value)));
      bleedEl.addEventListener('input', (e) => setBleed(Number(e.target.value)));

      // Keyboard
      root.addEventListener('keydown', (e) => {
        const k = e.key.toLowerCase();
        if (k === ' ') { e.preventDefault(); flowBtn.click(); }
        if (k === 'p') paletteBtn.click();
        if (k === 's') saveBtn.click();
      });

      // Init
      applyPalette(paletteIndex);
      setRate(Number(rateEl.value));
      setBleed(Number(bleedEl.value));

      if (!reducedMotion) requestAnimationFrame(tick);
      else {
        // A few strokes for RM users
        const rect = stage.getBoundingClientRect();
        for (let i = 0; i < 20; i++) spawn(Math.random() * rect.width, Math.random() * rect.height, 1);
        for (let j = 0; j < 60; j++) draw(performance.now());
      }
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


