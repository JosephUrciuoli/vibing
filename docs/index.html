<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div id="vibe180" class="vibe-180">
  <style>
    /* Root theme */
    #vibe180{
      --bg: #06080f;
      --fg: #eaf2ff;
      --fg-dim: #b8c2d9;
      --p1: 200 90% 62%;
      --p2: 320 85% 60%;
      --card: rgba(255,255,255,.06);
      --border: rgba(255,255,255,.14);
      --ring: rgba(255,255,255,.08);
      position: relative;
      overflow: hidden;
      border-radius: 26px;
      padding: clamp(18px,4vw,36px);
      background:
        radial-gradient(1400px 700px at 10% -10%, hsl(210 90% 60% / .12), transparent 60%),
        radial-gradient(1200px 600px at 110% 120%, hsl(300 90% 60% / .10), transparent 60%),
        linear-gradient(180deg, #070a14, #05060b);
      color: var(--fg);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,.04),
        0 30px 100px -40px rgba(0,0,0,.7),
        0 10px 40px -20px rgba(0,0,0,.75);
      font: 400 16px/1.5 ui-sans-serif, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
      isolation: isolate;
    }
    /* Soft fabric grain */
    #vibe180::before{
      content:"";
      position:absolute; inset:-2px;
      pointer-events:none;
      background:
        repeating-linear-gradient(90deg, rgba(255,255,255,.02) 0 1px, transparent 1px 60px),
        repeating-linear-gradient(0deg, rgba(255,255,255,.015) 0 1px, transparent 1px 60px);
      mix-blend-mode: overlay;
      opacity:.7;
    }

    /* Canvas field */
    #vibe180 .field{
      position:absolute; inset:0;
      width:100%; height:100%;
      filter:saturate(120%) blur(.15px);
      opacity:.9;
      z-index:0;
    }

    /* Layout */
    #vibe180 .grid{
      position:relative; z-index:1;
      display:grid; gap: clamp(18px,4vw,36px);
      grid-template-columns: 1.15fr .85fr;
      align-items: stretch;
    }
    @media (max-width: 920px){
      #vibe180 .grid{ grid-template-columns: 1fr; }
    }

    /* Hero card */
    #vibe180 .hero{
      position:relative;
      display:flex; flex-direction:column; gap:14px;
      padding: clamp(18px,3.2vw,28px);
      border-radius: 20px;
      background: linear-gradient(180deg, var(--card), rgba(255,255,255,.03));
      border: 1px solid var(--border);
      backdrop-filter: blur(8px) saturate(115%);
      transform: perspective(900px) rotateX(var(--tiltX,0deg)) rotateY(var(--tiltY,0deg));
      transition: transform 200ms ease;
      box-shadow:
        0 20px 60px -30px rgba(0,0,0,.8),
        inset 0 0 50px rgba(255,255,255,.035);
    }
    #vibe180 .hero::after{
      content:"";
      position:absolute; inset:-1px;
      border-radius: inherit;
      pointer-events: none;
      background:
        radial-gradient(60% 60% at 80% 0%, hsl(var(--p1) / .16), transparent 60%),
        radial-gradient(50% 50% at 0% 100%, hsl(var(--p2) / .18), transparent 60%);
      mix-blend-mode: screen;
    }

    #vibe180 .eyebrow{
      display:inline-flex; align-items:center; gap:10px;
      font-size:12px; letter-spacing:.18em; text-transform:uppercase;
      color:var(--fg);
      padding:8px 12px; border-radius:999px;
      background:linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,.03));
      border:1px solid var(--ring);
      width:max-content;
    }
    #vibe180 .eyebrow i{
      width:8px; height:8px; border-radius:999px;
      background: conic-gradient(from 0deg, hsl(var(--p1)), hsl(var(--p2)), hsl(var(--p1)));
      box-shadow: 0 0 0 2px rgba(255,255,255,.06);
      animation: v180-dot 6s ease-in-out infinite;
    }
    @keyframes v180-dot { 0%,100%{ transform:scale(.9) } 50%{ transform:scale(1.15) } }

    #vibe180 .title{
      margin: 6px 0 2px;
      font-weight: 900;
      font-size: clamp(30px, 6.8vw, 72px);
      line-height: 1.02;
      letter-spacing: -0.02em;
      background: linear-gradient(90deg, hsl(var(--p1)), hsl(var(--p2)));
      -webkit-background-clip: text; background-clip: text;
      color: transparent;
      filter: drop-shadow(0 10px 28px rgba(0,0,0,.55));
    }
    #vibe180 .tag{
      color:var(--fg-dim);
      font-size: clamp(14px, 2vw, 18px);
      max-width: 54ch;
    }

    /* Chips */
    #vibe180 .chips{
      display:flex; flex-wrap:wrap; gap:8px;
      margin-top: 6px;
      padding:6px; border-radius: 999px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.12);
      width:max-content;
    }
    #vibe180 .chip{
      appearance:none; border:0; cursor:pointer;
      padding:9px 14px; border-radius:999px;
      font-weight:700; letter-spacing:.02em;
      color:var(--fg);
      background:transparent;
      transition: transform .16s ease, background .2s ease, color .2s ease;
    }
    #vibe180 .chip:hover{ transform: translateY(-1px); }
    #vibe180 .chip.active{
      background: linear-gradient(180deg, hsl(var(--p1)), hsl(var(--p2)));
      color:#06101c;
      box-shadow: 0 12px 26px -14px hsl(var(--p1) / .6);
    }

    /* Actions */
    #vibe180 .actions{ display:flex; gap:10px; margin-top: 2px; flex-wrap:wrap; }
    #vibe180 .btn{
      appearance:none; border:0; cursor:pointer;
      padding:10px 14px; border-radius:14px;
      font-weight:700; letter-spacing:.01em;
      color:#06101c;
      background: linear-gradient(180deg, hsl(var(--p1)), hsl(var(--p2)));
      box-shadow: 0 16px 36px -18px hsl(var(--p1) / .7);
      transition: transform .14s ease;
    }
    #vibe180 .btn:hover{ transform: translateY(-1px) scale(1.01); }
    #vibe180 .btn.ghost{
      background: transparent; color: var(--fg);
      border:1px solid var(--ring);
      box-shadow: none;
    }

    /* Stack tiles */
    #vibe180 .stack{
      display:grid; gap:14px;
      grid-template-rows: 1fr auto auto;
      transform: perspective(900px) rotateX(var(--tX,0deg)) rotateY(var(--tY,0deg));
      transition: transform 200ms ease;
    }
    #vibe180 .tile{
      position:relative;
      padding: clamp(14px, 2.6vw, 20px);
      border-radius: 18px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.025));
      border: 1px solid var(--border);
      backdrop-filter: blur(6px) saturate(115%);
      box-shadow: 0 16px 50px -28px rgba(0,0,0,.8), inset 0 0 40px rgba(255,255,255,.03);
      overflow:hidden;
    }
    #vibe180 .tile::before{
      content:"";
      position:absolute; inset:-1px; pointer-events:none; border-radius:inherit;
      background: radial-gradient(40% 50% at 100% 0%, hsl(var(--p1) / .15), transparent 60%);
      mix-blend-mode: screen;
    }

    /* Tile content */
    #vibe180 .clock{
      display:flex; align-items:baseline; gap:10px;
      font-weight:800;
    }
    #vibe180 .clock .time{
      font-size: clamp(28px, 7vw, 48px);
      letter-spacing: -0.02em;
      background: linear-gradient(90deg, hsl(var(--p1)), hsl(var(--p2)));
      -webkit-background-clip: text; background-clip: text; color: transparent;
    }
    #vibe180 .clock .zone{
      font-size:12px; color: var(--fg-dim); letter-spacing:.12em; text-transform: uppercase;
    }

    #vibe180 .quote{
      margin: 0 0 6px; font-size: clamp(16px, 2.6vw, 20px);
      color: var(--fg);
    }
    #vibe180 cite{ color: var(--fg-dim); font-style: normal; font-size: 12px; }

    #vibe180 .metric{
      display:flex; align-items:center; gap:10px;
      color: var(--fg-dim); font-size:13px;
    }
    #vibe180 progress{
      appearance:none; width: 120px; height: 8px; border-radius: 999px; overflow:hidden;
      background: rgba(255,255,255,.1); border:1px solid rgba(255,255,255,.12);
    }
    #vibe180 progress::-webkit-progress-bar{
      background: transparent;
    }
    #vibe180 progress::-webkit-progress-value{
      background: linear-gradient(90deg, hsl(var(--p1)), hsl(var(--p2)));
      border-right: 1px solid rgba(255,255,255,.35);
    }
    #vibe180 .foot{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      margin-top:8px; padding-top:10px; border-top:1px dashed rgba(255,255,255,.14);
      color: var(--fg-dim); font-size:12px;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      #vibe180 .hero, #vibe180 .stack{ transition: none !important; }
      #vibe180 .eyebrow i{ animation: none !important; }
    }
  </style>

  <canvas class="field" aria-hidden="true"></canvas>

  <div class="grid" role="group" aria-label="Generative textile">
    <section class="hero" aria-label="Hero">
      <span class="eyebrow"><i aria-hidden="true"></i> Living textile</span>
      <h1 class="title">Weave your calm.</h1>
      <p class="tag">A generative tapestry of light that bends with your pointer and mood. Fewer distractions, more presence.</p>

      <div class="chips" role="tablist" aria-label="Palette">
        <button class="chip active" role="tab" aria-selected="true" data-palette="auto">Auto</button>
        <button class="chip" role="tab" aria-selected="false" data-palette="dawn">Dawn</button>
        <button class="chip" role="tab" aria-selected="false" data-palette="day">Day</button>
        <button class="chip" role="tab" aria-selected="false" data-palette="dusk">Dusk</button>
        <button class="chip" role="tab" aria-selected="false" data-palette="midnight">Midnight</button>
      </div>

      <div class="actions">
        <button class="btn" data-action="breathe">Breathe</button>
        <button class="btn ghost" data-action="still">Still</button>
      </div>
    </section>

    <aside class="stack" aria-label="Status">
      <div class="tile">
        <div class="clock">
          <span class="time" id="v180-time">--:--</span>
          <span class="zone" id="v180-zone">LOCAL</span>
        </div>
      </div>

      <div class="tile">
        <p class="quote">“Simplicity is not the absence of clutter, it’s the presence of what matters.”</p>
        <cite>— Unknown</cite>
      </div>

      <div class="tile">
        <div class="metric">
          <span>Motion</span>
          <progress id="v180-motion" max="1" value="0.5"></progress>
        </div>
        <div class="foot">
          <span id="last-updated">Last updated: 2025-10-24 19:15:57 EST</span>
          <span aria-hidden="true">✦</span>
        </div>
      </div>
    </aside>
  </div>

  <script>
    (() => {
      const root = document.querySelector('#vibe180');
      const canvas = root.querySelector('.field');
      const ctx = canvas.getContext('2d', { alpha: true });
      const hero = root.querySelector('.hero');
      const stack = root.querySelector('.stack');
      const timeEl = root.querySelector('#v180-time');
      const zoneEl = root.querySelector('#v180-zone');
      const motionEl = root.querySelector('#v180-motion');
      const chips = [...root.querySelectorAll('.chip')];
      const btnBreathe = root.querySelector('[data-action="breathe"]');
      const btnStill = root.querySelector('[data-action="still"]');
      const last = root.querySelector('#last-updated');

      // Timestamp
      const fmt = new Intl.DateTimeFormat(undefined, { dateStyle: 'medium', timeStyle: 'short' });
      last.textContent = 'Last updated: ' + fmt.format(new Date());

      // Time & zone
      const updateTime = () => {
        const d = new Date();
        timeEl.textContent = d.toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
        try {
          const tz = Intl.DateTimeFormat().resolvedOptions().timeZone || 'LOCAL';
          zoneEl.textContent = tz.split('/').pop().replace('_',' ');
        } catch { zoneEl.textContent = 'LOCAL'; }
      };
      updateTime();
      const clockTimer = setInterval(updateTime, 1000);

      // Palettes
      const palettes = {
        dawn:     { p1: '22 96% 62%',  p2: '332 88% 60%' },
        day:      { p1: '195 92% 62%', p2: '150 78% 55%' },
        dusk:     { p1: '285 86% 62%', p2: '15 92% 58%'  },
        midnight: { p1: '210 92% 62%', p2: '280 80% 60%' },
      };
      const pickAuto = () => {
        const h = new Date().getHours();
        if (h >= 5 && h < 11) return 'dawn';
        if (h >= 11 && h < 17) return 'day';
        if (h >= 17 && h < 21) return 'dusk';
        return 'midnight';
      };
      let paletteName = 'auto';
      const applyPalette = (name) => {
        const key = name === 'auto' ? pickAuto() : name;
        paletteName = name;
        const { p1, p2 } = palettes[key];
        root.style.setProperty('--p1', p1);
        root.style.setProperty('--p2', p2);
        chips.forEach(c => {
          const active = c.dataset.palette === name;
          c.classList.toggle('active', active);
          c.setAttribute('aria-selected', String(active));
        });
      };
      chips.forEach(c => c.addEventListener('click', () => applyPalette(c.dataset.palette)));
      applyPalette('auto');

      // Canvas sizing
      let w=0, h=0, dpr = Math.min(2, window.devicePixelRatio || 1);
      const resize = () => {
        const r = root.getBoundingClientRect();
        w = Math.max(1, Math.floor(r.width));
        h = Math.max(1, Math.floor(r.height));
        canvas.width = Math.floor(w * dpr);
        canvas.height = Math.floor(h * dpr);
        canvas.style.width = w + 'px';
        canvas.style.height = h + 'px';
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      };
      resize();
      window.addEventListener('resize', resize);

      // Pointer tilt + influence
      const state = {
        pointer: { x: w/2, y: h/2, active:false },
        speed: 0.9, // base ribbon speed multiplier
        still: false,
      };
      const onMove = (e) => {
        const r = root.getBoundingClientRect();
        const x = e.clientX - r.left;
        const y = e.clientY - r.top;
        state.pointer = { x, y, active:true };
        const nx = (x / r.width) - 0.5;
        const ny = (y / r.height) - 0.5;
        hero.style.setProperty('--tiltY', `${-nx*6}deg`);
        hero.style.setProperty('--tiltX', `${ny*6}deg`);
        stack.style.setProperty('--tY', `${-nx*4}deg`);
        stack.style.setProperty('--tX', `${ny*4}deg`);
      };
      const onLeave = () => {
        state.pointer.active = false;
        hero.style.setProperty('--tiltX', `0deg`);
        hero.style.setProperty('--tiltY', `0deg`);
        stack.style.setProperty('--tX', `0deg`);
        stack.style.setProperty('--tY', `0deg`);
      };
      root.addEventListener('pointermove', onMove);
      root.addEventListener('pointerleave', onLeave);

      // Ribbons model
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      const RIBBONS = new Array(6).fill(0).map((_,i)=>({
        amp: 36 + i*8,
        freq: 0.0026 + i*0.0004,
        phase: Math.random()*Math.PI*2,
        width: 10 + i*2,
        hueShift: i*12,
        dir: i%2?1:-1,
        speed: 0.0007 + i*0.00025
      }));

      // Breathe action
      let breatheT = 0, breatheA = 0;
      btnBreathe.addEventListener('click', () => {
        breatheT = 0;
        breatheA = 1; // start burst
      });

      // Still/Resume
      btnStill.addEventListener('click', () => {
        state.still = !state.still;
        btnStill.textContent = state.still ? 'Resume' : 'Still';
      });

      // Draw loop
      let tPrev = performance.now();
      function frame(now){
        const dt = Math.min(32, Math.max(8, now - tPrev));
        tPrev = now;

        // fade canvas softly for light trails
        ctx.globalCompositeOperation = 'source-over';
        ctx.fillStyle = 'rgba(5,7,12,0.10)';
        ctx.fillRect(0,0,w,h);

        // breathing envelope
        if (breatheA > 0){
          breatheT += dt/1000;
          const env = Math.max(0, 1 - breatheT/2.2);
          breatheA = env;
        }

        // compute pointer influence
        const px = state.pointer.x || w/2;
        const py = state.pointer.y || h/2;
        const nx = (px / w) - 0.5;
        const ny = (py / h) - 0.5;
        const influence = prefersReduced ? 0 : (state.pointer.active ? 1 : 0.25);

        // palette hues from CSS
        const styles = getComputedStyle(root);
        const p1 = styles.getPropertyValue('--p1').trim();
        const baseHue = Number((p1 || '210 90% 62%').split(' ')[0]) || 210;

        ctx.globalCompositeOperation = 'lighter';
        for (let i=0;i<RIBBONS.length;i++){
          const r = RIBBONS[i];
          // evolve phase
          const motion = state.still ? 0 : (r.speed * (prefersReduced ? 0.25 : state.speed));
          r.phase += motion * dt * (1 + breatheA*1.6);
          // style
          const hue = (baseHue + r.hueShift) % 360;
          const alpha = 0.24 + i*0.04 + breatheA*0.08;
          ctx.strokeStyle = `hsla(${hue}, 90%, 64%, ${alpha})`;
          ctx.shadowColor = `hsla(${hue}, 90%, 64%, ${Math.min(.55, .25 + i*0.06)})`;
          ctx.shadowBlur = 18 + i*6;
          ctx.lineCap = 'round';
          ctx.lineJoin = 'round';
          ctx.lineWidth = r.width;

          // draw path
          ctx.beginPath();
          const centerY = h/2 + ny * 80 * r.dir;
          const amp = r.amp * (0.8 + influence*0.5 + breatheA*1.2);
          const kink = 60 * nx * r.dir;
          for (let x=0; x<=w; x += 8){
            const y =
              centerY +
              amp * Math.sin(x * r.freq + r.phase) +
              (amp*0.4) * Math.sin(x * r.freq * 0.5 - r.phase*0.7) +
              (x/w - 0.5) * kink;
            if (x===0) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
          }
          ctx.stroke();
        }

        // update motion meter
        const meter = state.still ? 0 : (prefersReduced ? 0.25 : 0.65 + 0.25 * (influence + breatheA));
        motionEl.value = Math.max(0, Math.min(1, meter));

        requestAnimationFrame(frame);
      }
      if (!prefersReduced) requestAnimationFrame(frame);

      // Keep palette in sync if Auto
      const autoTimer = setInterval(() => {
        if (paletteName === 'auto') applyPalette('auto');
      }, 60_000);

      // Cleanup
      window.addEventListener('beforeunload', () => {
        clearInterval(clockTimer);
        clearInterval(autoTimer);
      }, { once: true });
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


