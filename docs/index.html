<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div class="vibe-642" data-palette="aurora" aria-label="Nebula Loom — Generative Tapestry">
  <style>
    .vibe-642 {
      --ink: #e9f0fb;
      --muted: #a6b6cf;
      --paper: rgba(255,255,255,.06);
      --edge: rgba(255,255,255,.18);
      --bg: #0a0f16;
      --gap: 20px;         /* moiré line spacing (px) */
      --r: 22px;           /* card radius */
      --glow: 0.6;         /* orb glow power */
      color: var(--ink);
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Inter, Roboto, "Helvetica Neue", Arial;
      letter-spacing: .2px;
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
      color-scheme: dark;
    }

    /* Palettes */
    .vibe-642[data-palette="aurora"] {
      --p1: #3f7cff;
      --p2: #67ffd4;
      --p3: #a77bff;
      --p4: #ffea7a;
      --acc: #86b7ff;
      --veil: rgba(150, 200, 255, .08);
    }
    .vibe-642[data-palette="magma"] {
      --p1: #ff5a3d;
      --p2: #ffbe4d;
      --p3: #ff2fa8;
      --p4: #ffd1a6;
      --acc: #ff8c6c;
      --veil: rgba(255, 160, 130, .10);
    }
    .vibe-642[data-palette="glitch"] {
      --p1: #00f5ff;
      --p2: #ff00e6;
      --p3: #8cff00;
      --p4: #ffe26d;
      --acc: #7ea7ff;
      --veil: rgba(160, 180, 255, .10);
    }
    .vibe-642[data-palette="garden"] {
      --p1: #33d17a;
      --p2: #8bffd1;
      --p3: #66b8ff;
      --p4: #f3ffa6;
      --acc: #7fe0a8;
      --veil: rgba(150, 240, 190, .09);
    }

    /* Stage */
    .vibe-642 .loom {
      position: relative;
      min-height: clamp(560px, 72vh, 880px);
      border-radius: clamp(18px, 4vw, 32px);
      overflow: hidden;
      background:
        radial-gradient(120% 140% at 15% 10%, #0b1324 0 50%, transparent 60%),
        radial-gradient(120% 120% at 85% 20%, #0b1120 0 40%, transparent 60%),
        linear-gradient(180deg, #0a0f16, #06090f 60%, #05070d);
      border: 1px solid rgba(255,255,255,.06);
      box-shadow:
        0 40px 100px rgba(0,0,0,.55),
        inset 0 1px 0 rgba(255,255,255,.04);
      isolation: isolate;
    }

    /* Giant watermark 642 */
    .vibe-642 .loom::after {
      content: "642";
      position: absolute; inset: -10% -10% auto auto;
      top: 8%; right: 2%;
      font-weight: 800;
      font-size: clamp(120px, 30vw, 420px);
      letter-spacing: -0.02em;
      line-height: .8;
      background: linear-gradient(120deg, #ffffff18, #ffffff05 60%);
      -webkit-background-clip: text; background-clip: text;
      color: transparent;
      filter: blur(1px);
      opacity: .22;
      pointer-events: none;
      mix-blend-mode: overlay;
    }

    /* Gradient blobs (metaballs) */
    .vibe-642 .blob {
      position: absolute;
      border-radius: 50%;
      filter: blur(48px) saturate(130%);
      mix-blend-mode: screen;
      opacity: .9;
      will-change: transform, opacity;
      pointer-events: none;
    }
    .vibe-642 .b1 {
      width: 60vmin; height: 60vmin; left: -10%; top: 10%;
      background: radial-gradient(circle at 30% 30%, var(--p1), transparent 60%);
      animation: v642-floatA var(--d1, 26s) ease-in-out infinite;
    }
    .vibe-642 .b2 {
      width: 48vmin; height: 48vmin; right: -8%; top: 20%;
      background: radial-gradient(circle at 70% 40%, var(--p2), transparent 60%);
      animation: v642-floatB var(--d2, 32s) ease-in-out infinite;
    }
    .vibe-642 .b3 {
      width: 70vmin; height: 70vmin; left: 20%; bottom: -18%;
      background: radial-gradient(circle at 40% 60%, var(--p3), transparent 60%);
      animation: v642-floatC var(--d3, 38s) ease-in-out infinite;
    }

    /* Moiré veil */
    .vibe-642 .moire {
      position: absolute; inset: 0; pointer-events: none;
      background:
        repeating-linear-gradient(135deg,
          rgba(255,255,255,.12) 0 1px,
          transparent 1px var(--gap));
      opacity: .18;
      mix-blend-mode: soft-light;
      mask:
        radial-gradient(120% 140% at 20% 20%, #000 0 60%, transparent 80%),
        linear-gradient(#000, #000);
      animation: v642-drift var(--dV, 28s) linear infinite;
    }
    .vibe-642 .veil {
      position: absolute; inset: 0;
      background: radial-gradient(80% 60% at 80% 20%, var(--veil), transparent 60%);
      mix-blend-mode: overlay; pointer-events: none;
    }

    /* Orbiters that follow the pointer */
    .vibe-642 .orbiters { position: absolute; inset: 0; pointer-events: none; z-index: 2; }
    .vibe-642 .orb {
      position: absolute; width: 14px; height: 14px; border-radius: 50%;
      transform: translate3d(50%, 50%, 0);
      box-shadow:
        0 0 calc(14px + 18px * var(--glow)) currentColor,
        0 0 0 1px rgba(255,255,255,.25) inset;
      filter: saturate(140%);
      opacity: .95;
      transition: color .3s ease;
    }
    .vibe-642 .o1 { color: var(--p1); }
    .vibe-642 .o2 { color: var(--p2); width: 10px; height: 10px; }
    .vibe-642 .o3 { color: var(--p4); width: 12px; height: 12px; }

    /* Glass card */
    .vibe-642 .card {
      position: relative;
      z-index: 3;
      max-width: 980px;
      margin: min(8vw, 56px) auto;
      padding: clamp(22px, 5.5vw, 44px);
      border-radius: var(--r);
      background:
        linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06) 30%, rgba(255,255,255,.08) 100%);
      border: 1px solid var(--edge);
      box-shadow:
        0 10px 50px rgba(0,0,0,.45),
        inset 0 1px 0 rgba(255,255,255,.25);
      backdrop-filter: blur(14px) saturate(120%);
      -webkit-backdrop-filter: blur(14px) saturate(120%);
    }

    .vibe-642 .kicker {
      display: inline-flex; align-items: center; gap: 8px;
      font-size: 12px; letter-spacing: .18em; text-transform: uppercase;
      padding: 6px 10px; border-radius: 999px;
      color: var(--muted);
      background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12);
    }
    .vibe-642 .kicker::before {
      content: ""; width: 8px; height: 8px; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, var(--p1), var(--p2));
      box-shadow: 0 0 10px var(--p2);
    }

    .vibe-642 h1 {
      margin: 14px 0 6px;
      font-family: ui-serif, Georgia, "Times New Roman", serif;
      font-weight: 800;
      letter-spacing: -0.02em;
      line-height: 1.02;
      font-size: clamp(34px, 7.2vw, 76px);
      background: linear-gradient(90deg, var(--p4), var(--p3) 45%, var(--p1) 85%);
      -webkit-background-clip: text; background-clip: text; color: transparent;
      text-shadow: 0 0 30px rgba(255,255,255,.04);
    }

    .vibe-642 p.sub {
      margin: 8px 0 18px;
      font-size: clamp(14px, 2.2vw, 18px);
      line-height: 1.6;
      color: var(--muted);
    }

    /* Chips */
    .vibe-642 .chips { display: flex; flex-wrap: wrap; gap: 8px; margin: 12px 0 6px; }
    .vibe-642 .chip {
      appearance: none; cursor: pointer; border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      color: var(--ink);
      padding: 10px 14px; font-size: 12px; font-weight: 700; letter-spacing: .2px;
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease, color .2s ease;
    }
    .vibe-642 .chip:hover { transform: translateY(-1px); }
    .vibe-642 .chip[aria-pressed="true"] {
      color: #0c1016;
      border-color: transparent;
      background: linear-gradient(90deg, var(--p1), var(--p3));
      box-shadow: 0 10px 26px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.65);
    }

    /* CTAs */
    .vibe-642 .cta { display: flex; flex-wrap: wrap; gap: 10px; margin: 14px 0 10px; }
    .vibe-642 .btn {
      appearance: none; cursor: pointer; border-radius: 14px;
      padding: 12px 16px; font-weight: 800; font-size: 14px; letter-spacing: .24px;
      border: 1px solid rgba(255,255,255,.14);
      background: linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      color: var(--ink);
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
    }
    .vibe-642 .btn:hover { transform: translateY(-1px); }
    .vibe-642 .btn:active { transform: translateY(0); }
    .vibe-642 .btn.primary {
      color: #0c1016;
      background: linear-gradient(90deg, var(--p1), var(--p4));
      border-color: transparent;
      box-shadow: 0 10px 26px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.65);
    }

    /* Sliders */
    .vibe-642 .controls { display: grid; grid-template-columns: repeat(2, minmax(180px, 1fr)); gap: 14px; margin-top: 8px; }
    .vibe-642 label {
      display: grid; grid-template-columns: auto 1fr; align-items: center; gap: 10px;
      font-size: 12px; text-transform: uppercase; letter-spacing: .16em; color: var(--muted);
    }
    .vibe-642 input[type="range"] {
      -webkit-appearance: none; appearance: none; height: 8px; border-radius: 999px;
      background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.14);
      outline: none; overflow: hidden;
    }
    .vibe-642 input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff, #f3f6ff 40%, #d9e1ef 70%);
      box-shadow: 0 0 0 6px color-mix(in srgb, var(--p1) 40%, transparent);
      border: 1px solid rgba(0,0,0,.12); cursor: pointer;
    }
    .vibe-642 input[type="range"]::-moz-range-thumb {
      width: 18px; height: 18px; border: none; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff, #f3f6ff 40%, #d9e1ef 70%);
      box-shadow: 0 0 0 6px color-mix(in srgb, var(--p1) 40%, transparent); cursor: pointer;
    }
    .vibe-642 input[type="range"]::-moz-range-track {
      height: 8px; border-radius: 999px; background: rgba(255,255,255,.08); border: 1px solid rgba(255,255,255,.14);
    }

    .vibe-642 .meta {
      display: flex; align-items: center; gap: 10px; margin-top: 16px;
      font-size: 12px; color: var(--muted);
    }
    .vibe-642 .live {
      display: inline-flex; align-items: center; gap: 8px; padding: 6px 10px; border-radius: 999px;
      border: 1px solid rgba(255,255,255,.14); background: rgba(255,255,255,.06);
    }
    .vibe-642 .live .dot {
      width: 8px; height: 8px; border-radius: 50%; background: #27c965;
      box-shadow: 0 0 10px #27c965; animation: v642-pulse 2.2s ease-in-out infinite;
    }
    .vibe-642 #last-updated { opacity: .9; }

    /* Animations */
    @keyframes v642-floatA { 0%,100% { transform: translate(-8%, -5%) scale(1);} 50% { transform: translate(10%, 12%) scale(1.08);} }
    @keyframes v642-floatB { 0%,100% { transform: translate(6%, -4%) scale(1);} 50% { transform: translate(-8%, 10%) scale(1.14);} }
    @keyframes v642-floatC { 0%,100% { transform: translate(0%, 6%) scale(1);} 50% { transform: translate(-6%, -4%) scale(1.06);} }
    @keyframes v642-drift { to { background-position: 200% 200%; } }
    @keyframes v642-pulse { 0%,100% { transform: scale(1); opacity: .9;} 50% { transform: scale(1.15); opacity: 1;} }

    /* Responsive */
    @media (max-width: 640px) {
      .vibe-642 .controls { grid-template-columns: 1fr; }
      .vibe-642 .loom { min-height: 560px; }
    }
  </style>

  <section class="loom" role="img" aria-label="Shifting gradient tapestry with fine lines and orbiting lights">
    <div class="blob b1" aria-hidden="true"></div>
    <div class="blob b2" aria-hidden="true"></div>
    <div class="blob b3" aria-hidden="true"></div>
    <div class="moire" aria-hidden="true"></div>
    <div class="veil" aria-hidden="true"></div>

    <div class="orbiters" aria-hidden="true">
      <span class="orb o1"></span>
      <span class="orb o2"></span>
      <span class="orb o3"></span>
    </div>

    <article class="card" role="group" aria-labelledby="v642-title">
      <div class="kicker">Iteration 642 • Nebula Loom</div>
      <h1 id="v642-title">A generative night that hums</h1>
      <p class="sub">Glassy quiet, kinetic color. A tapestry that orbits your pointer and adjusts its rhythm to your taste.</p>

      <div class="chips" role="tablist" aria-label="Palettes">
        <button class="chip" role="tab" aria-pressed="true" data-pal="aurora">Aurora</button>
        <button class="chip" role="tab" aria-pressed="false" data-pal="magma">Magma</button>
        <button class="chip" role="tab" aria-pressed="false" data-pal="glitch">Glitch</button>
        <button class="chip" role="tab" aria-pressed="false" data-pal="garden">Garden</button>
      </div>

      <div class="cta">
        <button class="btn primary" id="v642-ignite">Ignite</button>
        <button class="btn" id="v642-calm">Calm</button>
      </div>

      <div class="controls">
        <label for="v642-flow">Flow
          <input id="v642-flow" type="range" min="0" max="1" step="0.01" value="0.9" />
        </label>
        <label for="v642-detail">Detail
          <input id="v642-detail" type="range" min="12" max="38" step="1" value="20" />
        </label>
      </div>

      <div class="meta">
        <span class="live"><span class="dot" aria-hidden="true"></span>Live</span>
        <span id="last-updated">Last updated: 2025-11-14 20:20:00 EST</span>
      </div>
    </article>
  </section>

  <script>
    (function(){
      const root = document.currentScript.closest('.vibe-642');
      const loom = root.querySelector('.loom');
      const blobs = [root.querySelector('.b1'), root.querySelector('.b2'), root.querySelector('.b3')];
      const moire = root.querySelector('.moire');
      const card = root.querySelector('.card');
      const orbs = [...root.querySelectorAll('.orb')];

      // Timestamp
      const last = root.querySelector('#last-updated');
      try {
        const fmt = new Intl.DateTimeFormat([], { dateStyle: 'medium', timeStyle: 'short' });
        last.textContent = 'Updated • ' + fmt.format(new Date());
      } catch (e) {
        last.textContent = 'Updated • ' + new Date().toLocaleString();
      }

      // Palettes
      const chips = root.querySelectorAll('.chip');
      const setPal = (pal) => {
        root.setAttribute('data-palette', pal);
        chips.forEach(c => c.setAttribute('aria-pressed', String(c.dataset.pal === pal)));
        // tiny feedback
        card.animate([{ transform: 'translateY(0)' }, { transform: 'translateY(-2px)' }, { transform: 'translateY(0)' }], { duration: 260, easing: 'ease-out' });
      };
      chips.forEach(c => c.addEventListener('click', () => setPal(c.dataset.pal)));

      // Flow + Detail
      const flow = root.querySelector('#v642-flow');
      const detail = root.querySelector('#v642-detail');

      // Base durations (seconds)
      const base = new Map([
        [blobs[0], 26],
        [blobs[1], 32],
        [blobs[2], 38],
        [moire, 28]
      ]);

      const applyFlow = (v) => {
        const val = Math.max(0, Math.min(1, parseFloat(v)));
        base.forEach((dur, el) => {
          if (!el) return;
          if (val <= 0.001) {
            el.style.animationPlayState = 'paused';
          } else {
            el.style.animationPlayState = 'running';
            el.style.animationDuration = (dur / val) + 's';
          }
        });
        // orb glow strength
        root.style.setProperty('--glow', (0.4 + val * 0.8).toFixed(2));
      };
      const applyDetail = (g) => {
        const gap = Math.round(g);
        root.style.setProperty('--gap', gap + 'px');
      };

      flow.addEventListener('input', () => applyFlow(flow.value));
      detail.addEventListener('input', () => applyDetail(detail.value));
      applyFlow(flow.value);
      applyDetail(detail.value);

      // CTAs
      root.querySelector('#v642-ignite').addEventListener('click', () => {
        flow.value = 1;
        applyFlow(1);
        // flash orbiters
        orbs.forEach((o, i) => {
          o.animate([{ transform: o.style.transform || 'translate3d(50%,50%,0) scale(1)' },
                     { transform: 'translate3d(50%,50%,0) scale(1.35)', offset: 0.5 },
                     { transform: o.style.transform || 'translate3d(50%,50%,0) scale(1)' }],
                     { duration: 600 + i*80, easing: 'cubic-bezier(.2,.9,.2,1)' });
        });
      });
      root.querySelector('#v642-calm').addEventListener('click', () => {
        flow.value = 0.25;
        applyFlow(0.25);
        card.animate([{ filter: 'brightness(1)' }, { filter: 'brightness(1.15)' }, { filter: 'brightness(1)' }],
                     { duration: 500, easing: 'ease-in-out' });
      });

      // Pointer orbiters follow with easing
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      let target = { x: 0.6, y: 0.35 };
      let pos = [
        { x: target.x, y: target.y },
        { x: target.x, y: target.y },
        { x: target.x, y: target.y }
      ];

      const clamp = (n, min, max) => Math.max(min, Math.min(n, max));
      const placeOrbs = () => {
        const r = loom.getBoundingClientRect();
        orbs.forEach((o, i) => {
          const x = pos[i].x * r.width;
          const y = pos[i].y * r.height;
          o.style.left = (x - o.offsetWidth/2) + 'px';
          o.style.top  = (y - o.offsetHeight/2) + 'px';
        });
      };

      const tick = () => {
        // different lag per orb
        const lag = [0.10, 0.06, 0.14];
        pos = pos.map((p, i) => {
          const k = lag[i];
          return { x: p.x + (target.x - p.x) * k, y: p.y + (target.y - p.y) * k };
        });
        placeOrbs();
        raf = requestAnimationFrame(tick);
      };

      let raf;
      const start = () => { if (!prefersReduced) raf = requestAnimationFrame(tick); };
      const stop = () => { if (raf) cancelAnimationFrame(raf); };

      loom.addEventListener('pointermove', (e) => {
        const r = loom.getBoundingClientRect();
        const x = clamp((e.clientX - r.left) / r.width, 0, 1);
        const y = clamp((e.clientY - r.top) / r.height, 0, 1);
        target = { x: x, y: y };
      });
      loom.addEventListener('pointerleave', () => { target = { x: .6, y: .35 }; });

      // Reduced motion? Ease back animations and stop orbiters
      if (prefersReduced) {
        applyFlow(0.35);
        stop();
      } else {
        start();
      }

      // Initialize positions on first layout
      requestAnimationFrame(placeOrbs);
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


