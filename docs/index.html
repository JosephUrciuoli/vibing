<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<style>
/* Scoped to this snippet only */
.vibe774 {
  --bg: #0b1020;
  --bg-2: #10162c;
  --ink: #e9eeff;
  --muted: #a9b3c9;
  --panel: rgba(17, 24, 46, 0.55);
  --panel-true: #121834;
  --border: rgba(255,255,255,0.12);
  --accent-1: #7dd3fc;
  --accent-2: #a78bfa;
  --accent-3: #34d399;
  --ring: #7dd3fc;
  --shadow-1: 0 18px 50px rgba(0,0,0,0.45);
  --shadow-2: 0 30px 80px rgba(0,0,0,0.6);
  --radius: 22px;
  --mx: 50%;
  --my: 50%;
  position: relative;
  isolation: isolate;
  color: var(--ink);
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", "Noto Sans", Arial, "Apple Color Emoji", "Segoe UI Emoji";
  border-radius: 30px;
  overflow: hidden;
  background:
    radial-gradient(1200px 900px at 10% 0%, rgba(167,139,250,0.14), transparent 60%),
    radial-gradient(1000px 800px at 100% 100%, rgba(52,211,153,0.14), transparent 60%),
    linear-gradient(160deg, var(--bg), var(--bg-2));
  box-shadow: 0 26px 90px rgba(4, 8, 24, 0.65);
}

/* kinetic aurora */
.vibe774::before {
  content: "";
  position: absolute;
  inset: -20%;
  background:
    radial-gradient(50% 40% at calc(var(--mx)) calc(var(--my)), rgba(125,211,252,0.25), transparent 60%),
    radial-gradient(45% 35% at calc(100% - var(--mx)) calc(100% - var(--my)), rgba(167,139,250,0.2), transparent 65%),
    conic-gradient(from 0deg at var(--mx) var(--my), rgba(255,255,255,0.12), rgba(255,255,255,0) 40%, rgba(255,255,255,0.12), rgba(255,255,255,0) 80%);
  filter: blur(28px) saturate(120%);
  mix-blend-mode: screen;
  animation: swirl774 22s ease-in-out infinite alternate;
  pointer-events: none;
  z-index: -1;
}
@keyframes swirl774 {
  0% { transform: rotate(0deg) scale(1); opacity: .9; }
  100% { transform: rotate(12deg) scale(1.05); opacity: 1; }
}

/* light mode palette */
.vibe774[data-theme="dawn"] {
  --bg: #f6f8ff;
  --bg-2: #eef2ff;
  --ink: #0f1428;
  --muted: #5e6a86;
  --panel: rgba(255,255,255,0.6);
  --panel-true: #ffffff;
  --border: rgba(10,30,80,0.14);
  --accent-1: #2563eb;
  --accent-2: #f59e0b;
  --accent-3: #10b981;
  --ring: #0ea5e9;
  --shadow-1: 0 18px 50px rgba(13,29,80,0.16);
  --shadow-2: 0 30px 80px rgba(13,29,80,0.22);
}

/* sky canvas underlay */
.vibe774 .sky {
  position: absolute; inset: 0;
  width: 100%; height: 42%;
  display: block;
  filter: saturate(120%) blur(0.2px);
  opacity: 0.8;
}

/* top chrome */
.vibe774 .chrome {
  display: flex; align-items: center; justify-content: space-between;
  gap: 12px; padding: 16px 18px;
  background: linear-gradient(to bottom, rgba(255,255,255,0.08), rgba(255,255,255,0));
  border-bottom: 1px solid var(--border);
  backdrop-filter: blur(10px);
}
.vibe774[data-theme="dawn"] .chrome {
  background: linear-gradient(to bottom, rgba(255,255,255,0.55), rgba(255,255,255,0));
}

.vibe774 .brand { display: flex; align-items: center; gap: 12px; }
.vibe774 .prism {
  width: 30px; height: 30px; border-radius: 9px;
  background: conic-gradient(from 210deg, var(--accent-1), var(--accent-2), var(--accent-3), var(--accent-1));
  box-shadow: inset 0 1px 1px rgba(255,255,255,0.7), var(--shadow-1);
  position: relative; overflow: hidden;
}
.vibe774 .prism::after {
  content:""; position:absolute; inset:4px; border-radius: 7px;
  background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.7), transparent 65%);
  mix-blend-mode: screen;
}
.vibe774 .title {
  font-weight: 800; letter-spacing: .4px; font-size: 15px;
}

/* controls */
.vibe774 .controls { display:flex; gap: 10px; align-items:center; }
.vibe774 .chip {
  appearance:none; border:1px solid var(--border); background: var(--panel);
  color: var(--ink); font-size: 12px; padding: 8px 12px; border-radius:999px;
  cursor:pointer; box-shadow: var(--shadow-1);
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
}
.vibe774 .chip:hover { transform: translateY(-1px); }
.vibe774 .chip[aria-pressed="true"] { outline: 2px solid var(--ring); outline-offset: 2px; }

/* stage */
.vibe774 .stage {
  display: grid; grid-template-columns: 1.2fr .8fr; gap: 20px; padding: 20px;
}
@media (max-width: 820px) { .vibe774 .stage { grid-template-columns: 1fr; } }

/* poster */
.vibe774 .poster {
  position: relative; overflow:hidden;
  border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0));
  border: 1px solid var(--border);
  box-shadow: var(--shadow-2);
  padding: 28px;
}
.vibe774[data-theme="dawn"] .poster {
  background: linear-gradient(180deg, rgba(255,255,255,0.8), rgba(255,255,255,0.45));
}
.vibe774 .mesh {
  position:absolute; inset:-20%;
  background:
    radial-gradient(40% 30% at 20% 25%, rgba(37,99,235,0.18), transparent 60%),
    radial-gradient(50% 35% at 85% 30%, rgba(245,158,11,0.2), transparent 60%),
    radial-gradient(60% 45% at 60% 80%, rgba(16,185,129,0.18), transparent 70%);
  filter: saturate(130%) blur(10px);
  mix-blend-mode: screen;
  animation: drift774 24s ease-in-out infinite;
  pointer-events:none;
}
@keyframes drift774 {
  0%,100% { transform: translate3d(0,0,0) scale(1); }
  50% { transform: translate3d(2%, -2%, 0) scale(1.06); }
}

.vibe774 .kicker {
  display:inline-block; font-size: 11px; letter-spacing: .28em; text-transform: uppercase;
  background: linear-gradient(90deg, var(--accent-1), var(--accent-3));
  -webkit-background-clip: text; background-clip: text; color: transparent;
}
.vibe774 h1 {
  margin: 10px 0 12px; line-height: 1.02; letter-spacing: -0.02em;
  font-size: clamp(34px, 5.4vw, 66px);
  background: linear-gradient(120deg, var(--ink), var(--accent-1), var(--accent-3));
  -webkit-background-clip: text; background-clip: text; color: transparent;
  filter: drop-shadow(0 6px 24px rgba(37,99,235,0.18));
  animation: textglow774 8s ease-in-out infinite alternate;
}
@keyframes textglow774 {
  0% { text-shadow: 0 0 0 rgba(0,0,0,0); }
  100% { text-shadow: 0 12px 28px rgba(16,185,129,0.18); }
}
.vibe774 .sub {
  color: var(--muted); font-size: 14px; line-height: 1.7; max-width: 60ch; margin-bottom: 14px;
}

.vibe774 .cta-row { display:flex; flex-wrap:wrap; gap: 10px; margin: 12px 0 18px; }
.vibe774 .cta {
  position: relative; border: 1px solid var(--border); background: var(--panel);
  color: var(--ink); padding: 10px 14px; border-radius: 999px; font-size: 13px; cursor: pointer;
  transition: transform .15s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
  box-shadow: var(--shadow-1);
}
.vibe774 .cta.primary {
  background: linear-gradient(135deg, rgba(37,99,235,0.3), rgba(16,185,129,0.25));
  border-color: rgba(37,99,235,0.28);
}
.vibe774 .cta:hover { transform: translateY(-1px); box-shadow: 0 14px 30px rgba(0,0,0,0.25); }

/* orrery card */
.vibe774 .orrery {
  position: relative; border-radius: var(--radius);
  background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0));
  border: 1px solid var(--border); box-shadow: var(--shadow-2);
  min-height: 300px; overflow:hidden; display:grid; place-items:center; padding: 10px;
}
.vibe774[data-theme="dawn"] .orrery {
  background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.5));
}
.vibe774 .ringlight {
  position:absolute; inset:-40%;
  border-radius:50%;
  background:
    radial-gradient(circle at 50% 50%, rgba(255,255,255,0.12), rgba(255,255,255,0.05) 40%, transparent 60%),
    conic-gradient(from 0deg, rgba(37,99,235,0.32), rgba(16,185,129,0.32), rgba(245,158,11,0.32), rgba(37,99,235,0.32));
  filter: blur(14px) saturate(130%);
  mix-blend-mode: screen; animation: spin774 18s linear infinite;
}
@keyframes spin774 { to { transform: rotate(360deg); } }

.vibe774 svg.solar {
  width: 86%; height: 86%; overflow: visible;
}
.vibe774 .orbit { fill:none; stroke: rgba(255,255,255,0.14); stroke-width: 1.2; }
.vibe774[data-theme="dawn"] .orbit { stroke: rgba(15,23,42,0.12); }
.vibe774 .planet { fill: url(#p774); filter: drop-shadow(0 6px 18px rgba(37,99,235,0.3)); }
.vibe774 .dash {
  stroke: url(#g774); stroke-width: 3; fill: none;
  filter: drop-shadow(0 0 18px rgba(37,99,235,0.35));
}

/* cards */
.vibe774 .cards {
  display: grid; grid-template-columns: repeat(3, minmax(0,1fr));
  gap: 14px; padding: 0 20px 18px;
}
@media (max-width: 900px) { .vibe774 .cards { grid-template-columns: 1fr; } }
.vibe774 .card {
  border: 1px solid var(--border); background: var(--panel);
  border-radius: 16px; padding: 14px 16px; box-shadow: var(--shadow-1);
  display:flex; gap: 10px; align-items: flex-start; transition: transform .2s ease, box-shadow .2s ease;
}
.vibe774 .card:hover { transform: translateY(-2px); box-shadow: 0 18px 40px rgba(0,0,0,0.28); }
.vibe774 .ico {
  width: 28px; height: 28px; border-radius: 8px; flex: 0 0 auto;
  background: linear-gradient(135deg, var(--accent-1), var(--accent-3));
  box-shadow: inset 0 1px 1px rgba(255,255,255,0.7);
}
.vibe774 .card p { margin:0; font-size:13px; color: var(--muted); }
.vibe774 .card strong { display:block; color: var(--ink); margin-bottom:3px; }

/* footer */
.vibe774 .note {
  display:flex; align-items:center; justify-content:space-between; gap: 10px;
  padding: 14px 18px 18px; border-top: 1px solid var(--border);
  color: var(--muted); font-size: 12px;
}

/* interactive ripples */
.vibe774 .ripple {
  position:absolute; width:8px; height:8px; border-radius:50%;
  background: radial-gradient(circle, rgba(125,211,252,0.45), transparent 70%);
  transform: translate(-50%,-50%) scale(1);
  animation: ripple774 950ms ease-out forwards; pointer-events:none;
}
.vibe774[data-theme="dawn"] .ripple {
  background: radial-gradient(circle, rgba(37,99,235,0.35), transparent 70%);
}
@keyframes ripple774 { to { transform: translate(-50%,-50%) scale(26); opacity: 0; } }

/* reduced motion */
@media (prefers-reduced-motion: reduce) {
  .vibe774 * { animation: none !important; transition: none !important; }
  .vibe774 .sky { display: none !important; }
}
</style>

<div class="vibe774" role="region" aria-label="Lumen Loom" data-theme="midnight">
  <canvas class="sky" aria-hidden="true"></canvas>

  <div class="chrome">
    <div class="brand">
      <div class="prism" aria-hidden="true"></div>
      <div class="title">Lumen Studio — 774</div>
    </div>
    <div class="controls" aria-label="Controls">
      <button class="chip" data-action="theme" aria-pressed="false" title="Toggle theme">Theme</button>
      <button class="chip" data-action="motion" aria-pressed="false" title="Pause/Play motion">Motion</button>
      <button class="chip" data-action="palette" aria-pressed="false" title="Shuffle palette">Shuffle</button>
    </div>
  </div>

  <div class="stage">
    <section class="poster" aria-label="Poster">
      <div class="mesh" aria-hidden="true"></div>
      <span class="kicker">A kinetic poster for thoughtful tools</span>
      <h1>Calm craft.<br/>Brighter software.</h1>
      <p class="sub">
        An interface that breathes: soft gradients, tactility without clutter, and motion that bows to intent. Point anywhere—light follows.
      </p>
      <div class="cta-row">
        <button class="cta primary" data-action="ping">Make a ripple</button>
        <button class="cta" data-action="peek">10‑second peek</button>
      </div>
    </section>

    <section class="orrery" aria-label="Orrery">
      <div class="ringlight" aria-hidden="true"></div>
      <svg class="solar" viewBox="0 0 200 200" aria-hidden="true">
        <defs>
          <linearGradient id="g774" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="var(--accent-1)"/>
            <stop offset="50%" stop-color="var(--accent-3)"/>
            <stop offset="100%" stop-color="var(--accent-2)"/>
          </linearGradient>
          <radialGradient id="p774" cx="50%" cy="50%" r="50%">
            <stop offset="0%" stop-color="#fff"/>
            <stop offset="100%" stop-color="var(--accent-1)"/>
          </radialGradient>
        </defs>

        <!-- orbits -->
        <circle class="orbit" cx="100" cy="100" r="34"/>
        <circle class="orbit" cx="100" cy="100" r="58" opacity=".8"/>
        <circle class="orbit" cx="100" cy="100" r="82" opacity=".6"/>
        <circle class="dash" cx="100" cy="100" r="70" stroke-dasharray="440" stroke-dashoffset="0" id="dash774"/>

        <!-- planets (will rotate via JS) -->
        <g id="o1" transform="rotate(0 100 100)">
          <circle class="planet" cx="100" cy="66" r="4"/>
        </g>
        <g id="o2" transform="rotate(0 100 100)">
          <circle class="planet" cx="100" cy="42" r="3.2"/>
        </g>
        <g id="o3" transform="rotate(0 100 100)">
          <circle class="planet" cx="100" cy="18" r="2.4"/>
        </g>

        <!-- star -->
        <circle cx="100" cy="100" r="6" fill="url(#g774)"/>
      </svg>
    </section>
  </div>

  <div class="cards" aria-label="Principles">
    <div class="card">
      <div class="ico" aria-hidden="true"></div>
      <div>
        <strong>Quiet confidence</strong>
        <p>Clarity first. The styling helps—but never competes—with your work.</p>
      </div>
    </div>
    <div class="card">
      <div class="ico" style="background:linear-gradient(135deg, var(--accent-3), var(--accent-2))" aria-hidden="true"></div>
      <div>
        <strong>Polite motion</strong>
        <p>Animations respond to you, respect reduced‑motion, and step aside on pause.</p>
      </div>
    </div>
    <div class="card">
      <div class="ico" style="background:linear-gradient(135deg, var(--accent-2), var(--accent-1))" aria-hidden="true"></div>
      <div>
        <strong>Tactile edges</strong>
        <p>Soft shadows, crisp borders: a surface you can almost touch.</p>
      </div>
    </div>
  </div>

  <div class="note">
    <span>“Simplicity is a posture, not an absence.”</span>
    <span><span id="last-updated">Last updated: 2025-11-20 23:21:14 EST</span></span>
  </div>
</div>

<script>
(function(){
  const root = document.currentScript.previousElementSibling;
  if (!root || !root.classList.contains('vibe774')) return;

  // theme init from OS
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
  root.dataset.theme = prefersDark ? 'midnight' : 'dawn';
  const themeBtn = root.querySelector('[data-action="theme"]');
  const motionBtn = root.querySelector('[data-action="motion"]');
  const paletteBtn = root.querySelector('[data-action="palette"]');
  themeBtn.setAttribute('aria-pressed', root.dataset.theme === 'midnight');

  // last updated
  const lu = root.querySelector('#last-updated');
  try {
    const now = new Date();
    const fmt = new Intl.DateTimeFormat(undefined, { dateStyle: 'medium', timeStyle: 'short', timeZoneName: 'short' });
    lu.textContent = 'Last updated: ' + fmt.format(now);
  } catch(e) {
    lu.textContent = 'Last updated: ' + new Date().toLocaleString();
  }

  // mouse-driven light
  function handleMouse(e){
    const r = root.getBoundingClientRect();
    const x = ((e.clientX - r.left) / r.width) * 100;
    const y = ((e.clientY - r.top) / r.height) * 100;
    root.style.setProperty('--mx', x.toFixed(2) + '%');
    root.style.setProperty('--my', y.toFixed(2) + '%');
  }
  root.addEventListener('mousemove', handleMouse);

  // theme toggle
  themeBtn.addEventListener('click', () => {
    const t = root.dataset.theme === 'midnight' ? 'dawn' : 'midnight';
    root.dataset.theme = t;
    themeBtn.setAttribute('aria-pressed', t === 'midnight');
  });

  // palettes
  const palettes = [
    ['#7dd3fc', '#a78bfa', '#34d399'],
    ['#ff8a7a', '#ffd166', '#8ecae6'],
    ['#22d3ee', '#f472b6', '#a3e635']
  ];
  let pIndex = 0;
  function applyPalette([a1,a2,a3]) {
    root.style.setProperty('--accent-1', a1);
    root.style.setProperty('--accent-2', a2);
    root.style.setProperty('--accent-3', a3);
  }
  paletteBtn.addEventListener('click', () => {
    pIndex = (pIndex + 1) % palettes.length;
    applyPalette(palettes[pIndex]);
    paletteBtn.setAttribute('aria-pressed', String(pIndex !== 0));
  });

  // motion control
  let paused = false;
  function setCSSPlayState(isPaused) {
    root.querySelectorAll('*').forEach(el => { el.style.animationPlayState = isPaused ? 'paused' : 'running'; });
  }
  motionBtn.addEventListener('click', () => {
    paused = !paused;
    motionBtn.setAttribute('aria-pressed', String(paused));
    setCSSPlayState(paused);
    if (paused) {
      cancelAnimationFrame(rafCanvas);
      cancelAnimationFrame(rafOrrery);
    } else {
      canvasLoop();
      orreryLoop();
    }
  });
  if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
    paused = true;
    motionBtn.setAttribute('aria-pressed', 'true');
    setCSSPlayState(true);
  }

  // poster ripple
  const poster = root.querySelector('.poster');
  root.querySelector('[data-action="ping"]').addEventListener('click', (ev) => {
    const rect = poster.getBoundingClientRect();
    const x = ev.clientX - rect.left, y = ev.clientY - rect.top;
    const dot = document.createElement('span');
    dot.className = 'ripple';
    dot.style.left = x + 'px';
    dot.style.top = y + 'px';
    poster.appendChild(dot);
    dot.addEventListener('animationend', () => dot.remove());
  });

  // peek demo
  root.querySelector('[data-action="peek"]').addEventListener('click', () => {
    const dash = root.querySelector('#dash774');
    dash.style.transition = 'stroke-dashoffset 1.8s ease';
    dash.style.strokeDashoffset = '-440';
    setTimeout(() => { dash.style.strokeDashoffset = '0'; }, 1900);
    poster.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
  });

  // canvas: star drift
  const canvas = root.querySelector('.sky');
  const ctx = canvas.getContext('2d', { alpha: true });
  let stars = [];
  let rafCanvas;
  const DPR = Math.max(1, window.devicePixelRatio || 1);
  let wind = { x: 0, y: 0 };

  function resizeCanvas(){
    const rect = canvas.getBoundingClientRect();
    canvas.width = Math.max(1, rect.width * DPR);
    canvas.height = Math.max(1, rect.height * DPR);
    ctx.scale(DPR, DPR);
    spawnStars();
  }
  function spawnStars(){
    const rect = canvas.getBoundingClientRect();
    const count = Math.floor(rect.width * rect.height / 12000);
    stars = Array.from({length: count}, () => ({
      x: Math.random()*rect.width,
      y: Math.random()*rect.height,
      s: Math.random()*1.6 + 0.3,
      a: Math.random()*Math.PI*2,
      sp: Math.random()*0.6 + 0.2
    }));
  }
  function canvasLoop(){
    const rect = canvas.getBoundingClientRect();
    ctx.clearRect(0,0,rect.width,rect.height);
    ctx.globalCompositeOperation = 'lighter';
    for (const st of stars) {
      st.x += Math.cos(st.a)*st.sp + wind.x*0.06;
      st.y += Math.sin(st.a)*st.sp + wind.y*0.06;
      if (st.x < -5) st.x = rect.width+5;
      if (st.x > rect.width+5) st.x = -5;
      if (st.y < -5) st.y = rect.height+5;
      if (st.y > rect.height+5) st.y = -5;

      const g = ctx.createRadialGradient(st.x, st.y, 0, st.x, st.y, 14);
      g.addColorStop(0, 'rgba(255,255,255,0.6)');
      g.addColorStop(1, 'rgba(255,255,255,0)');
      ctx.fillStyle = g;
      ctx.beginPath(); ctx.arc(st.x, st.y, st.s*1.4, 0, Math.PI*2); ctx.fill();
    }
    ctx.globalCompositeOperation = 'source-over';
    if (!paused) rafCanvas = requestAnimationFrame(canvasLoop);
  }
  const mouseWind = (e) => {
    const r = root.getBoundingClientRect();
    wind.x = ((e.clientX - (r.left + r.width/2)) / r.width) * 8;
    wind.y = ((e.clientY - (r.top + r.height/3)) / r.height) * 6;
  };
  root.addEventListener('mousemove', mouseWind);
  window.addEventListener('resize', resizeCanvas, { passive: true });
  resizeCanvas();
  if (!paused) canvasLoop();

  // Orrery animation (time-synced)
  const o1 = root.querySelector('#o1');
  const o2 = root.querySelector('#o2');
  const o3 = root.querySelector('#o3');
  const dash = root.querySelector('#dash774');
  const r = 70;
  const twoPiR = 2 * Math.PI * r;
  dash.setAttribute('stroke-dasharray', String(twoPiR.toFixed(2)));

  let rafOrrery;
  function orreryLoop(){
    const now = new Date();
    const ms = now.getMilliseconds();
    const s = now.getSeconds() + ms/1000;
    const m = now.getMinutes() + s/60;
    const h = (now.getHours()%12) + m/60;

    const d1 = (h * 30) % 360;           // slow
    const d2 = (m * 6) % 360;            // medium
    const d3 = (s * 6) % 360;            // fast

    o1.setAttribute('transform', `rotate(${d1.toFixed(3)} 100 100)`);
    o2.setAttribute('transform', `rotate(${d2.toFixed(3)} 100 100)`);
    o3.setAttribute('transform', `rotate(${d3.toFixed(3)} 100 100)`);

    const offset = (1 - (s/60)) * twoPiR;
    dash.setAttribute('stroke-dashoffset', offset.toFixed(2));

    if (!paused) rafOrrery = requestAnimationFrame(orreryLoop);
  }
  if (!paused) orreryLoop();
  document.addEventListener('visibilitychange', () => {
    if (document.hidden) { cancelAnimationFrame(rafCanvas); cancelAnimationFrame(rafOrrery); }
    else if (!paused) { canvasLoop(); orreryLoop(); }
  });

  // focus rings
  root.querySelectorAll('button').forEach(btn => {
    btn.addEventListener('focus', () => btn.style.outline = `2px solid var(--ring)`);
    btn.addEventListener('blur', () => btn.style.outline = 'none');
  });
})();
</script>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


