<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="v1396-atelier" aria-label="Kinetic Tapestry • 1396">
  <style>
    .v1396-atelier {
      --ink: #0f172a;
      --muted: color-mix(in oklab, var(--ink), transparent 45%);
      --bg-1: #fbfdff;
      --bg-2: #f5f2ff;
      --ac-1: #5a9cff;
      --ac-2: #b97bff;
      --ac-3: #69ffdb;
      --glass: rgba(255,255,255,0.7);
      --stroke-w: 6;
      position: relative;
      min-height: 720px;
      border-radius: 28px;
      overflow: hidden;
      padding: clamp(20px, 4vw, 48px);
      color: var(--ink);
      background:
        radial-gradient(140% 120% at calc(var(--mx, 70%)) calc(var(--my, 20%)), color-mix(in oklab, var(--ac-3), transparent 85%), transparent 60%),
        radial-gradient(120% 140% at 20% 80%, color-mix(in oklab, var(--ac-1), transparent 88%), transparent 64%),
        linear-gradient(180deg, var(--bg-1), var(--bg-2));
      box-shadow: 0 50px 140px rgba(10,16,36,0.18), inset 0 1px 0 rgba(255,255,255,0.8);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Inter, Roboto, Helvetica, Arial, "Apple Color Emoji","Segoe UI Emoji";
      isolation: isolate;
    }
    .v1396-atelier.noir {
      --ink: #e7eeff;
      --muted: color-mix(in oklab, var(--ink), transparent 35%);
      --bg-1: #090e1f;
      --bg-2: #0b0f24;
      --glass: rgba(18,22,46,0.5);
      box-shadow: 0 50px 160px rgba(0,0,0,0.6), inset 0 1px 0 rgba(255,255,255,0.06);
      background:
        radial-gradient(160% 120% at calc(var(--mx, 70%)) calc(var(--my, 20%)), color-mix(in oklab, var(--ac-2), transparent 88%), transparent 60%),
        radial-gradient(120% 160% at 10% 90%, color-mix(in oklab, var(--ac-1), transparent 88%), transparent 64%),
        linear-gradient(180deg, #070b1e, #0a0f26);
    }

    /* Ambient, animated tactility */
    .v1396-atelier::before {
      content: "";
      position: absolute; inset: -40%;
      background:
        repeating-linear-gradient(145deg, rgba(255,255,255,0.12) 0 2px, transparent 2px 24px),
        repeating-linear-gradient(35deg, rgba(0,0,0,0.04) 0 1px, transparent 1px 20px);
      mix-blend-mode: overlay;
      opacity: .35;
      transform: translateZ(0);
      animation: v1396-drift 24s linear infinite;
      pointer-events: none;
      z-index: 0;
    }
    .v1396-atelier.noir::before { opacity: .18; }
    @keyframes v1396-drift {
      to { transform: translate3d(6%, -6%, 0) rotate(0.1deg); }
    }

    /* Stage for SVG ribbon */
    .v1396-stage {
      position: absolute; inset: 0;
      z-index: 1; pointer-events: none;
      filter: drop-shadow(0 24px 70px rgba(70, 90, 255, 0.22));
    }
    .v1396-stage svg { width: 100%; height: 100%; display: block; }

    /* Content shell */
    .v1396-shell {
      position: relative; z-index: 2;
      display: grid; gap: clamp(12px, 2.6vw, 28px);
      grid-template-rows: auto auto 1fr auto;
    }

    .v1396-mast {
      display: grid; grid-template-columns: 1fr auto; align-items: center; gap: 14px;
    }
    .v1396-brand {
      display: grid; grid-template-columns: auto 1fr; gap: 12px; align-items: center;
    }
    .v1396-glyph {
      width: 46px; height: 46px; border-radius: 16px; position: relative;
      background:
        radial-gradient(90% 90% at 60% 25%, #ffffff 0%, rgba(255,255,255,0.5) 30%, transparent 40%),
        conic-gradient(from 200deg, var(--ac-1), var(--ac-2), var(--ac-3), var(--ac-1));
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.7), 0 8px 20px rgba(15,23,42,0.18);
      -webkit-mask: radial-gradient(28px 28px at 60% 40%, transparent 52%, #000 53%) exclude, linear-gradient(#000,#000);
              mask: radial-gradient(28px 28px at 60% 40%, transparent 52%, #000 53%) exclude, linear-gradient(#000,#000);
      animation: v1396-spin 18s linear infinite;
    }
    @keyframes v1396-spin { to { transform: rotate(360deg); } }

    .v1396-pill {
      font-size: 11px; letter-spacing: .12em; text-transform: uppercase;
      padding: 7px 11px; border-radius: 999px; width: fit-content;
      background: var(--glass);
      border: 1px solid color-mix(in oklab, var(--ink), transparent 86%);
      color: var(--ink);
      box-shadow: 0 8px 20px rgba(15,23,42,0.1), inset 0 1px 0 rgba(255,255,255,0.85);
    }
    .v1396-atelier.noir .v1396-pill {
      background: rgba(255,255,255,0.06);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), 0 10px 24px rgba(0,0,0,0.4);
    }

    .v1396-atelier h1 {
      margin: 6px 0 0;
      font-size: clamp(40px, 8.2vw, 120px);
      line-height: 0.95;
      font-weight: 900;
      letter-spacing: -0.02em;
      background: linear-gradient(90deg, var(--ink), var(--ac-1));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      text-wrap: balance;
    }
    .v1396-atelier .lede {
      margin: 6px 0 2px; max-width: 70ch;
      font-size: clamp(14px, 2.1vw, 20px);
      color: var(--muted);
    }

    /* Controls */
    .v1396-deck {
      display: grid; grid-auto-flow: column; grid-auto-columns: max-content;
      gap: 10px; align-items: center; width: fit-content;
      background: linear-gradient(180deg, var(--glass), color-mix(in oklab, var(--glass), transparent 24%));
      border: 1px solid color-mix(in oklab, var(--ink), transparent 86%);
      border-radius: 18px; padding: 12px;
      backdrop-filter: blur(10px) saturate(1.06);
      box-shadow: 0 18px 42px rgba(15,23,42,0.18), inset 0 1px 0 rgba(255,255,255,0.28);
    }
    .v1396-btn {
      appearance: none; border: 1px solid color-mix(in oklab, var(--ink), transparent 82%);
      background: linear-gradient(180deg, rgba(255,255,255,0.96), rgba(255,255,255,0.78));
      color: var(--ink); border-radius: 12px; padding: 8px 12px; font-weight: 800; font-size: 13px; letter-spacing: .02em;
      cursor: pointer; user-select: none;
      box-shadow: 0 6px 18px rgba(15,23,42,0.12), inset 0 1px 0 rgba(255,255,255,0.85);
      transition: transform .12s ease, background .2s ease, box-shadow .2s ease;
    }
    .v1396-btn:hover { transform: translateY(-1px); }
    .v1396-btn[aria-pressed="true"] {
      background: linear-gradient(180deg, color-mix(in oklab, var(--ac-1), white 30%), var(--ac-1));
      color: #0b1324;
      border-color: color-mix(in oklab, var(--ac-1), black 16%);
      box-shadow: 0 16px 34px color-mix(in oklab, var(--ac-1), transparent 55%), inset 0 1px 0 rgba(255,255,255,0.85);
    }
    .v1396-atelier.noir .v1396-btn {
      background: linear-gradient(180deg, rgba(24,32,60,0.9), rgba(20,28,52,0.9));
      color: var(--ink);
      box-shadow: 0 6px 18px rgba(0,0,0,0.38), inset 0 1px 0 rgba(255,255,255,0.08);
    }

    .v1396-chip {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 7px 10px; border-radius: 999px;
      border: 1px solid color-mix(in oklab, var(--ink), transparent 86%);
      background: linear-gradient(180deg, rgba(255,255,255,0.86), rgba(255,255,255,0.72));
      font-size: 12px; letter-spacing: .06em; text-transform: uppercase; color: var(--ink);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.85);
      white-space: nowrap;
    }
    .v1396-atelier.noir .v1396-chip {
      background: linear-gradient(180deg, rgba(24,32,60,0.9), rgba(20,28,52,0.9));
      color: var(--ink); box-shadow: inset 0 1px 0 rgba(255,255,255,0.1);
    }
    .v1396-atelier input[type="range"] {
      -webkit-appearance: none; appearance: none; height: 6px; width: 160px; border-radius: 999px;
      background: linear-gradient(90deg, var(--ac-1), color-mix(in oklab, var(--ac-2), white 20%));
      outline: none;
    }
    .v1396-atelier input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none; appearance: none; height: 16px; width: 16px; border-radius: 50%;
      background: #fff; border: 2px solid color-mix(in oklab, var(--ac-1), black 12%);
      box-shadow: 0 2px 8px rgba(15,23,42,0.25); cursor: pointer;
    }
    .v1396-atelier input[type="range"]::-moz-range-thumb {
      height: 16px; width: 16px; border-radius: 50%;
      background: #fff; border: 2px solid color-mix(in oklab, var(--ac-1), black 12%);
      box-shadow: 0 2px 8px rgba(15,23,42,0.25); cursor: pointer;
    }

    .v1396-meta {
      display: flex; align-items: center; gap: 12px; flex-wrap: wrap;
      margin-top: 10px; font-size: 12px; color: var(--muted);
    }
    .v1396-status {
      display: inline-flex; align-items: center; gap: 8px;
      padding: 6px 10px; border-radius: 999px;
      border: 1px solid color-mix(in oklab, var(--ink), transparent 86%);
      background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.5));
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.7);
    }
    .v1396-atelier.noir .v1396-status {
      background: linear-gradient(180deg, rgba(24,32,60,0.85), rgba(20,28,52,0.85));
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.08);
    }

    @media (max-width: 920px) {
      .v1396-deck { grid-auto-flow: row; grid-template-columns: 1fr 1fr; width: 100%; }
      .v1396-atelier input[type="range"] { width: 100%; }
    }

    @media (prefers-reduced-motion: reduce) {
      .v1396-atelier::before { animation: none; }
      .v1396-glyph { animation: none; }
      .v1396-stage { filter: none; }
    }
  </style>

  <div class="v1396-stage" aria-hidden="true">
    <svg id="v1396-svg" viewBox="0 0 1000 600" preserveAspectRatio="none">
      <defs>
        <linearGradient id="v1396-grad-1" x1="0" y1="0" x2="1" y2="0">
          <stop offset="0%" stop-color="#5a9cff"/>
          <stop offset="50%" stop-color="#b97bff"/>
          <stop offset="100%" stop-color="#69ffdb"/>
        </linearGradient>
        <linearGradient id="v1396-grad-2" x1="1" y1="0" x2="0" y2="1">
          <stop offset="0%" stop-color="#69ffdb"/>
          <stop offset="50%" stop-color="#5a9cff"/>
          <stop offset="100%" stop-color="#b97bff"/>
        </linearGradient>
        <filter id="v1396-blur" x="-20%" y="-40%" width="140%" height="180%">
          <feGaussianBlur stdDeviation="8" result="b"/>
          <feMerge>
            <feMergeNode in="b"/>
            <feMergeNode in="SourceGraphic"/>
          </feMerge>
        </filter>
      </defs>
      <path id="v1396-path-1" d="" fill="none" stroke="url(#v1396-grad-1)" stroke-width="6" stroke-linecap="round" filter="url(#v1396-blur)" opacity="0.9"/>
      <path id="v1396-path-2" d="" fill="none" stroke="url(#v1396-grad-2)" stroke-width="10" stroke-linecap="round" filter="url(#v1396-blur)" opacity="0.5"/>
      <path id="v1396-path-3" d="" fill="none" stroke="url(#v1396-grad-1)" stroke-width="2" stroke-linecap="round" opacity="0.35"/>
    </svg>
  </div>

  <div class="v1396-shell">
    <div class="v1396-mast">
      <div class="v1396-brand">
        <div class="v1396-glyph" aria-hidden="true"></div>
        <span class="v1396-pill">Kinetic Tapestry • Iteration 1396</span>
      </div>
      <button class="v1396-btn" id="v1396-noir" aria-pressed="false" title="Toggle Noir">Noir</button>
    </div>

    <h1>Tune the ribbon. Let color breathe.</h1>
    <p class="lede">A luminous ribbon reacts to your touch—tilt the scene with your pointer, adjust tempo and amplitude, and cycle palettes to weave your own motion.</p>

    <div class="v1396-deck" role="group" aria-label="Ribbon controls">
      <button class="v1396-btn" id="v1396-play" aria-pressed="true">Pause</button>
      <button class="v1396-btn" id="v1396-palette">Palette</button>

      <label class="v1396-chip" for="v1396-tempo">
        <span>Tempo</span>
        <input id="v1396-tempo" type="range" min="2" max="36" value="14" />
      </label>

      <label class="v1396-chip" for="v1396-amp">
        <span>Amplitude</span>
        <input id="v1396-amp" type="range" min="10" max="160" value="80" />
      </label>
    </div>

    <div class="v1396-meta">
      <span class="v1396-status" id="v1396-stats">Live • ribbon waves</span>
      <span id="last-updated">Last updated: 2025-12-19 15:20:54 EST</span>
    </div>
  </div>

  <script>
    (function() {
      const root = document.currentScript.closest('.v1396-atelier');
      const svg = root.querySelector('#v1396-svg');
      const p1 = root.querySelector('#v1396-path-1');
      const p2 = root.querySelector('#v1396-path-2');
      const p3 = root.querySelector('#v1396-path-3');
      const stats = root.querySelector('#v1396-stats');

      const noirBtn = root.querySelector('#v1396-noir');
      const playBtn = root.querySelector('#v1396-play');
      const paletteBtn = root.querySelector('#v1396-palette');
      const tempoEl = root.querySelector('#v1396-tempo');
      const ampEl = root.querySelector('#v1396-amp');

      const updated = root.querySelector('#last-updated');

      // Last updated
      try {
        const now = new Date();
        const fmt = new Intl.DateTimeFormat(navigator.language || 'en-US', {
          weekday: 'short', month: 'short', day: '2-digit', year: 'numeric',
          hour: '2-digit', minute: '2-digit'
        }).format(now);
        updated.textContent = 'Last updated • ' + fmt;
      } catch { updated.textContent = 'Last updated'; }

      // Palettes
      const palettes = [
        { a:'#5a9cff', b:'#b97bff', c:'#69ffdb' }, // Breeze
        { a:'#00c2ff', b:'#00ffd0', c:'#fbff00' }, // Neon Aqua
        { a:'#ff9a9e', b:'#fad0c4', c:'#a1c4fd' }, // Dawn
        { a:'#8ec5fc', b:'#e0c3fc', c:'#b2fefa' }, // Aurora
        { a:'#f6d365', b:'#fda085', c:'#84fab0' }  // Sundrift
      ];
      let paletteIndex = 0;

      function setPalette(i) {
        const {a,b,c} = palettes[i];
        const g1 = svg.querySelector('#v1396-grad-1');
        const g2 = svg.querySelector('#v1396-grad-2');
        g1.children[0].setAttribute('stop-color', a);
        g1.children[1].setAttribute('stop-color', b);
        g1.children[2].setAttribute('stop-color', c);
        g2.children[0].setAttribute('stop-color', c);
        g2.children[1].setAttribute('stop-color', a);
        g2.children[2].setAttribute('stop-color', b);
        root.style.setProperty('--ac-1', a);
        root.style.setProperty('--ac-2', b);
        root.style.setProperty('--ac-3', c);
      }
      setPalette(paletteIndex);

      // Stage sizing
      let vw = 1000, vh = 600, rect;
      function size() {
        rect = svg.getBoundingClientRect();
        vw = Math.max(600, Math.floor(rect.width));
        vh = Math.max(360, Math.floor(rect.height));
        svg.setAttribute('viewBox', `0 0 ${vw} ${vh}`);
      }
      size();

      // Pointer lighting + tilt
      const pointer = { x: vw/2, y: vh/2, has: false };
      function onPointer(e) {
        const r = root.getBoundingClientRect();
        pointer.x = e.clientX - r.left;
        pointer.y = e.clientY - r.top;
        pointer.has = true;
        const rx = ((pointer.x / r.width) - 0.5) * 10;
        const ry = ((pointer.y / r.height) - 0.5) * -10;
        root.style.setProperty('--mx', Math.round((pointer.x / r.width) * 100) + '%');
        root.style.setProperty('--my', Math.round((pointer.y / r.height) * 100) + '%');
        svg.style.transform = `perspective(900px) rotateX(${ry}deg) rotateY(${rx}deg)`;
      }
      function clearPointer() {
        pointer.has = false;
        svg.style.transform = 'none';
      }
      root.addEventListener('pointermove', onPointer, { passive: true });
      root.addEventListener('pointerleave', clearPointer, { passive: true });

      // Wave generator
      let running = !window.matchMedia?.('(prefers-reduced-motion: reduce)').matches;
      function ribbonPath(time, freq, amp, phase = 0) {
        const steps = 140;
        const left = -20, right = vw + 20;
        const mid = vh * 0.5;
        const k = (right - left) / steps;
        const speed = parseInt(tempoEl.value, 10) / 180; // 0.01..0.2
        let d = '';
        for (let i = 0; i <= steps; i++) {
          const x = left + i * k;
          const t = (x / vw) * (Math.PI * 2) * freq + time * speed + phase;
          // Edge falloff for elegance
          const fall = Math.sin((i / steps) * Math.PI);
          // Pointer bump
          let bump = 0;
          if (pointer.has) {
            const dx = (x - pointer.x) / vw;
            bump = Math.exp(-Math.abs(dx) * 12) * amp * 0.22 * Math.sin(time * speed * 2 + phase);
          }
          const y = mid + Math.sin(t) * amp * fall + bump;
          d += (i === 0 ? 'M' : 'L') + x.toFixed(2) + ' ' + y.toFixed(2) + ' ';
        }
        return d.trim();
      }

      // Animate
      let t0 = performance.now();
      function frame(now) {
        if (!running) { requestAnimationFrame(frame); return; }
        const dt = (now - t0) / 1000; t0 = now;
        const time = now / 1000;
        const freq = 1.6 + (parseInt(tempoEl.value, 10) / 36) * 1.2;
        const amp = parseInt(ampEl.value, 10);

        p1.setAttribute('d', ribbonPath(time, freq, amp, 0));
        p2.setAttribute('d', ribbonPath(time, freq * 0.9, amp * 0.66, 1.2));
        p3.setAttribute('d', ribbonPath(time, freq * 1.15, amp * 0.42, -0.8));

        stats.textContent = `Live • tempo ${tempoEl.value} • amp ${ampEl.value}`;
        requestAnimationFrame(frame);
      }
      requestAnimationFrame(frame);

      // UI
      playBtn.addEventListener('click', () => {
        running = !running;
        playBtn.setAttribute('aria-pressed', String(running));
        playBtn.textContent = running ? 'Pause' : 'Play';
      });

      noirBtn.addEventListener('click', () => {
        const noir = !root.classList.contains('noir');
        root.classList.toggle('noir', noir);
        noirBtn.setAttribute('aria-pressed', String(noir));
        noirBtn.textContent = noir ? 'Day' : 'Noir';
      });

      paletteBtn.addEventListener('click', () => {
        paletteIndex = (paletteIndex + 1) % palettes.length;
        setPalette(paletteIndex);
      });

      // Respond to changes instantly
      [tempoEl, ampEl].forEach(el => el.addEventListener('input', () => {}));

      // Resize
      const ro = new ResizeObserver(() => { size(); });
      ro.observe(root);
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


