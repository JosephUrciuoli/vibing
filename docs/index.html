<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<style>
  .orbit2142 {
    --radius: 26px;
    --ink: #eaf2ff;
    --muted: rgba(235,242,255,0.75);
    --chrome: rgba(255,255,255,0.08);
    --chrome-2: rgba(255,255,255,0.12);
    --halo: rgba(255,255,255,0.2);
    --mx: 50%;
    --my: 50%;
    position: relative;
    min-height: 680px;
    border-radius: 28px;
    overflow: hidden;
    padding: clamp(18px, 3.6vw, 40px);
    color: var(--ink);
    background:
      radial-gradient(900px 700px at var(--mx) var(--my), rgba(115,155,255,0.18), transparent 60%),
      linear-gradient(180deg, #0a0f21 0%, #0a142e 45%, #080f2a 100%);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.06), 0 30px 80px rgba(0,0,0,0.5);
    isolation: isolate;
  }
  .orbit2142[data-theme="dawn"] {
    --ink: #0b1224;
    --muted: rgba(14,24,44,0.7);
    --chrome: rgba(255,255,255,0.66);
    --chrome-2: rgba(255,255,255,0.5);
    background:
      radial-gradient(900px 700px at var(--mx) var(--my), rgba(255,220,170,0.55), transparent 60%),
      linear-gradient(180deg, #fff7f1 0%, #eef7ff 55%, #e9f3ff 100%);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.7), 0 24px 60px rgba(12,18,30,0.22);
  }

  .orbit2142::before {
    /* soft vignette + star freckles */
    content: "";
    position: absolute; inset: -10%;
    background:
      radial-gradient(140% 120% at 50% 10%, rgba(255,255,255,0.08), transparent 60%),
      radial-gradient(120% 140% at 10% 80%, rgba(255,255,255,0.06), transparent 60%),
      radial-gradient(120% 120% at 90% 30%, rgba(255,255,255,0.05), transparent 60%),
      radial-gradient(1px 1px at 14% 22%, rgba(255,255,255,0.4), transparent 60%),
      radial-gradient(1px 1px at 28% 18%, rgba(255,255,255,0.3), transparent 60%),
      radial-gradient(1px 1px at 66% 12%, rgba(255,255,255,0.35), transparent 60%),
      radial-gradient(1px 1px at 80% 32%, rgba(255,255,255,0.25), transparent 60%),
      radial-gradient(1px 1px at 12% 76%, rgba(255,255,255,0.32), transparent 60%),
      radial-gradient(1px 1px at 72% 84%, rgba(255,255,255,0.28), transparent 60%);
    mix-blend-mode: overlay;
    pointer-events: none;
  }

  .orbit2142 .chrome {
    position: relative; z-index: 2;
    max-width: 1120px;
    margin: 0 auto;
  }
  .orbit2142 .mast {
    display: flex; align-items: center; justify-content: space-between; gap: 12px;
    margin-bottom: clamp(8px, 1.8vw, 14px);
  }
  .orbit2142 .ed {
    display: inline-flex; align-items: center; gap: 10px;
    padding: 10px 12px; border-radius: 999px;
    font: 800 11px/1 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    letter-spacing: 0.14em; text-transform: uppercase;
    color: var(--muted);
    background: linear-gradient(180deg, var(--chrome), var(--chrome-2));
    border: 1px solid rgba(0,0,0,0.06);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.7);
  }
  .orbit2142 .ed::before {
    content: "";
    width: 9px; height: 9px; border-radius: 50%;
    background: conic-gradient(from 0deg, #7bd1ff, #b28bff, #ffd07f, #7bd1ff);
    filter: saturate(1.2) drop-shadow(0 0 12px rgba(140,160,255,0.7));
  }

  .orbit2142 .controls { display: flex; flex-wrap: wrap; gap: 10px 12px; }
  .orbit2142 .chip {
    appearance: none; cursor: pointer; border: none;
    padding: 11px 14px; border-radius: 14px;
    background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.72));
    color: #0b1224;
    font: 800 12px/1 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    letter-spacing: 0.09em; text-transform: uppercase;
    border: 1px solid rgba(0,0,0,0.08);
    box-shadow: 0 12px 26px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.9);
    transition: transform 140ms ease, box-shadow 200ms ease, filter 200ms ease;
  }
  .orbit2142[data-theme="dawn"] .chip { color: #0b1224; }
  .orbit2142 .chip:hover { transform: translateY(-1px); box-shadow: 0 16px 30px rgba(0,0,0,0.24), inset 0 1px 0 #fff; }
  .orbit2142 .chip:active { transform: translateY(0); filter: saturate(1.06); }
  .orbit2142 .chip.ghost { background: linear-gradient(180deg, rgba(255,255,255,0.70), rgba(255,255,255,0.48)); }

  .orbit2142 .title {
    margin: 8px 0 4px;
    font: 900 clamp(38px, 9vw, 108px)/0.92 ui-sans-serif, system-ui, -apple-system, "SF Pro Display", "Segoe UI", Roboto, Arial;
    letter-spacing: -0.02em;
    background: linear-gradient(92deg, #ffffff 0%, #9bd8ff 35%, #b28bff 65%, #ffd07f 100%);
    -webkit-background-clip: text; background-clip: text; color: transparent;
    text-wrap: balance;
    filter: drop-shadow(0 12px 34px rgba(0,0,0,0.28));
  }
  .orbit2142[data-theme="dawn"] .title {
    background: linear-gradient(92deg, #0a0e1c 0%, #ff8bb0 35%, #6ee8ff 65%, #0a0e1c 100%);
  }

  .orbit2142 .sub {
    font: 500 clamp(14px, 2.2vw, 19px)/1.7 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    color: var(--muted);
    max-width: 72ch;
    margin-bottom: clamp(12px, 3.2vw, 18px);
  }

  .orbit2142 .orrery {
    position: relative;
    margin: clamp(16px, 3.4vw, 28px) 0;
    border-radius: 24px;
    padding: clamp(18px, 3.2vw, 28px);
    background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.06));
    backdrop-filter: blur(14px) saturate(140%);
    -webkit-backdrop-filter: blur(14px) saturate(140%);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.35), 0 16px 44px rgba(0,0,0,0.22);
  }
  .orbit2142 .stage {
    position: relative;
    aspect-ratio: 1 / 1;
    width: 100%;
    max-width: 820px;
    margin: 0 auto;
    transform-style: preserve-3d;
    perspective: 800px;
  }
  .orbit2142 .hub {
    position: absolute; inset: 0;
    transform: rotateX(var(--tiltX, 0deg)) rotateY(var(--tiltY, 0deg));
    transition: transform 220ms ease;
  }

  .orbit2142 .track {
    position: absolute; left: 50%; top: 50%;
    border-radius: 50%;
    border: 1px dashed rgba(255,255,255,0.25);
    transform: translate(-50%, -50%);
    box-shadow: 0 0 0 1px rgba(255,255,255,0.06) inset;
    transition: opacity 200ms ease;
  }
  .orbit2142[data-theme="dawn"] .track {
    border-color: rgba(12,18,30,0.22);
    box-shadow: 0 0 0 1px rgba(12,18,30,0.05) inset;
  }

  .orbit2142 .arm {
    position: absolute; left: 50%; top: 50%;
    transform: translate(-50%, -50%) rotate(var(--angle, 0deg));
    transform-origin: center;
    will-change: transform;
  }
  .orbit2142 .planet {
    position: absolute; left: 0; top: 0;
    width: var(--size); height: var(--size);
    transform: translateX(var(--radius));
    border-radius: 50%;
    background:
      radial-gradient(120% 120% at 28% 28%, rgba(255,255,255,0.95), rgba(255,255,255,0) 40%),
      radial-gradient(140% 140% at 65% 65%, hsl(var(--h), 75%, 55%), hsl(var(--h), 85%, 45%));
    box-shadow:
      0 0 0 1px rgba(255,255,255,0.08) inset,
      0 0 28px hsla(var(--h), 95%, 65%, 0.45),
      0 16px 26px rgba(0,0,0,0.25);
    filter: saturate(1.1);
  }

  .orbit2142 .hint {
    position: absolute; left: 50%; bottom: 12px; transform: translateX(-50%);
    z-index: 3;
    display: inline-flex; align-items: center; gap: 8px;
    padding: 8px 12px; border-radius: 999px;
    color: var(--muted);
    border: 1px dashed rgba(255,255,255,0.35);
    background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.10));
    font: 700 12px/1 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  .orbit2142[data-theme="dawn"] .hint { border-color: rgba(12,18,30,0.25); }

  .orbit2142 .legend {
    display: flex; align-items: center; justify-content: space-between; gap: 12px;
    margin-top: 14px;
    color: var(--muted);
    font: 400 12px/1.6 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
  }
  .orbit2142 .pill {
    display: inline-flex; align-items: center; gap: 8px;
    padding: 8px 12px; border-radius: 999px;
    border: 1px solid rgba(0,0,0,0.08);
    background: linear-gradient(180deg, rgba(255,255,255,0.78), rgba(255,255,255,0.44));
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
    color: #0b1224;
  }
  .orbit2142[data-theme="midnight"] .pill { color: #0b1224; }
  .orbit2142[data-theme="midnight"] .pill strong { color: #0b1224; }
  .orbit2142[data-theme="midnight"] .pill { background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6)); }

  @media (prefers-reduced-motion: reduce) {
    .orbit2142 .hub { transition: none; }
  }
</style>

<div class="orbit2142" data-theme="midnight" aria-label="Orrery — a kinetic solar sketch of motion and light">
  <div class="chrome">
    <div class="mast">
      <span class="ed">Edition 2142</span>
      <div class="controls">
        <button class="chip" id="themeToggle" type="button" aria-pressed="false" title="Toggle theme">Dawn</button>
        <button class="chip" id="motionToggle" type="button" aria-pressed="true" title="Pause motion">Pause</button>
        <button class="chip ghost" id="remix" type="button" title="Remix the system">Remix</button>
      </div>
    </div>

    <h1 class="title">The Quiet Orrery</h1>
    <p class="sub" id="tagline">Turn the sky by hand. Tilt to feel the pull; watch ideas find their orbit.</p>

    <div class="orrery" id="orrery" role="img" aria-label="Interactive orrery with concentric tracks and orbiting planets">
      <div class="stage" id="stage">
        <div class="hub" id="hub"></div>
      </div>
      <span class="hint">Move • Tilt • Discover</span>
    </div>

    <div class="legend">
      <span class="pill">Mode • <strong id="modeLabel">Midnight</strong></span>
      <span class="pill"><span id="last-updated">Last updated: 2026-01-23 09:23:47 EST</span></span>
    </div>
  </div>
</div>

<script>
(function(){
  const root = document.currentScript.closest('.orbit2142');
  const themeBtn = root.querySelector('#themeToggle');
  const motionBtn = root.querySelector('#motionToggle');
  const remixBtn = root.querySelector('#remix');
  const stage = root.querySelector('#stage');
  const hub = root.querySelector('#hub');
  const modeLabel = root.querySelector('#modeLabel');
  const tagline = root.querySelector('#tagline');
  const updated = root.querySelector('#last-updated');

  // Updated timestamp
  (function setUpdated(){
    try {
      const d = new Date();
      const fmt = new Intl.DateTimeFormat(undefined, {
        year:'numeric', month:'short', day:'2-digit', hour:'2-digit', minute:'2-digit'
      });
      updated.textContent = 'Updated ' + fmt.format(d);
    } catch(e){
      updated.textContent = 'Updated ' + new Date().toLocaleString();
    }
  })();

  const lines = [
    'Turn the sky by hand. Tilt to feel the pull; watch ideas find their orbit.',
    'Planets hum. You nudge; everything adjusts.',
    'A small tilt, a wider circle. Balance is elastic.',
    'Quiet motion. Bright intent.',
    'Let curiosity set the speed.'
  ];

  let W = 0, H = 0, S = 0;
  let system = [];
  let running = true;
  const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  if (prefersReduced) {
    running = false;
    motionBtn.textContent = 'Play';
    motionBtn.setAttribute('aria-pressed', 'false');
    root.setAttribute('data-paused','true');
  }

  function clamp(n, a, b){ return Math.max(a, Math.min(b, n)); }
  function rand(a,b){ return a + Math.random()*(b-a); }
  function choice(arr){ return arr[Math.floor(Math.random()*arr.length)]; }

  const hues = [200, 210, 260, 290, 15, 40, 165];

  function clearSystem(){
    hub.innerHTML = '';
    system = [];
  }

  function buildSystem(){
    const rect = stage.getBoundingClientRect();
    W = rect.width; H = rect.height;
    S = Math.min(W, H) * 0.86;

    clearSystem();

    const count = Math.floor(rand(5, 9));
    const radii = [];
    for (let i=0;i<count;i++) radii.push(rand(0.14, 0.46));
    radii.sort((a,b)=>a-b);

    for (let i=0;i<radii.length;i++){
      const r = radii[i] * S;
      const hue = (choice(hues) + rand(-12, 12) + i*7) % 360;
      const size = clamp(r * rand(0.10, 0.18), 10, 44);
      const dir = Math.random() < 0.5 ? -1 : 1;
      const speed = dir * rand(8, 28) / (8 + i * 1.2); // deg/s
      const wobble = rand(0.5, 3);

      // Track
      const track = document.createElement('div');
      track.className = 'track';
      track.style.width = (r*2) + 'px';
      track.style.height = (r*2) + 'px';
      track.style.opacity = String(clamp(0.25 + i*0.06, 0.25, 0.6));
      hub.appendChild(track);

      // Arm + Planet
      const arm = document.createElement('div');
      arm.className = 'arm';
      arm.style.setProperty('--angle', '0deg');
      arm.style.willChange = 'transform';

      const planet = document.createElement('span');
      planet.className = 'planet';
      planet.style.setProperty('--radius', r + 'px');
      planet.style.setProperty('--size', size + 'px');
      planet.style.setProperty('--h', hue);

      arm.appendChild(planet);
      hub.appendChild(arm);

      system.push({
        r, hue, size, speed, wobble,
        angle: rand(0, 360),
        arm, planet
      });
    }
  }

  // Pointer parallax + background focus
  let pointer = { x: 0.5, y: 0.5, active: false };
  function setPointer(ev){
    const rect = stage.getBoundingClientRect();
    const x = clamp((ev.clientX - rect.left)/rect.width, 0, 1);
    const y = clamp((ev.clientY - rect.top)/rect.height, 0, 1);
    pointer.x = x; pointer.y = y; pointer.active = true;

    const rx = (0.5 - y) * 10; // tiltX
    const ry = (x - 0.5) * 12; // tiltY
    hub.style.setProperty('--tiltX', rx.toFixed(2)+'deg');
    hub.style.setProperty('--tiltY', ry.toFixed(2)+'deg');

    root.style.setProperty('--mx', Math.round(x*100)+'%');
    root.style.setProperty('--my', Math.round(y*100)+'%');
  }
  function endPointer(){
    pointer.active = false;
    hub.style.setProperty('--tiltX', '0deg');
    hub.style.setProperty('--tiltY', '0deg');
  }
  root.addEventListener('mousemove', setPointer);
  root.addEventListener('mouseleave', endPointer);
  root.addEventListener('touchmove', (ev)=>{
    const t = ev.touches[0]; if (!t) return;
    setPointer(t);
  }, {passive:true});
  root.addEventListener('touchend', endPointer);

  // Motion control
  motionBtn.addEventListener('click', ()=>{
    running = !running;
    motionBtn.textContent = running ? 'Pause' : 'Play';
    motionBtn.setAttribute('aria-pressed', running ? 'true' : 'false');
    root.toggleAttribute('data-paused', !running);
    if (running) raf(performance.now());
  });

  // Theme toggle
  themeBtn.addEventListener('click', ()=>{
    const toDawn = root.getAttribute('data-theme') !== 'dawn';
    root.setAttribute('data-theme', toDawn ? 'dawn' : 'midnight');
    themeBtn.textContent = toDawn ? 'Midnight' : 'Dawn';
    themeBtn.setAttribute('aria-pressed', toDawn ? 'true' : 'false');
    modeLabel.textContent = toDawn ? 'Dawn' : 'Midnight';
  });

  // Remix
  remixBtn.addEventListener('click', ()=>{
    buildSystem();
    tagline.textContent = choice(lines);
  });

  // Resize
  const ro = new ResizeObserver(()=> buildSystem());
  ro.observe(stage);

  // Loop
  let last = performance.now();
  function raf(now){
    if (!running) return;
    const dt = (now - last) / 1000; last = now;

    for (let i=0;i<system.length;i++){
      const p = system[i];
      const gravX = (pointer.x - 0.5) * 6;
      const gravY = (0.5 - pointer.y) * 6;
      const bias = pointer.active ? (gravX + gravY) * 0.18 : 0;
      p.angle = (p.angle + (p.speed + bias) * dt) % 360;
      const wob = Math.sin(now*0.0012 + i) * p.wobble;
      p.arm.style.setProperty('--angle', (p.angle + wob).toFixed(2) + 'deg');
    }

    requestAnimationFrame(raf);
  }

  // Init
  buildSystem();
  if (!prefersReduced) requestAnimationFrame(raf);

  // Keyboard controls on stage
  stage.tabIndex = 0;
  stage.addEventListener('keydown', (e)=>{
    if (e.code === 'Space') { e.preventDefault(); motionBtn.click(); }
    if (e.key && e.key.toLowerCase() === 't') { e.preventDefault(); themeBtn.click(); }
    if (e.key && e.key.toLowerCase() === 'r') { e.preventDefault(); remixBtn.click(); }
  });
})();
</script>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


