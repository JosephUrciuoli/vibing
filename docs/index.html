<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="loom" data-theme="sol" aria-label="Silk & Signal — A Living Weave Poster">
  <style>
    .loom {
      --r: 28px;
      --ink: #0b1220;
      --muted: #5b6477;
      --line: rgba(10,14,28,0.14);
      --b1: #fbfdff;
      --b2: #fffaf3;
      --a1: #7aa8ff;
      --a2: #ff8e9e;
      --a3: #88ffd8;
      position: relative;
      padding: clamp(18px, 3.6vw, 48px);
      border-radius: var(--r);
      border: 1px solid var(--line);
      color: var(--ink);
      background:
        radial-gradient(120% 120% at 10% -10%, rgba(122,168,255,0.18), transparent 55%),
        radial-gradient(120% 120% at 110% 110%, rgba(255,184,107,0.16), transparent 55%),
        linear-gradient(180deg, var(--b1), var(--b2));
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,0.7),
        0 40px 100px rgba(20,25,40,0.18),
        0 10px 26px rgba(20,25,40,0.12);
      overflow: hidden;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
      isolation: isolate;
    }
    .loom::before {
      content: "";
      position: absolute; inset: -40% -20% auto -20%; height: 60%;
      background:
        radial-gradient(50% 70% at 20% 30%, var(--a1) 0%, transparent 55%),
        radial-gradient(60% 70% at 80% 20%, var(--a2) 0%, transparent 55%),
        radial-gradient(80% 80% at 50% 80%, var(--a3) 0%, transparent 60%);
      opacity: .16; filter: blur(28px); pointer-events: none; mix-blend-mode: screen;
      animation: floaty 18s ease-in-out infinite alternate;
    }
    @keyframes floaty { to { transform: translate3d(0, 10px, 0) scale(1.04); } }

    /* THEMES */
    .loom[data-theme="sol"] {
      --ink:#0b1220; --muted:#5b6477; --b1:#fbfdff; --b2:#fffaf3; --line:rgba(10,14,28,0.14);
      --a1:#7aa8ff; --a2:#ff8e9e; --a3:#88ffd8;
    }
    .loom[data-theme="vivid"] {
      --ink:#0d0f1f; --muted:#49506b; --b1:#fff9fe; --b2:#fff1fa; --line:rgba(20,16,31,0.15);
      --a1:#a88bff; --a2:#ff79c6; --a3:#ffe58a;
    }
    .loom[data-theme="noct"] {
      --ink:#eaf2ff; --muted:#93a3c7; --b1:#080b17; --b2:#0b1224; --line:rgba(255,255,255,0.14);
      --a1:#89a2ff; --a2:#ffd37a; --a3:#66ffd4;
      border-color: rgba(255,255,255,0.12);
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,0.1),
        0 40px 110px rgba(0,0,0,0.45),
        0 12px 28px rgba(0,0,0,0.3);
    }

    .topbar {
      display: flex; align-items: center; justify-content: space-between; gap: 12px; margin-bottom: 12px;
    }
    .brand {
      display: inline-grid; grid-auto-flow: column; align-items: center; gap: 12px;
      letter-spacing: .22em; text-transform: uppercase; font-weight: 800; font-size: 11px; color: var(--muted);
    }
    .mark {
      --s: 30px;
      width: var(--s); height: var(--s);
      border-radius: 10px; position: relative; display: grid; place-items: center; overflow: hidden;
      background: linear-gradient(135deg, rgba(255,255,255,0.85), rgba(255,255,255,0.35));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.8), 0 8px 20px rgba(20,25,40,0.18);
    }
    .mark::before, .mark::after {
      content: ""; position: absolute; border-radius: 50%;
      inset: 6px; border: 2px solid rgba(16,19,31,0.12);
    }
    .chip {
      font-size: 10px; letter-spacing: .18em; text-transform: uppercase;
      padding: 6px 10px; border-radius: 999px; border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.5));
      color: var(--ink);
      box-shadow: 0 12px 24px rgba(20,25,40,0.16);
    }

    .hero { margin: 10px 0 16px; }
    .title {
      margin: 0;
      font-size: clamp(40px, 8.6vw, 110px);
      line-height: .9; font-weight: 900; letter-spacing: -0.02em;
      background: linear-gradient(90deg, var(--a1), var(--a2), var(--a3));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 10px 24px rgba(20,25,40,0.20));
    }
    .sub {
      margin: 8px 0 0; max-width: 72ch;
      font-size: clamp(14px, 2.2vw, 18px); color: var(--muted);
    }

    .stage {
      position: relative;
      min-height: clamp(460px, 64vh, 880px);
      border-radius: 24px;
      border: 1px solid var(--line);
      overflow: hidden;
      transform-style: preserve-3d;
      transition: transform 220ms ease, box-shadow 220ms ease;
      background:
        radial-gradient(140% 100% at 50% -10%, rgba(255,255,255,0.55), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,0.45), rgba(255,255,255,0.25));
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.75),
        0 26px 70px rgba(20,25,40,0.18);
    }
    .loom[data-theme="noct"] .stage {
      background:
        radial-gradient(140% 100% at 50% -10%, rgba(255,255,255,0.12), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.25),
        0 28px 80px rgba(0,0,0,0.45);
    }

    canvas.weave { position: absolute; inset: 0; width: 100%; height: 100%; display: block; }
    .gloss {
      position: absolute; inset: 0; pointer-events: none; mix-blend-mode: soft-light; opacity: .6;
      background:
        linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.00) 40% 60%, rgba(0,0,0,0.08));
    }
    .grid {
      position: absolute; inset: 0; pointer-events: none; opacity: .16; mix-blend-mode: overlay;
      background:
        repeating-linear-gradient(0deg, transparent 0 29px, rgba(0,0,0,0.06) 30px),
        repeating-linear-gradient(90deg, transparent 0 29px, rgba(0,0,0,0.06) 30px);
      filter: blur(0.2px);
    }
    .cursor {
      position: absolute; width: 14px; height: 14px; border-radius: 50%;
      left: 0; top: 0; transform: translate(-100px, -100px);
      background: radial-gradient(circle at 35% 35%, #fff, #fff0 60%);
      box-shadow: 0 0 24px var(--a1), 0 0 10px var(--a2);
      pointer-events: none; mix-blend-mode: screen; opacity: 0.8;
      transition: width 160ms ease, height 160ms ease, opacity 160ms ease;
    }

    .controls {
      margin-top: 16px;
      display: flex; flex-wrap: wrap; align-items: center; gap: 10px;
      padding: 10px; border-radius: 16px; border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.6));
      backdrop-filter: blur(10px) saturate(1.05);
      box-shadow: 0 16px 40px rgba(20,25,40,0.16);
    }
    .btn, .pill {
      appearance: none; cursor: pointer; user-select: none;
      border: 1px solid var(--line); border-radius: 999px; color: var(--ink);
      background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.55));
      padding: 8px 12px; font-size: 13px; white-space: nowrap;
      transition: transform 140ms ease, background 140ms ease, box-shadow 140ms ease, color 140ms ease;
      box-shadow: 0 10px 22px rgba(20,25,40,0.14);
    }
    .btn:hover, .pill:hover { transform: translateY(-2px); background: linear-gradient(180deg, #fff, rgba(255,255,255,0.65)); }
    .btn:focus-visible, .pill:focus-visible { outline: 2px solid var(--a1); outline-offset: 2px; }

    .slider {
      appearance: none; width: clamp(130px, 24vw, 260px); height: 28px; border-radius: 999px;
      border: 1px solid var(--line);
      background: linear-gradient(90deg, rgba(10,18,40,0.08), rgba(10,18,40,0.02));
      box-shadow: inset 0 0 0 2px rgba(255,255,255,0.65);
    }
    .slider::-webkit-slider-thumb {
      appearance: none; width: 20px; height: 20px; border-radius: 50%;
      background: linear-gradient(180deg, #fff, #e9eef3); border: 2px solid rgba(10,18,40,0.18); box-shadow: 0 2px 12px rgba(20,25,40,0.18); cursor: pointer;
    }
    .slider::-moz-range-thumb {
      width: 20px; height: 20px; border-radius: 50%;
      background: linear-gradient(180deg, #fff, #e9eef3); border: 2px solid rgba(10,18,40,0.18); box-shadow: 0 2px 12px rgba(20,25,40,0.18); cursor: pointer;
    }

    .themes { display: inline-flex; gap: 8px; margin-left: auto; }
    .swatch {
      width: 28px; height: 28px; border-radius: 50%; border: 1px solid var(--line);
      box-shadow: 0 10px 22px rgba(20,25,40,0.18); cursor: pointer; transition: transform 140ms ease;
    }
    .swatch:hover { transform: translateY(-2px) rotate(-4deg); }
    .swatch[data-theme="sol"] { background: conic-gradient(#7aa8ff, #ff8e9e, #88ffd8, #ffd6a8, #7aa8ff); }
    .swatch[data-theme="vivid"] { background: conic-gradient(#a88bff, #ff79c6, #ffe58a, #a1f0ff, #a88bff); }
    .swatch[data-theme="noct"] { background: conic-gradient(#89a2ff, #ffd37a, #66ffd4, #bcd4ff, #89a2ff); }

    .meta {
      display: flex; align-items: center; gap: 12px; margin-top: 10px; font-size: 12px; color: var(--muted);
    }
    .meta .sep { opacity: .5; }

    [data-ui="hidden"] .controls, [data-ui="hidden"] .topbar { opacity: 0; pointer-events: none; transform: translateY(-6px); transition: 200ms ease; }
  </style>

  <div class="topbar">
    <div class="brand">
      <div class="mark" aria-hidden="true"></div>
      Studio Meridian
    </div>
    <div class="chip" aria-hidden="true">Silk & Signal</div>
  </div>

  <div class="hero">
    <h1 class="title">Silk & Signal</h1>
    <p class="sub">Threads of light drift and braid into a living poster. Nudge the wind, tint the dye, save your weave.</p>
  </div>

  <div class="stage" aria-label="Weave Field">
    <canvas class="weave" aria-hidden="true"></canvas>
    <div class="gloss" aria-hidden="true"></div>
    <div class="grid" aria-hidden="true"></div>
    <div class="cursor" aria-hidden="true"></div>
  </div>

  <div class="controls" role="group" aria-label="Controls">
    <button type="button" class="btn play" aria-pressed="false" title="Pause/Resume">Pause</button>

    <label class="pill" style="padding:0 10px; display:inline-flex; align-items:center; gap:8px;">
      <span style="opacity:.8; font-size:12px;">Density</span>
      <input class="slider dens" type="range" min="0.3" max="2.2" step="0.1" value="1.0" aria-label="Thread density">
    </label>

    <label class="pill" style="padding:0 10px; display:inline-flex; align-items:center; gap:8px;">
      <span style="opacity:.8; font-size:12px;">Dye</span>
      <input class="slider dye" type="range" min="0" max="100" step="1" value="60" aria-label="Color saturation">
    </label>

    <button type="button" class="btn gust" title="Stir the wind">Gust</button>
    <button type="button" class="btn snap" title="Save image">Capture</button>

    <div class="themes" role="group" aria-label="Theme">
      <button class="swatch" type="button" data-theme="sol" title="Sol"></button>
      <button class="swatch" type="button" data-theme="vivid" title="Vivid"></button>
      <button class="swatch" type="button" data-theme="noct" title="Nocturne"></button>
    </div>
  </div>

  <div class="meta" aria-label="Meta">
    <span id="last-updated">Last updated: 2025-11-03 08:29:15 EST</span>
    <span class="sep">•</span>
    <span class="hint">Move: tilt • Space: pause • G: gust • C: capture • 1/2/3: theme</span>
  </div>

  <script>
    (function(){
      const root = document.currentScript.closest('.loom');
      const stage = root.querySelector('.stage');
      const canvas = root.querySelector('canvas.weave');
      const ctx = canvas.getContext('2d', { alpha: true });
      const playBtn = root.querySelector('.play');
      const densInput = root.querySelector('.dens');
      const dyeInput = root.querySelector('.dye');
      const gustBtn = root.querySelector('.gust');
      const snapBtn = root.querySelector('.snap');
      const themeBtns = root.querySelectorAll('.swatch');
      const orb = root.querySelector('.cursor');

      // Timestamp
      const last = root.querySelector('#last-updated');
      try {
        const now = new Date();
        const fmt = new Intl.DateTimeFormat([], {
          year: 'numeric', month: 'short', day: '2-digit',
          hour: '2-digit', minute: '2-digit', second:'2-digit',
          hour12: true, timeZoneName: 'short'
        });
        last.textContent = 'Updated ' + fmt.format(now);
      } catch { last.textContent = 'Updated ' + new Date().toLocaleString(); }

      // Themes
      const savedTheme = localStorage.getItem('loom-theme');
      if (savedTheme) root.setAttribute('data-theme', savedTheme);
      themeBtns.forEach(b => b.addEventListener('click', ()=>{
        const t = b.getAttribute('data-theme');
        root.setAttribute('data-theme', t);
        localStorage.setItem('loom-theme', t);
        clearAll();
        seed();
      }));

      // Palette per theme
      function palette(){
        const t = root.getAttribute('data-theme') || 'sol';
        if (t === 'noct') return ['#89a2ff','#ffd37a','#66ffd4','#bcd4ff','#9aaeff'];
        if (t === 'vivid') return ['#a88bff','#ff79c6','#ffe58a','#7cf3ff','#b2a1ff'];
        return ['#7aa8ff','#ff8e9e','#88ffd8','#ffd6a8','#a3c6ff'];
      }

      // DPI + sizing
      const DPR = Math.min(2, window.devicePixelRatio || 1);
      let W=0, H=0;
      function resize(){
        const r = stage.getBoundingClientRect();
        W = Math.max(1, Math.floor(r.width));
        H = Math.max(1, Math.floor(r.height));
        canvas.width = Math.floor(W * DPR);
        canvas.height = Math.floor(H * DPR);
        canvas.style.width = W + 'px';
        canvas.style.height = H + 'px';
        ctx.setTransform(DPR,0,0,DPR,0,0);
        clearAll();
        seed();
      }
      const ro = new ResizeObserver(resize);
      ro.observe(stage);
      window.addEventListener('orientationchange', ()=> setTimeout(resize, 120));

      // Flow field
      let particles = [];
      let nScale = 0.0018;
      let tOff = Math.random()*1000;
      let speed = 0.9;
      let fade = 0.08;
      let dye = parseFloat(localStorage.getItem('loom-dye') ?? '60');
      dyeInput.value = String(dye);
      dyeInput.addEventListener('input', e => {
        dye = parseFloat(e.target.value || '60');
        localStorage.setItem('loom-dye', String(dye));
      });

      let dens = parseFloat(localStorage.getItem('loom-dens') ?? '1');
      densInput.value = String(dens);
      densInput.addEventListener('input', e => {
        dens = parseFloat(e.target.value || '1');
        localStorage.setItem('loom-dens', String(dens));
        seed();
      });

      function seed(){
        const target = Math.floor((W*H)/800 * dens);
        particles = [];
        const P = palette();
        for (let i=0; i<target; i++){
          particles.push({
            x: Math.random()*W,
            y: Math.random()*H,
            px: 0, py: 0,
            hue: P[i % P.length],
            life: Math.random()*1 + 0.5
          });
        }
        drawBackdrop(true);
      }

      function field(x, y, t){
        // lightweight tri-sine curl-ish field
        const k1 = nScale * 1.0, k2 = nScale * 1.7, k3 = nScale * 0.7;
        const s1 = Math.sin(x*k1 + t*0.3);
        const s2 = Math.sin((y+100)*k2 - t*0.6);
        const s3 = Math.sin((x+y)*k3 + t*0.9);
        const angle = (s1 + s2 - s3) * Math.PI;
        return angle;
      }

      function drawBackdrop(hard){
        ctx.globalCompositeOperation = 'source-over';
        const theme = root.getAttribute('data-theme') || 'sol';
        const alpha = fade;
        if (theme === 'noct'){
          ctx.fillStyle = 'rgba(8,11,23,' + (hard? 1 : alpha) + ')';
        } else {
          ctx.fillStyle = 'rgba(255,255,255,' + (hard? 1 : alpha) + ')';
        }
        ctx.fillRect(0,0,W,H);
      }

      // Controls
      let paused = matchMedia('(prefers-reduced-motion: reduce)').matches;
      function setPaused(p){
        paused = p;
        playBtn.setAttribute('aria-pressed', String(p));
        playBtn.textContent = p ? 'Resume' : 'Pause';
      }
      playBtn.addEventListener('click', ()=> setPaused(!paused));
      setPaused(paused);

      function gust(){
        tOff += (Math.random()*2 + 1) * 40;
        speed = 1.2 + Math.random()*0.8;
        fade = 0.06 + Math.random()*0.08;
        popCursor();
      }
      gustBtn.addEventListener('click', gust);

      function snapshot(){
        try {
          const link = document.createElement('a');
          link.download = 'silk-and-signal.png';
          link.href = canvas.toDataURL('image/png');
          link.click();
        } catch {}
      }
      snapBtn.addEventListener('click', snapshot);

      // Pointer tilt + cursor
      const pointer = { x:0.5, y:0.5, inside:false };
      function setPointer(eX, eY){
        const r = stage.getBoundingClientRect();
        pointer.x = (eX - r.left) / r.width;
        pointer.y = (eY - r.top) / r.height;
        pointer.inside = true;
        orb.style.transform = `translate(${eX - r.left - 7}px, ${eY - r.top - 7}px)`;
      }
      function popCursor(){
        orb.style.width = '20px';
        orb.style.height = '20px';
        orb.style.opacity = '1';
        setTimeout(()=>{ orb.style.width = '14px'; orb.style.height = '14px'; orb.style.opacity = pointer.inside ? '0.85' : '0.0'; }, 180);
      }
      stage.addEventListener('mousemove', e => setPointer(e.clientX, e.clientY));
      stage.addEventListener('mouseenter', e => { setPointer(e.clientX, e.clientY); orb.style.opacity='0.85'; });
      stage.addEventListener('mouseleave', ()=> { pointer.inside = false; orb.style.opacity='0'; });

      // Keyboard
      root.tabIndex = 0;
      root.addEventListener('keydown', (e)=>{
        const k = e.key.toLowerCase();
        if (e.code === 'Space'){ e.preventDefault(); setPaused(!paused); }
        if (k === 'g'){ gust(); }
        if (k === 'c'){ snapshot(); }
        if (k === '1'){ themeBtns[0].click(); }
        if (k === '2'){ themeBtns[1].click(); }
        if (k === '3'){ themeBtns[2].click(); }
      });

      // Animation
      let t0 = performance.now();
      function tick(now){
        const dt = Math.min(0.05, (now - t0)/1000);
        t0 = now;

        // Tilt
        const nx = (pointer.inside ? (pointer.x - 0.5) : 0) * 2;
        const ny = (pointer.inside ? (pointer.y - 0.5) : 0) * 2;
        stage.style.transform = `perspective(1000px) rotateX(${ny * -4}deg) rotateY(${nx * 6}deg) translateZ(0)`;

        if (!paused){
          drawBackdrop(false);
          ctx.globalCompositeOperation = 'lighter';
          const P = palette();
          const s = speed;
          const tt = now*0.001 + tOff;

          // draw particles
          ctx.lineCap = 'round';
          for (let i=0; i<particles.length; i++){
            const p = particles[i];
            p.px = p.x; p.py = p.y;

            const a = field(p.x, p.y, tt);
            const vx = Math.cos(a) * s;
            const vy = Math.sin(a) * s;

            // slight mouse gravitation
            const mx = (pointer.x * W) - p.x;
            const my = (pointer.y * H) - p.y;
            const mlen = Math.hypot(mx,my) + 1e-3;
            const pull = pointer.inside ? Math.min(0.04, 12/mlen) : 0;

            p.x += vx + mx/mlen * pull;
            p.y += vy + my/mlen * pull;

            if (p.x < -2) p.x = W+2;
            if (p.x > W+2) p.x = -2;
            if (p.y < -2) p.y = H+2;
            if (p.y > H+2) p.y = -2;

            const col = p.hue;
            const sat = Math.max(0, Math.min(100, dye));
            // convert hex to rgb-ish tint
            ctx.strokeStyle = col + Math.floor(170 + 80*Math.random()).toString(16).padStart(2,'0');
            ctx.lineWidth = 0.8 + 0.8 * p.life;
            ctx.beginPath();
            ctx.moveTo(p.px, p.py);
            ctx.lineTo(p.x, p.y);
            ctx.stroke();

            // life drift
            p.life -= dt*0.08;
            if (p.life <= 0){
              p.life = Math.random()*1 + 0.5;
              p.x = Math.random()*W; p.y = Math.random()*H;
            }
          }
          ctx.globalCompositeOperation = 'source-over';

          // subtle center sheen
          const g = ctx.createRadialGradient(W*0.5, H*0.5, 0, W*0.5, H*0.5, Math.max(W,H)*0.7);
          g.addColorStop(0, P[0] + '10');
          g.addColorStop(1, (root.getAttribute('data-theme')==='noct' ? '#0a1120' : '#ffffff') + '00');
          ctx.fillStyle = g;
          ctx.fillRect(0,0,W,H);
        }

        requestAnimationFrame(tick);
      }

      function clearAll(){ ctx.clearRect(0,0,W,H); }

      // Init
      resize();
      seed();
      requestAnimationFrame(tick);

      // Reduced motion: freeze a still composition
      if (matchMedia('(prefers-reduced-motion: reduce)').matches){
        setPaused(true);
        drawBackdrop(true);
        const P = palette();
        ctx.globalCompositeOperation = 'lighter';
        for (let i=0; i<particles.length; i+=3){
          const x = Math.random()*W, y = Math.random()*H;
          const r = 30 + Math.random()*120;
          const grad = ctx.createRadialGradient(x, y, 0, x, y, r);
          grad.addColorStop(0, P[i % P.length] + 'aa');
          grad.addColorStop(1, P[i % P.length] + '00');
          ctx.fillStyle = grad; ctx.beginPath(); ctx.arc(x,y,r,0,Math.PI*2); ctx.fill();
        }
        ctx.globalCompositeOperation = 'source-over';
      }
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


