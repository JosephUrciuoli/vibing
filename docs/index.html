<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div id="vibe985" data-theme="aurora" role="region" aria-label="Orbital Garden — kinetic orrery">
  <style>
    /* Design tokens */
    #vibe985{
      --bg0: #06131a;
      --bg1: #0c1f2a;
      --ink: #eaf7ff;
      --muted: color-mix(in oklab, var(--ink) 72%, transparent);
      --a: #7af5ff;
      --b: #8e7bff;
      --c: #21ffc6;
      --edge: rgba(255,255,255,0.10);
      --glass: rgba(255,255,255,0.06);
      --mx:.5; --my:.5; --tilt: 10deg; --roll: 8deg;
      --spd: 1.00; /* orbit speed multiplier */
      position: relative;
      isolation:isolate;
      min-height: 640px;
      padding: clamp(16px, 3.5vw, 28px);
      color: var(--ink);
      font-family: ui-sans-serif, -apple-system, Segoe UI, Inter, "SF Pro", Roboto, "Noto Sans", Arial, sans-serif;
      background:
        radial-gradient(1200px 900px at calc(85% - (var(--mx) - .5) * 6%) calc(100% + (var(--my) - .5) * 8%),
          color-mix(in oklab, var(--c) 18%, transparent), transparent 62%),
        radial-gradient(1000px 800px at calc(10% + (var(--mx) - .5) * 10%) calc(0% + (var(--my) - .5) * -10%),
          color-mix(in oklab, var(--b) 18%, transparent), transparent 62%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      border-radius: 30px;
      box-shadow:
        0 1px 0 rgba(255,255,255,0.06) inset,
        0 0 0 1px var(--edge) inset,
        0 30px 90px rgba(2,6,12,0.45);
      overflow:hidden;
    }

    /* Themes */
    #vibe985[data-theme="sunrise"]{
      --bg0:#1a0f0a; --bg1:#28140f;
      --ink:#fff6ef; --muted: color-mix(in oklab, #fff6ef 70%, transparent);
      --a:#ffb476; --b:#ff6d9c; --c:#ffd36e; --edge: rgba(255,255,255,0.10); --glass: rgba(255,255,255,0.06);
    }
    #vibe985[data-theme="aurora"]{
      --bg0:#051217; --bg1:#0a1f27;
      --ink:#eaf7ff; --muted: color-mix(in oklab, #eaf7ff 72%, transparent);
      --a:#7af5ff; --b:#8e7bff; --c:#21ffc6; --edge: rgba(255,255,255,0.10); --glass: rgba(255,255,255,0.06);
    }
    #vibe985[data-theme="ink"]{
      --bg0:#07090c; --bg1:#0d1218;
      --ink:#f2f6fb; --muted: color-mix(in oklab, #f2f6fb 68%, transparent);
      --a:#9ad1ff; --b:#7f8cff; --c:#5cf1d6; --edge: rgba(255,255,255,0.08); --glass: rgba(255,255,255,0.05);
    }
    #vibe985[data-theme="mono"]{
      --bg0:#0b0b0c; --bg1:#121315;
      --ink:#f5f5f7; --muted: color-mix(in oklab, #f5f5f7 64%, transparent);
      --a:#ffffff; --b:#d7d7d7; --c:#a9a9a9; --edge: rgba(255,255,255,0.08); --glass: rgba(255,255,255,0.05);
    }

    /* Ambient layers */
    #vibe985 .stars{
      position:absolute; inset:-10%;
      filter: saturate(120%) contrast(110%);
      opacity:.9; z-index:0; pointer-events:none;
    }
    #vibe985 .halo{
      position:absolute; inset:-20%;
      background:
        radial-gradient(40% 40% at calc(var(--mx)*100%) calc(var(--my)*100%),
          color-mix(in oklab, var(--a) 18%, transparent), transparent 62%),
        radial-gradient(28% 28% at calc(100% - var(--mx)*100%) calc(100% - var(--my)*100%),
          color-mix(in oklab, var(--b) 12%, transparent), transparent 62%);
      filter: blur(70px) saturate(130%);
      mix-blend-mode: screen;
      z-index:0; pointer-events:none;
      animation: vibe985-drift 28s linear infinite;
    }
    @keyframes vibe985-drift { to{ transform: rotate(360deg); } }

    /* Glass shell */
    #vibe985 .shell{
      position:relative; z-index:2;
      max-width:1160px; margin: 8px auto;
      border-radius: 22px;
      padding: clamp(16px, 2.6vw, 26px);
      background: linear-gradient(180deg, color-mix(in oklab, var(--glass) 70%, transparent), color-mix(in oklab, var(--glass) 30%, transparent));
      border: 1px solid var(--edge);
      backdrop-filter: blur(12px) saturate(120%);
      box-shadow: 0 16px 60px rgba(0,0,0,0.3);
      display:grid; grid-template-columns: 1.3fr 1fr; gap: clamp(12px, 2.2vw, 24px);
    }
    #vibe985 .top{ grid-column:1/-1; display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap; }
    #vibe985 .brand{ display:flex; align-items:center; gap:12px; color:var(--muted); font-size:12px; letter-spacing:.18em; text-transform:uppercase; font-weight:900; }
    #vibe985 .brand .sig{
      width:12px; height:12px; border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #fff, var(--a));
      box-shadow:0 0 14px color-mix(in oklab, var(--a) 70%, transparent);
      flex:none;
    }

    #vibe985 h1{
      margin: 4px 0 4px;
      font-weight: 900; letter-spacing: -0.02em; line-height:.9;
      font-size: clamp(42px, 8.8vw, 120px);
      color: transparent;
      background: linear-gradient(90deg, var(--a), var(--b), var(--c));
      -webkit-background-clip: text; background-clip: text;
      transform: translate(calc((var(--mx)-.5)*8px), calc((var(--my)-.5)*-6px));
      transition: transform 120ms ease;
    }
    #vibe985 .lede{
      color:var(--muted);
      font-size: clamp(14px, 1.9vw, 18px);
      line-height:1.7; text-wrap: balance; max-width: 60ch;
      margin: 6px 0 14px;
    }

    /* Controls */
    #vibe985 .controls{ display:flex; align-items:center; gap:10px; flex-wrap:wrap; }
    #vibe985 button, #vibe985 .toggle, #vibe985 .slider{
      appearance:none; border:1px solid var(--edge);
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.03));
      color:var(--ink); border-radius: 12px; padding:8px 12px; font-weight:800; cursor:pointer;
      box-shadow:0 2px 0 rgba(0,0,0,0.08);
      transition: transform 140ms ease, box-shadow 200ms ease, background 240ms ease;
    }
    #vibe985 button:hover{ transform: translateY(-1px); box-shadow:0 10px 22px rgba(2,6,12,0.35); }
    #vibe985 .toggle{ display:inline-flex; align-items:center; gap:10px; color:var(--muted); user-select:none; }
    #vibe985 .toggle input{ appearance:none; width:38px; height:22px; border-radius:999px; background: rgba(255,255,255,0.14); position:relative; }
    #vibe985 .toggle input::after{
      content:""; position:absolute; top:3px; left:3px; width:16px; height:16px; border-radius:50%; background:#fff; box-shadow:0 2px 6px rgba(0,0,0,0.25);
      transition: transform 180ms ease;
    }
    #vibe985 .toggle input:checked{ background: linear-gradient(90deg, var(--a), var(--b)); }
    #vibe985 .toggle input:checked::after{ transform: translateX(16px); }

    #vibe985 .slider{ display:inline-flex; align-items:center; gap:10px; color:var(--muted); }
    #vibe985 .slider input[type="range"]{ width:160px; height:18px; background:transparent; -webkit-appearance:none; }
    #vibe985 .slider input[type="range"]::-webkit-slider-runnable-track{
      height:6px; border-radius:999px; background: linear-gradient(90deg, var(--a), var(--b)); opacity:.75;
    }
    #vibe985 .slider input[type="range"]::-webkit-slider-thumb{
      -webkit-appearance:none; width:18px; height:18px; border-radius:50%; background:#fff; border:1px solid var(--edge); margin-top:-6px;
      box-shadow:0 2px 6px rgba(0,0,0,0.25);
    }
    #vibe985 .slider input[type="range"]::-moz-range-track{
      height:6px; border-radius:999px; background: linear-gradient(90deg, var(--a), var(--b)); opacity:.75;
    }
    #vibe985 .slider input[type="range"]::-moz-range-thumb{
      width:18px; height:18px; border-radius:50%; background:#fff; border:1px solid var(--edge); box-shadow:0 2px 6px rgba(0,0,0,0.25);
    }

    /* Stage + Orrery */
    #vibe985 .stage{ grid-column:1/2; position:relative; min-height: 380px; display:grid; place-items:center; }
    #vibe985 .orrery{
      position:relative; width: min(72vmin, 540px); aspect-ratio: 1/1;
      transform-style:preserve-3d;
      transition: transform 140ms ease;
      filter: drop-shadow(0 30px 60px rgba(0,0,0,0.45));
    }
    #vibe985.trails .orrery{ filter: drop-shadow(0 30px 80px rgba(0,0,0,0.5)) saturate(110%); }
    #vibe985 .sun{
      position:absolute; inset:0; margin:auto; width:18%; aspect-ratio:1;
      border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #fff, var(--a) 40%, transparent 60%),
                  radial-gradient(circle at 70% 70%, color-mix(in oklab, var(--b) 45%, transparent), transparent 60%);
      box-shadow:
        0 0 30px color-mix(in oklab, var(--a) 50%, transparent),
        0 0 90px color-mix(in oklab, var(--b) 45%, transparent);
    }
    #vibe985 .orbit{
      position:absolute; inset:0; border-radius:50%; border:1px dashed color-mix(in oklab, var(--ink) 20%, transparent);
      transform-style:preserve-3d;
    }
    #vibe985 .orbit::after{
      content:""; position:absolute; inset:-1px; border-radius:inherit;
      mask: radial-gradient(circle, transparent 64%, black 64.2% 66.2%, transparent 66.4%); /* soft ring highlight */
      background: radial-gradient(circle, color-mix(in oklab, var(--b) 20%, transparent), transparent 60%);
      opacity:.5; pointer-events:none;
    }
    #vibe985.trails .orbit{ border-style: solid; border-color: color-mix(in oklab, var(--a) 16%, transparent); }
    #vibe985 .o1{ transform: rotateX(var(--tilt)) rotateY(calc(var(--roll) * -1)); }
    #vibe985 .o2{ inset:6%; transform: rotateX(calc(var(--tilt) * .9)) rotateY(calc(var(--roll) * .8)); }
    #vibe985 .o3{ inset:13%; transform: rotateX(calc(var(--tilt) * .6)) rotateY(calc(var(--roll) * -0.6)); }

    #vibe985 .planet{
      position:absolute; top:0; left:50%; transform: translate(-50%, 0);
      width:16px; height:16px; border-radius:50%;
      box-shadow: 0 0 16px color-mix(in oklab, var(--a) 50%, transparent);
      background: radial-gradient(circle at 30% 30%, #fff, var(--a));
      transition: filter 200ms ease;
    }
    #vibe985 .p2{ width:20px; height:20px; background: radial-gradient(circle at 30% 30%, #fff, var(--b)); box-shadow: 0 0 18px color-mix(in oklab, var(--b) 55%, transparent); }
    #vibe985 .p3{ width:14px; height:14px; background: radial-gradient(circle at 30% 30%, #fff, var(--c)); box-shadow: 0 0 14px color-mix(in oklab, var(--c) 55%, transparent); }
    #vibe985.trails .planet{ filter: drop-shadow(0 0 12px color-mix(in oklab, var(--a) 60%, transparent)) blur(.2px); }

    #vibe985 .comet{
      position:absolute; inset:0; pointer-events:none; mix-blend-mode: screen;
    }
    #vibe985 .comet .head{
      position:absolute; top:50%; left:50%; width:10px; height:10px; border-radius:50%;
      background: #fff; box-shadow: 0 0 16px color-mix(in oklab, var(--a) 70%, transparent);
      transform-origin: -180px 0;
    }
    #vibe985.trails .comet .head{
      box-shadow:
        0 0 22px color-mix(in oklab, var(--a) 70%, transparent),
        0 0 60px color-mix(in oklab, var(--b) 50%, transparent);
    }
    #vibe985 .comet .tail{
      position:absolute; top:50%; left:50%; width:220px; height:2px; transform-origin: 0 50%;
      background: linear-gradient(90deg, #fff, color-mix(in oklab, var(--a) 30%, transparent));
      border-radius: 999px; filter: blur(2px); opacity:.7;
    }

    /* Copy column */
    #vibe985 .copy{ grid-column:2/3; align-self:center; }
    #vibe985 blockquote{
      margin:12px 0 0; padding-left:14px; border-left:2px solid var(--edge);
      color:var(--muted);
    }

    /* Meta */
    #vibe985 .meta{
      grid-column:1/-1; display:flex; align-items:center; justify-content:space-between; gap:10px;
      color:var(--muted); font-size:12px; margin-top:8px;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce){
      #vibe985 .halo{ animation: none !important; }
      #vibe985 .planet, #vibe985 .comet, #vibe985 .orrery { transition:none !important; }
    }

    /* Small screens */
    @media (max-width: 900px){
      #vibe985 .shell{ grid-template-columns: 1fr; }
      #vibe985 .stage{ order: 2; }
      #vibe985 .copy{ order: 1; }
    }
  </style>

  <canvas class="stars" aria-hidden="true"></canvas>
  <div class="halo" aria-hidden="true"></div>

  <section class="shell" tabindex="0">
    <div class="top">
      <div class="brand">
        <span class="sig" aria-hidden="true"></span>
        <span>Edition 985 • Orbital Garden</span>
      </div>
      <div class="controls">
        <button id="theme" title="Cycle theme (T)">Theme</button>
        <label class="toggle" title="Motion trails (G)">
          Trails
          <input type="checkbox" id="trails">
        </label>
        <label class="toggle" title="Auto-tilt camera (Space)">
          Auto
          <input type="checkbox" id="auto">
        </label>
        <label class="slider" title="Speed (+ / -)">
          Speed
          <input type="range" id="speed" min="0" max="1.6" step="0.01" value="1.00">
        </label>
      </div>
    </div>

    <div class="stage" role="img" aria-label="A kinetic orrery: three orbits and a comet revolving in space">
      <div class="orrery" aria-hidden="true">
        <div class="sun"></div>

        <div class="orbit o1" data-speed="0.9">
          <div class="planet p1"></div>
        </div>

        <div class="orbit o2" data-speed="0.6">
          <div class="planet p2"></div>
        </div>

        <div class="orbit o3" data-speed="0.36">
          <div class="planet p3"></div>
        </div>

        <div class="comet" data-speed="1.3">
          <div class="head"></div>
          <div class="tail"></div>
        </div>
      </div>
    </div>

    <div class="copy">
      <h1>Orbit the quiet.</h1>
      <p class="lede">A living clockwork that leans with your intention. Tip your cursor; the garden bows. Time becomes circles and circles become calm.</p>
      <blockquote>We move in ellipses around what we love.</blockquote>
    </div>

    <div class="meta">
      <span id="last-updated">Last updated: 2025-11-30 16:15:47 EST</span>
      <span class="keys">Shortcuts: T theme • G trails • Space auto • +/- speed • Arrows tilt</span>
    </div>
  </section>

  <script>
    (function(){
      const root = document.getElementById('vibe985');
      const themeBtn = root.querySelector('#theme');
      const trailsToggle = root.querySelector('#trails');
      const autoToggle = root.querySelector('#auto');
      const speed = root.querySelector('#speed');
      const shell = root.querySelector('.shell');
      const orrery = root.querySelector('.orrery');
      const orbits = [...root.querySelectorAll('.orbit')];
      const cometHead = root.querySelector('.comet .head');
      const cometTail = root.querySelector('.comet .tail');
      const stars = root.querySelector('.stars');
      const last = root.querySelector('#last-updated');

      // Timestamp
      try{
        const d = new Date();
        const fmt = new Intl.DateTimeFormat([], { year:'numeric', month:'short', day:'2-digit', hour:'2-digit', minute:'2-digit' });
        last.textContent = 'Last updated: ' + fmt.format(d);
      }catch{
        last.textContent = 'Last updated: just now';
      }

      // Themes
      const themes = ['aurora','sunrise','ink','mono'];
      function cycleTheme(){
        const cur = root.getAttribute('data-theme') || themes[0];
        const idx = themes.indexOf(cur);
        const nxt = themes[(idx+1) % themes.length];
        root.setAttribute('data-theme', nxt);
        seedStars(); // recolor twinkles
      }
      themeBtn.addEventListener('click', cycleTheme);

      // Trails
      trailsToggle.addEventListener('change', e=>{
        root.classList.toggle('trails', e.target.checked);
      });

      // Motion prefs
      let reduce = false;
      try{ reduce = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches; }catch{}
      if (reduce){ autoToggle.checked = false; }

      // Speed
      function setSpeed(v){
        const val = Math.max(0, Math.min(1.6, Number(v)||1));
        root.style.setProperty('--spd', val.toFixed(2));
      }
      setSpeed(speed.value);
      speed.addEventListener('input', e=> setSpeed(e.target.value));

      // Tilt tracking
      let rect;
      function updateRect(){ rect = root.getBoundingClientRect(); }
      updateRect(); addEventListener('resize', updateRect, { passive:true });

      let mx=.5, my=.5, tx=.5, ty=.5, raf=null;
      let auto = false, t0 = performance.now();
      autoToggle.addEventListener('change', e=> auto = e.target.checked);
      function onPointer(e){
        if(reduce || auto) return;
        tx = Math.max(0, Math.min(1, (e.clientX - rect.left)/rect.width));
        ty = Math.max(0, Math.min(1, (e.clientY - rect.top)/rect.height));
        if(!raf) raf = requestAnimationFrame(tick);
      }
      root.addEventListener('pointermove', onPointer);
      root.addEventListener('pointerleave', ()=>{ tx=.5; ty=.5; if(!raf) raf = requestAnimationFrame(tick); });

      // Stars canvas
      let ctx, W, H, DPR=1, STARS=[];
      function seedStars(){
        DPR = window.devicePixelRatio || 1;
        stars.width = Math.floor(stars.offsetWidth * DPR);
        stars.height = Math.floor(stars.offsetHeight * DPR);
        W = stars.width; H = stars.height;
        ctx = stars.getContext('2d');
        STARS = [];
        const style = getComputedStyle(root);
        const a = style.getPropertyValue('--a').trim() || '#7af5ff';
        const b = style.getPropertyValue('--b').trim() || '#8e7bff';
        const c = style.getPropertyValue('--c').trim() || '#21ffc6';
        const palette = [a,b,c,'#ffffff'];
        const count = Math.round(Math.min(600, Math.max(260, (W*H)/12000)));
        for(let i=0;i<count;i++){
          STARS.push({
            x: Math.random()*W,
            y: Math.random()*H,
            r: (Math.random()*1.2 + 0.3)*DPR,
            tw: Math.random()*6.283,
            hue: palette[i % palette.length]
          });
        }
      }
      function drawStars(t){
        if(!ctx) return;
        ctx.clearRect(0,0,W,H);
        for(const s of STARS){
          const twinkle = reduce ? 0.8 : (0.6 + 0.4*Math.sin(t*0.001 + s.tw));
          ctx.fillStyle = s.hue;
          ctx.globalAlpha = 0.35 * twinkle + 0.15;
          ctx.beginPath(); ctx.arc(s.x, s.y, s.r, 0, Math.PI*2); ctx.fill();
        }
        ctx.globalAlpha = 1;
      }
      seedStars();
      addEventListener('resize', seedStars, { passive:true });

      // Orrery motion
      const angles = orbits.map(()=> Math.random()*Math.PI*2);
      const comet = { a: Math.random()*Math.PI*2, speed: Number(root.querySelector('.comet').dataset.speed)||1.3 };

      function tick(now){
        const dt = (now - (t0||now)) / 1000; t0 = now;
        // ease pointer
        const ease = 0.12;
        mx += (tx - mx) * ease;
        my += (ty - my) * ease;
        root.style.setProperty('--mx', mx.toFixed(4));
        root.style.setProperty('--my', my.toFixed(4));

        // auto tilt
        if(auto && !reduce){
          const t = now * 0.0006;
          tx = 0.5 + Math.sin(t)*0.24;
          ty = 0.5 + Math.cos(t*1.2)*0.18;
        }

        // map to tilt angles
        const tilt = (mx - .5) * 20;
        const roll = (my - .5) * 16;
        root.style.setProperty('--tilt', tilt.toFixed(2) + 'deg');
        root.style.setProperty('--roll', roll.toFixed(2) + 'deg');

        // update orbits
        const factor = Number(getComputedStyle(root).getPropertyValue('--spd')) || 1;
        orbits.forEach((o, i)=>{
          const s = Number(o.dataset.speed) || 0.5;
          const a = angles[i] += (reduce ? 0 : s * factor * dt);
          const r = (o.clientWidth/2) - 10;
          const px = Math.sin(a) * r;
          const py = Math.cos(a) * r;
          const p = o.querySelector('.planet');
          if(p){
            p.style.transform = `translate(-50%, 0) rotate(${a}rad) translateY(${(o.clientHeight/2 - p.clientHeight/2 - 2)}px)`;
          }
        });

        // comet
        if(!reduce){
          comet.a += comet.speed * factor * dt * 0.8;
          const R = (orrery.clientWidth/2) * 0.72;
          const cx = orrery.clientWidth/2;
          const cy = orrery.clientHeight/2;
          const x = cx + Math.cos(comet.a) * R;
          const y = cy + Math.sin(comet.a*1.2) * (R * 0.66);
          cometHead.style.transform = `translate(${x}px, ${y}px)`;
          const ang = Math.atan2(Math.sin(comet.a*1.2)*0.66, -Math.sin(comet.a));
          const len = 220;
          cometTail.style.transform = `translate(${x}px, ${y}px) rotate(${ang}rad) scaleX(${1 + Math.abs(Math.sin(comet.a))*0.6})`;
          if(root.classList.contains('trails')){
            cometTail.style.opacity = 0.9;
          }else{
            cometTail.style.opacity = 0.7;
          }
        }

        // stars
        drawStars(now);

        raf = requestAnimationFrame(tick);
      }
      raf = requestAnimationFrame(tick);

      // Keyboard
      shell.addEventListener('keydown', (e)=>{
        const k = e.key.toLowerCase();
        if(k==='t'){ e.preventDefault(); cycleTheme(); }
        if(k==='g'){ e.preventDefault(); trailsToggle.checked = !trailsToggle.checked; trailsToggle.dispatchEvent(new Event('change')); }
        if(k===' '){ e.preventDefault(); autoToggle.checked = !autoToggle.checked; auto = autoToggle.checked; }
        if(k==='+' || k==='='){ e.preventDefault(); speed.value = Math.min(1.6, Number(speed.value)+0.05).toFixed(2); setSpeed(speed.value); }
        if(k==='-' || k==='_'){ e.preventDefault(); speed.value = Math.max(0, Number(speed.value)-0.05).toFixed(2); setSpeed(speed.value); }
        if(['arrowup','arrowdown','arrowleft','arrowright'].includes(k)){
          e.preventDefault();
          if(k==='arrowup') ty -= .03;
          if(k==='arrowdown') ty += .03;
          if(k==='arrowleft') tx -= .03;
          if(k==='arrowright') tx += .03;
          tx = Math.max(0, Math.min(1, tx));
          ty = Math.max(0, Math.min(1, ty));
          if(!raf) raf = requestAnimationFrame(tick);
        }
      });
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


