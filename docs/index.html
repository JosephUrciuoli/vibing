<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div class="vibe184">
  <style>
    .vibe184 {
      --bg1: #f7f9fc;
      --bg2: #eef3ff;
      --ink: #0c1526;
      --muted: rgba(12,21,38,0.65);
      --panel: rgba(255,255,255,0.66);
      --border: rgba(12,21,38,0.08);
      --ac1: #3a7bd5;
      --ac2: #ffb86b;
      --track: color-mix(in oklab, var(--ink) 12%, transparent);
      --rx: 0deg;
      --ry: 0deg;
      --ang: 0deg;
      --play: 1;
      position: relative;
      overflow: hidden;
      border-radius: 26px;
      padding: clamp(20px, 3.5vw, 36px);
      color: var(--ink);
      background:
        radial-gradient(1200px 800px at 15% -10%, color-mix(in oklab, var(--ac1) 12%, transparent) 0%, transparent 55%),
        radial-gradient(1000px 700px at 110% 120%, color-mix(in oklab, var(--ac2) 12%, transparent) 0%, transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      border: 1px solid var(--border);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.4),
        0 20px 60px rgba(0,0,0,0.08);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      isolation: isolate;
    }

    .vibe184 .bg,
    .vibe184 .bg * { pointer-events: none; }
    .vibe184 .bg {
      position: absolute;
      inset: 0;
      z-index: 0;
    }
    .vibe184 .blob {
      position: absolute;
      width: 70vmax;
      height: 70vmax;
      border-radius: 50%;
      filter: blur(60px) saturate(120%);
      opacity: 0.25;
      transform-origin: center;
      animation: drift-slow 38s ease-in-out infinite alternate;
      mix-blend-mode: multiply;
    }
    .vibe184 .blob.b1 {
      top: -25vmax; left: -20vmax;
      background: radial-gradient(circle at 30% 30%, color-mix(in oklab, var(--ac1) 65%, transparent), transparent 55%);
    }
    .vibe184 .blob.b2 {
      bottom: -30vmax; right: -25vmax;
      background: radial-gradient(circle at 70% 70%, color-mix(in oklab, var(--ac2) 65%, transparent), transparent 55%);
      animation-duration: 48s;
    }
    .vibe184 .grain {
      position: absolute;
      inset: -2%;
      opacity: 0.06;
      background-image:
        radial-gradient(1px 1px at 12% 18%, #000 50%, transparent 51%),
        radial-gradient(1px 1px at 72% 66%, #000 50%, transparent 51%),
        radial-gradient(1px 1px at 34% 72%, #000 50%, transparent 51%),
        radial-gradient(1px 1px at 86% 24%, #000 50%, transparent 51%);
      background-size: 180px 180px, 220px 220px, 160px 160px, 260px 260px;
      animation: grain-move 20s linear infinite;
    }

    .vibe184 .poster {
      position: relative;
      z-index: 2;
      border-radius: 22px;
      background:
        linear-gradient(180deg, color-mix(in oklab, var(--panel) 86%, transparent), color-mix(in oklab, var(--panel) 92%, transparent));
      border: 1px solid color-mix(in oklab, var(--border) 65%, transparent);
      box-shadow:
        0 14px 40px rgba(0,0,0,0.10),
        inset 0 0 0 1px rgba(255,255,255,0.5);
      padding: clamp(18px, 3vw, 28px);
      backdrop-filter: blur(8px) saturate(120%);
      transform-style: preserve-3d;
      transform: perspective(900px) rotateX(var(--rx)) rotateY(var(--ry));
      transition: transform 160ms ease, box-shadow 220ms ease, background 220ms ease;
    }
    .vibe184 .poster:hover {
      box-shadow:
        0 24px 70px rgba(0,0,0,0.14),
        0 0 0 1px color-mix(in oklab, var(--ac2) 10%, transparent),
        inset 0 0 0 1px rgba(255,255,255,0.6);
    }

    .vibe184 .topline {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      margin-bottom: 8px;
    }
    .vibe184 .chip {
      font-size: 12px;
      letter-spacing: 0.14em;
      text-transform: uppercase;
      color: var(--ink);
      opacity: 0.8;
      padding: 6px 10px;
      border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6));
      border: 1px solid rgba(0,0,0,0.06);
      box-shadow: 0 3px 10px rgba(0,0,0,0.05);
      white-space: nowrap;
    }
    .vibe184 .toggles {
      display: inline-flex;
      gap: 8px;
      flex-wrap: wrap;
    }
    .vibe184 .toggle {
      appearance: none;
      border: 1px solid rgba(0,0,0,0.08);
      background: white;
      color: var(--ink);
      border-radius: 12px;
      padding: 8px 12px;
      font-weight: 600;
      font-size: 12px;
      letter-spacing: 0.02em;
      cursor: pointer;
      transition: transform 120ms ease, background 180ms ease, box-shadow 180ms ease;
      box-shadow: 0 2px 8px rgba(0,0,0,0.06), inset 0 0 0 1px rgba(255,255,255,0.6);
    }
    .vibe184 .toggle[aria-pressed="true"] {
      background: linear-gradient(135deg, color-mix(in oklab, var(--ac1) 18%, white), color-mix(in oklab, var(--ac2) 18%, white));
      box-shadow:
        0 6px 18px color-mix(in oklab, var(--ac2) 16%, transparent),
        inset 0 0 0 1px rgba(255,255,255,0.8);
    }
    .vibe184 .toggle:focus-visible { outline: 2px solid color-mix(in oklab, var(--ac1) 60%, transparent); outline-offset: 2px; }
    .vibe184 .toggle:hover { transform: translateY(-1px); }

    .vibe184 .title {
      margin: 10px 0 6px 0;
      font-size: clamp(28px, 6.2vw, 64px);
      line-height: 0.98;
      letter-spacing: -0.02em;
      background: linear-gradient(120deg, var(--ink) 0%, color-mix(in oklab, var(--ac1) 60%, var(--ink)) 35%, color-mix(in oklab, var(--ac2) 75%, var(--ink)) 100%);
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-shadow: 0 1px 0 rgba(255,255,255,0.4);
    }
    .vibe184 .lede {
      margin: 0 0 16px 0;
      font-size: clamp(14px, 2.2vw, 18px);
      color: var(--muted);
      max-width: 70ch;
    }

    .vibe184 .hero {
      display: grid;
      grid-template-columns: minmax(220px, 1fr) 1fr;
      align-items: center;
      gap: clamp(14px, 2.6vw, 24px);
      margin: 12px 0 10px 0;
    }
    @media (max-width: 800px) {
      .vibe184 .hero { grid-template-columns: 1fr; }
    }

    .vibe184 .dial {
      position: relative;
      width: clamp(200px, 42vw, 320px);
      aspect-ratio: 1 / 1;
      border-radius: 50%;
      background:
        conic-gradient(from -90deg,
          var(--ac1) 0deg,
          var(--ac2) var(--ang),
          var(--track) var(--ang) 360deg);
      box-shadow:
        0 20px 50px rgba(0,0,0,0.12),
        inset 0 0 0 1px rgba(255,255,255,0.6);
      transition: filter 220ms ease, transform 220ms ease;
    }
    .vibe184 .dial::after {
      content: "";
      position: absolute; inset: 10%;
      border-radius: 50%;
      background:
        radial-gradient(circle at 50% 45%, color-mix(in oklab, var(--ac1) 16%, transparent), transparent 60%),
        linear-gradient(180deg, color-mix(in oklab, var(--panel) 92%, transparent), color-mix(in oklab, var(--panel) 86%, transparent));
      border: 1px solid color-mix(in oklab, var(--border) 65%, transparent);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.6);
    }
    .vibe184 .dot {
      position: absolute;
      left: 50%; top: 50%;
      width: 18px; height: 18px;
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, white, color-mix(in oklab, white 0%, var(--ac2)));
      box-shadow:
        0 6px 16px color-mix(in oklab, var(--ac2) 36%, transparent),
        inset 0 0 0 1px rgba(255,255,255,0.8);
      transform:
        rotate(var(--ang))
        translateY(calc(-50% + -42%));
      transform-origin: 50% 50%;
      transition: transform 60ms linear;
    }
    .vibe184 .center {
      position: absolute;
      left: 50%; top: 50%;
      transform: translate(-50%, -50%);
      width: 40%;
      aspect-ratio: 1;
      border-radius: 50%;
      background:
        radial-gradient(60% 60% at 40% 35%, color-mix(in oklab, var(--ac2) 22%, transparent), transparent 70%),
        linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.7));
      box-shadow:
        0 12px 30px rgba(0,0,0,0.10),
        inset 0 0 0 1px rgba(255,255,255,0.8);
      overflow: hidden;
    }
    .vibe184 .spark {
      position: absolute;
      inset: -30%;
      background: conic-gradient(from var(--ang), color-mix(in oklab, var(--ac1) 25%, transparent), transparent, color-mix(in oklab, var(--ac2) 25%, transparent));
      filter: blur(30px) saturate(120%);
      opacity: 0.6;
      mix-blend-mode: color-dodge;
      animation: spin var(--play) calc(36s) linear infinite;
    }

    .vibe184 .controls {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
    }
    .vibe184 .btn {
      appearance: none;
      border: 0;
      border-radius: 14px;
      padding: 12px 16px;
      font-weight: 700;
      letter-spacing: 0.01em;
      cursor: pointer;
      transition: transform 140ms ease, box-shadow 180ms ease, background 180ms ease, color 180ms ease;
      will-change: transform;
    }
    .vibe184 .btn:focus-visible { outline: 2px solid color-mix(in oklab, var(--ac1) 60%, transparent); outline-offset: 2px; }
    .vibe184 .btn.primary {
      color: #08121c;
      background: linear-gradient(135deg, var(--ac1), var(--ac2));
      box-shadow:
        0 12px 26px color-mix(in oklab, var(--ac2) 26%, transparent),
        inset 0 -4px 8px rgba(0,0,0,0.12);
    }
    .vibe184 .btn.primary:hover { transform: translateY(-1px); }
    .vibe184 .btn.ghost {
      color: var(--ink);
      background: rgba(255,255,255,0.8);
      border: 1px solid rgba(0,0,0,0.08);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.7), 0 2px 10px rgba(0,0,0,0.06);
    }
    .vibe184 .btn.ghost:hover { background: rgba(255,255,255,0.95); transform: translateY(-1px); }

    .vibe184 .swatches {
      display: grid;
      grid-template-columns: repeat(5, minmax(0, 1fr));
      gap: 10px;
      list-style: none;
      padding: 0;
      margin: 14px 0 4px 0;
    }
    @media (max-width: 700px) {
      .vibe184 .swatches { grid-template-columns: repeat(3, minmax(0, 1fr)); }
    }
    .vibe184 .swatch {
      position: relative;
      border-radius: 14px;
      height: 44px;
      border: 1px solid rgba(0,0,0,0.08);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.6), 0 6px 16px rgba(0,0,0,0.06);
      cursor: pointer;
      transition: transform 140ms ease, box-shadow 180ms ease, outline 180ms ease;
      overflow: hidden;
    }
    .vibe184 .swatch:hover { transform: translateY(-2px); }
    .vibe184 .swatch:focus-visible { outline: 2px solid color-mix(in oklab, var(--ac1) 50%, transparent); outline-offset: 2px; }
    .vibe184 .swatch .label {
      position: absolute;
      left: 10px; bottom: 8px;
      font-size: 11px;
      font-weight: 700;
      color: #0d0f14;
      text-shadow: 0 1px 0 rgba(255,255,255,0.8);
      mix-blend-mode: overlay;
      pointer-events: none;
    }

    .vibe184 .meta {
      display: flex;
      align-items: center;
      gap: 10px;
      opacity: 0.95;
      margin-top: 14px;
      font-size: 13px;
      color: var(--muted);
    }
    .vibe184 .sep { opacity: 0.5; }

    .vibe184 .pulse { animation: throb 900ms ease; }

    @keyframes drift-slow {
      0%   { transform: translate3d(0,0,0) scale(1) rotate(0deg); }
      100% { transform: translate3d(2%, -2%, 0) scale(1.06) rotate(8deg); }
    }
    @keyframes grain-move {
      0%   { transform: translate(0,0); }
      100% { transform: translate(-5%, -5%); }
    }
    @keyframes spin {
      from { transform: rotate(0deg); }
      to   { transform: rotate(360deg); }
    }
    @keyframes throb {
      0%   { box-shadow: 0 0 0 0 color-mix(in oklab, var(--ac1) 0%, transparent); }
      50%  { box-shadow: 0 0 0 20px color-mix(in oklab, var(--ac1) 22%, transparent); }
      100% { box-shadow: 0 0 0 0 color-mix(in oklab, var(--ac1) 0%, transparent); }
    }
  </style>

  <div class="bg" aria-hidden="true">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="grain"></div>
  </div>

  <section class="poster" role="region" aria-label="Kinetic poster">
    <div class="topline">
      <span class="chip">Iteration 184</span>
      <div class="toggles" role="group" aria-label="View options">
        <button class="toggle" id="toggle-theme" aria-pressed="false" aria-label="Toggle dark mode">Light</button>
        <button class="toggle" id="toggle-motion" aria-pressed="true" aria-label="Toggle motion">Motion</button>
      </div>
    </div>

    <h1 class="title">Kinetic Calm</h1>
    <p class="lede">A breathing interface—soft light, measured motion, and delightful tactility.</p>

    <div class="hero">
      <div class="dial" role="img" aria-label="Ambient dial">
        <div class="center"><div class="spark"></div></div>
        <div class="dot" aria-hidden="true"></div>
      </div>
      <div class="controls" role="group" aria-label="Actions">
        <button class="btn primary" id="btn-shuffle" aria-label="Shuffle palette">Shuffle palette</button>
        <button class="btn ghost" id="btn-pulse" aria-label="Pulse animation">Pulse</button>
      </div>
    </div>

    <ul class="swatches" aria-label="Palettes" id="swatches"></ul>

    <div class="meta">
      <span id="palette-name">Porcelain</span>
      <span class="sep">•</span>
      <span id="last-updated">Last updated: 2025-10-25 00:20:00 EST</span>
    </div>
  </section>

  <script>
    (function(){
      const root = document.currentScript.closest('.vibe184');
      const poster = root.querySelector('.poster');
      const dial = root.querySelector('.dial');
      const themeBtn = root.querySelector('#toggle-theme');
      const motionBtn = root.querySelector('#toggle-motion');
      const shuffleBtn = root.querySelector('#btn-shuffle');
      const pulseBtn = root.querySelector('#btn-pulse');
      const swatchesEl = root.querySelector('#swatches');
      const paletteNameEl = root.querySelector('#palette-name');

      const palettes = [
        {
          name: 'Porcelain',
          light: { bg1:'#f7f9fc', bg2:'#eef3ff', ink:'#0c1526', muted:'rgba(12,21,38,0.65)', panel:'rgba(255,255,255,0.66)', border:'rgba(12,21,38,0.08)', ac1:'#3a7bd5', ac2:'#ffb86b' },
          dark:  { bg1:'#0b1020', bg2:'#15213d', ink:'#f6f7fb', muted:'rgba(246,247,251,0.72)', panel:'rgba(255,255,255,0.08)', border:'rgba(255,255,255,0.18)', ac1:'#66e6d6', ac2:'#a87fff' }
        },
        {
          name: 'Matcha',
          light: { bg1:'#f7fbf2', bg2:'#e9f7ec', ink:'#0b2314', muted:'rgba(11,35,20,0.62)', panel:'rgba(255,255,255,0.66)', border:'rgba(11,35,20,0.08)', ac1:'#61d095', ac2:'#94b6ff' },
          dark:  { bg1:'#09130d', bg2:'#0f2419', ink:'#eaf7ef', muted:'rgba(234,247,239,0.72)', panel:'rgba(255,255,255,0.06)', border:'rgba(255,255,255,0.16)', ac1:'#72efdd', ac2:'#a0e67a' }
        },
        {
          name: 'Melon',
          light: { bg1:'#fff7f2', bg2:'#ffe9f0', ink:'#20100f', muted:'rgba(32,16,15,0.62)', panel:'rgba(255,255,255,0.66)', border:'rgba(32,16,15,0.08)', ac1:'#ff9a8b', ac2:'#fecf6a' },
          dark:  { bg1:'#1a0b0c', bg2:'#381625', ink:'#fff9f7', muted:'rgba(255,249,247,0.72)', panel:'rgba(255,255,255,0.08)', border:'rgba(255,255,255,0.16)', ac1:'#ff6ea6', ac2:'#ffd166' }
        },
        {
          name: 'Lagoon',
          light: { bg1:'#f1fbff', bg2:'#e6f7f7', ink:'#071a20', muted:'rgba(7,26,32,0.62)', panel:'rgba(255,255,255,0.66)', border:'rgba(7,26,32,0.08)', ac1:'#38e0b9', ac2:'#7dd3fc' },
          dark:  { bg1:'#041a1d', bg2:'#0e3b3e', ink:'#e8fbff', muted:'rgba(232,251,255,0.72)', panel:'rgba(255,255,255,0.06)', border:'rgba(255,255,255,0.16)', ac1:'#38e0b9', ac2:'#7dd3fc' }
        },
        {
          name: 'Plumglass',
          light: { bg1:'#f8f1ff', bg2:'#efe6ff', ink:'#1b0d2d', muted:'rgba(27,13,45,0.62)', panel:'rgba(255,255,255,0.66)', border:'rgba(27,13,45,0.08)', ac1:'#c79cff', ac2:'#73f8d8' },
          dark:  { bg1:'#170b1f', bg2:'#3b1c59', ink:'#f8f1ff', muted:'rgba(248,241,255,0.72)', panel:'rgba(255,255,255,0.08)', border:'rgba(255,255,255,0.16)', ac1:'#e0aaff', ac2:'#72efdd' }
        }
      ];

      let mode = 'light';
      let current = palettes[0];
      let rafId = null;

      function setVars(v) {
        root.style.setProperty('--bg1', v.bg1);
        root.style.setProperty('--bg2', v.bg2);
        root.style.setProperty('--ink', v.ink);
        root.style.setProperty('--muted', v.muted);
        root.style.setProperty('--panel', v.panel);
        root.style.setProperty('--border', v.border);
        root.style.setProperty('--ac1', v.ac1);
        root.style.setProperty('--ac2', v.ac2);
        root.style.setProperty('--track', `color-mix(in oklab, var(--ink) 12%, transparent)`);
        paletteNameEl.textContent = current.name;
        poster.classList.remove('pulse'); void poster.offsetWidth; poster.classList.add('pulse');
      }

      function applyPalette(p, m = mode) {
        current = p;
        setVars(p[m]);
        labelSwatches();
        updateTime();
      }

      function labelSwatches() {
        [...swatchesEl.children].forEach(li => {
          li.setAttribute('aria-pressed', li.dataset.name === current.name ? 'true' : 'false');
          if (li.dataset.name === current.name) {
            li.style.outline = '2px solid '+current[mode].ac1;
            li.style.outlineOffset = '2px';
          } else {
            li.style.outline = 'none';
          }
        });
      }

      function buildSwatches() {
        swatchesEl.innerHTML = '';
        palettes.forEach((p, i) => {
          const li = document.createElement('button');
          li.className = 'swatch';
          li.type = 'button';
          li.dataset.name = p.name;
          li.setAttribute('aria-label', 'Apply '+p.name+' palette');
          li.setAttribute('aria-pressed', 'false');
          const sw = p[mode];
          li.style.background = `linear-gradient(135deg, ${sw.ac1}, ${sw.ac2})`;
          li.innerHTML = `<span class="label">${p.name}</span>`;
          li.addEventListener('click', () => applyPalette(p));
          swatchesEl.appendChild(li);
        });
        labelSwatches();
      }

      function updateTime() {
        const el = root.querySelector('#last-updated');
        try {
          const dtf = new Intl.DateTimeFormat(undefined, {
            year: 'numeric', month: 'short', day: '2-digit',
            hour: '2-digit', minute: '2-digit', second: '2-digit',
            timeZoneName: 'short'
          });
          el.textContent = 'Last updated: ' + dtf.format(new Date());
        } catch (e) {
          el.textContent = 'Last updated: ' + new Date().toLocaleString();
        }
      }

      function loop() {
        const now = new Date();
        const s = now.getSeconds() + now.getMilliseconds()/1000;
        const deg = (s / 60) * 360;
        root.style.setProperty('--ang', deg + 'deg');
        if (root.style.getPropertyValue('--play') === '1') {
          rafId = requestAnimationFrame(loop);
        } else {
          cancelAnimationFrame(rafId);
          rafId = null;
        }
      }

      function start() {
        if (!rafId) {
          root.style.setProperty('--play', '1');
          rafId = requestAnimationFrame(loop);
        }
      }
      function stop() {
        root.style.setProperty('--play', '0');
        if (rafId) cancelAnimationFrame(rafId);
        rafId = null;
      }

      // Pointer tilt
      function handleMove(ev) {
        const rect = poster.getBoundingClientRect();
        const cx = (ev.clientX ?? (ev.touches && ev.touches[0].clientX)) - rect.left;
        const cy = (ev.clientY ?? (ev.touches && ev.touches[0].clientY)) - rect.top;
        const rx = ((cy / rect.height) - 0.5) * -6;
        const ry = ((cx / rect.width) - 0.5) * 6;
        root.style.setProperty('--rx', rx.toFixed(2)+'deg');
        root.style.setProperty('--ry', ry.toFixed(2)+'deg');
      }
      poster.addEventListener('pointermove', handleMove, {passive:true});
      poster.addEventListener('touchmove', handleMove, {passive:true});
      poster.addEventListener('pointerleave', () => {
        root.style.setProperty('--rx', '0deg');
        root.style.setProperty('--ry', '0deg');
      });

      // Controls
      themeBtn.addEventListener('click', () => {
        mode = mode === 'light' ? 'dark' : 'light';
        themeBtn.textContent = mode === 'light' ? 'Light' : 'Dark';
        themeBtn.setAttribute('aria-pressed', mode === 'dark' ? 'true' : 'false');
        buildSwatches();
        applyPalette(current, mode);
      });

      motionBtn.addEventListener('click', () => {
        const on = root.style.getPropertyValue('--play') !== '0';
        if (on) { stop(); } else { start(); }
        motionBtn.setAttribute('aria-pressed', (!on).toString());
      });

      shuffleBtn.addEventListener('click', () => {
        const options = palettes.filter(p => p.name !== current.name);
        const chosen = options[Math.floor(Math.random()*options.length)];
        applyPalette(chosen);
      });

      pulseBtn.addEventListener('click', () => {
        dial.classList.remove('pulse'); void dial.offsetWidth; dial.classList.add('pulse');
        updateTime();
      });

      // Init
      buildSwatches();
      applyPalette(palettes[0], 'light');
      updateTime();
      start();
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


