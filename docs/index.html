<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="orrery" aria-label="Aurora Orrery — Live Gradient Sculpture">
  <style>
    .orrery {
      --ink: #e8eefc;
      --muted: #a9b3cd;
      --bg1: #0d1024;
      --bg2: #1d2442;
      --a1: #9be4ff;   /* ice blue */
      --a2: #8b7bff;   /* heliotrope */
      --a3: #ffb47d;   /* warm peach */
      --ring: rgba(255,255,255,0.14);
      color: var(--ink);
      border-radius: 28px;
      padding: 28px;
      position: relative;
      overflow: hidden;
      background:
        radial-gradient(140% 100% at 20% -10%, #6ad6ff22, transparent 55%),
        radial-gradient(120% 120% at 110% 120%, #ffb47d18, transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.06),
        0 32px 120px rgba(6, 10, 35, 0.6);
      isolation: isolate;
    }

    /* Ambient aurora swaths */
    .orrery::before,
    .orrery::after {
      content: "";
      position: absolute; inset: -40%;
      background:
        conic-gradient(from 20deg at 60% 30%, #8b7bff33, #9be4ff33, #ffb47d33, #8b7bff33);
      filter: blur(60px) saturate(1.1);
      opacity: 0.55;
      pointer-events: none;
      animation: aurora 46s linear infinite;
      mix-blend-mode: screen;
    }
    .orrery::after { animation-direction: reverse; opacity: 0.35; }
    @keyframes aurora { to { transform: rotate(360deg); } }

    .shell {
      position: relative; z-index: 1;
      display: grid; grid-template-columns: 1.1fr 1fr; gap: 28px; align-items: center;
    }
    @media (max-width: 980px) { .shell { grid-template-columns: 1fr; gap: 16px; } }

    /* Mast */
    .badge {
      display: inline-flex; align-items: center; gap: 10px;
      font: 800 11px/1 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto;
      text-transform: uppercase; letter-spacing: 0.18em; color: var(--muted);
      user-select: none; margin-bottom: 10px;
    }
    .badge .dot {
      width: 12px; height: 12px; border-radius: 50%;
      background: radial-gradient(circle at 35% 35%, #fff 0 35%, var(--a3) 38%, var(--a2) 100%);
      box-shadow: 0 0 0 6px rgba(139,123,255,0.14), 0 0 14px rgba(155,228,255,0.6);
    }
    .title {
      margin: 0;
      font: 900 68px/0.98 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto;
      letter-spacing: -0.025em;
      background: linear-gradient(180deg, #f9fbff, #a1b0ff 60%, #8ff0d1);
      -webkit-background-clip: text; background-clip: text; color: transparent;
      text-shadow: 0 2px 0 rgba(255,255,255,0.35);
    }
    @media (max-width: 680px) { .title { font-size: 44px; } }
    .sub {
      margin: 14px 0 24px;
      color: var(--muted);
      font: 500 16px/1.8 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto;
      max-width: 60ch;
    }

    /* Controls */
    .controls { display: flex; flex-wrap: wrap; gap: 10px; }
    .btn {
      appearance: none; border: 1px solid rgba(255,255,255,0.12);
      background: linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06));
      color: var(--ink);
      font: 800 12px/1 ui-sans-serif, system-ui;
      letter-spacing: 0.02em; padding: 12px 14px; border-radius: 14px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.35), 0 10px 24px rgba(0,0,0,0.24);
      display: inline-flex; align-items: center; gap: 10px;
      cursor: pointer; transition: transform 0.15s ease, box-shadow 0.3s ease, border-color 0.2s ease, background 0.2s ease;
      -webkit-tap-highlight-color: transparent; backdrop-filter: blur(8px);
    }
    .btn:hover, .btn:focus-visible { transform: translateY(-1px); outline: none; border-color: rgba(255,255,255,0.28); box-shadow: inset 0 1px 0 rgba(255,255,255,0.6), 0 18px 38px rgba(0,0,0,0.32); }
    .btn .swatch {
      width: 14px; height: 14px; border-radius: 4px;
      background: linear-gradient(135deg, var(--a1), var(--a2), var(--a3));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.65), 0 0 12px rgba(139,123,255,0.35);
    }

    /* Stage */
    .stage {
      position: relative; width: 100%; aspect-ratio: 1 / 1; border-radius: 24px; overflow: hidden;
      border: 1px solid rgba(255,255,255,0.12);
      background:
        radial-gradient(120% 90% at 50% -10%, rgba(255,255,255,0.18), rgba(255,255,255,0) 60%),
        linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.35), 0 30px 80px rgba(0,0,0,0.35);
      transform-style: preserve-3d; perspective: 1000px;
      transition: box-shadow 300ms ease, transform 200ms ease;
    }
    .glare {
      position: absolute; inset: -10% -20% auto -20%; height: 40%;
      background:
        radial-gradient(120% 100% at 30% 0%, rgba(255,255,255,0.85), rgba(255,255,255,0.0) 60%),
        linear-gradient(90deg, rgba(255,255,255,0.18), rgba(255,255,255,0));
      mix-blend-mode: screen; pointer-events: none;
    }

    /* Central sun */
    .sun {
      position: absolute; left: 50%; top: 50%; translate: -50% -50%;
      width: 44%; aspect-ratio: 1; border-radius: 50%;
      background:
        radial-gradient(circle at 35% 35%, #fff8 0 12%, #fff3 18%, #0000 26%),
        radial-gradient(circle at 60% 60%, var(--a1) 0 35%, var(--a2) 55%, var(--a3) 80%),
        conic-gradient(from 0deg, #ffffff55, #ffffff00 30%, #ffffff33, #ffffff00 70%, #ffffff55);
      box-shadow: 0 0 0 10px rgba(139,123,255,0.06), 0 0 80px 20px rgba(155,228,255,0.2), 0 40px 120px rgba(0,0,0,0.35);
      animation: spin 42s linear infinite;
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* Orbits */
    .orbit {
      position: absolute; left: 50%; top: 50%; translate: -50% -50%;
      border-radius: 50%;
      animation: orbit-spin var(--dur, 18s) linear infinite;
      will-change: transform;
    }
    @keyframes orbit-spin { to { transform: rotate(360deg); } }

    /* Rings via dashes (conic) */
    .orbit::before {
      content: "";
      position: absolute; inset: 0;
      border-radius: 50%;
      background:
        conic-gradient(from 0deg, var(--ring) 0 10deg, transparent 10deg 24deg);
      -webkit-mask: radial-gradient(farthest-side, transparent calc(100% - 1.5px), #000 calc(100% - 1px));
              mask: radial-gradient(farthest-side, transparent calc(100% - 1.5px), #000 calc(100% - 1px));
      opacity: 0.9;
      filter: drop-shadow(0 2px 6px rgba(0,0,0,0.25));
    }

    /* Planet */
    .planet {
      position: absolute; left: 100%; top: 50%; translate: 0 -50%;
      display: inline-block; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff 0 35%, #fff0 36%), radial-gradient(circle at 60% 60%, var(--pc1), var(--pc2));
      box-shadow:
        0 0 0 1px rgba(255,255,255,0.35) inset,
        0 0 22px 6px color-mix(in srgb, var(--pc2), transparent 65%);
      transform: translateX(-50%);
    }

    .o1 { width: 72%; aspect-ratio: 1; transform: rotate(0deg); --dur: 24s; }
    .o1 .planet { width: 18px; height: 18px; --pc1: var(--a1); --pc2: var(--a2); }
    .o2 { width: 86%; aspect-ratio: 1; transform: rotate(18deg); --dur: 36s; }
    .o2 .planet { width: 12px; height: 12px; --pc1: #ffd29f; --pc2: var(--a3); }
    .o3 { width: 56%; aspect-ratio: 1; transform: rotate(-22deg); --dur: 18s; }
    .o3 .planet { width: 10px; height: 10px; --pc1: #9be4ff; --pc2: #c1d0ff; }
    .o4 { width: 96%; aspect-ratio: 1; transform: rotate(-8deg); --dur: 52s; }
    .o4 .planet { width: 8px; height: 8px; --pc1: #f9f871; --pc2: #8b7bff; }

    /* Grid overlay toggle */
    .grid-overlay {
      position: absolute; inset: 0; pointer-events: none;
      opacity: 0; transition: opacity 220ms ease;
      background:
        radial-gradient(circle at 50% 50%, rgba(255,255,255,0.06), transparent 40%),
        repeating-linear-gradient(0deg, rgba(255,255,255,0.08) 0 1px, transparent 1px 24px),
        repeating-linear-gradient(90deg, rgba(255,255,255,0.08) 0 1px, transparent 1px 24px);
      -webkit-mask: radial-gradient(75% 75% at 50% 50%, #000, transparent 80%);
              mask: radial-gradient(75% 75% at 50% 50%, #000, transparent 80%);
    }
    .show-grid .grid-overlay { opacity: 0.45; }

    /* Footer */
    .footer {
      position: relative; z-index: 1;
      margin-top: 18px; padding-top: 12px;
      display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; gap: 10px;
      border-top: 1px solid rgba(255,255,255,0.12);
      color: var(--muted);
      font: 600 12px/1.4 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto;
    }
    .hint { display: inline-flex; gap: 10px; align-items: center; flex-wrap: wrap; }
    .key { border: 1px solid rgba(255,255,255,0.24); background: rgba(255,255,255,0.08); padding: 4px 8px; border-radius: 8px; color: var(--ink); font-weight: 800; box-shadow: inset 0 1px 0 rgba(255,255,255,0.4), 0 2px 8px rgba(0,0,0,0.18); }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      .orrery::before, .orrery::after, .sun, .orbit { animation: none !important; }
    }

    /* Paused state */
    .paused .sun, .paused .orbit { animation-play-state: paused; }

    /* Soft tilt off */
    .no-tilt .stage { transform: none !important; }

    /* Mode transitions */
    .orrery, .stage, .btn, .sun, .planet { transition: color 250ms ease, background 400ms ease, box-shadow 400ms ease, border-color 300ms ease; }
  </style>

  <div class="shell">
    <div class="col">
      <div class="badge"><span class="dot" aria-hidden="true"></span> Halcyon Lab • Iteration 587</div>
      <h1 class="title">Aurora Orrery</h1>
      <p class="sub">Planets drift; light leans. Glide your cursor to tilt the cosmos.</p>
      <div class="controls">
        <button class="btn" id="mode" aria-label="Cycle mode" aria-pressed="false"><span class="swatch" aria-hidden="true"></span> Mode</button>
        <button class="btn" id="pause" aria-label="Pause motion" aria-pressed="false">Pause</button>
        <button class="btn" id="grid" aria-label="Toggle grid" aria-pressed="false">Grid</button>
        <button class="btn" id="tilt" aria-label="Toggle tilt" aria-pressed="true">Tilt</button>
      </div>
    </div>

    <div class="col">
      <div class="stage" id="stage" tabindex="0" aria-label="Interactive orrery">
        <div class="glare" aria-hidden="true"></div>
        <div class="sun" aria-hidden="true"></div>

        <div class="orbit o1"><span class="planet" aria-hidden="true"></span></div>
        <div class="orbit o2"><span class="planet" aria-hidden="true"></span></div>
        <div class="orbit o3"><span class="planet" aria-hidden="true"></span></div>
        <div class="orbit o4"><span class="planet" aria-hidden="true"></span></div>

        <div class="grid-overlay" aria-hidden="true"></div>
      </div>
    </div>
  </div>

  <div class="footer">
    <div class="hint">
      <span class="key">M</span> Mode
      <span class="key">P</span> Pause
      <span class="key">G</span> Grid
      <span class="key">T</span> Tilt
      <span class="key">Move</span> Tilt Cosmos
    </div>
    <div class="updated">Updated • <span id="last-updated">Last updated: 2025-11-12 06:15:51 EST</span></div>
  </div>

  <script>
    (function () {
      const root = document.currentScript.closest('.orrery');
      const stage = root.querySelector('#stage');

      // Palettes
      const modes = [
        { name: 'Midnight', ink:'#e8eefc', muted:'#a9b3cd', bg1:'#0d1024', bg2:'#1d2442', a1:'#9be4ff', a2:'#8b7bff', a3:'#ffb47d' },
        { name: 'Dawn',     ink:'#0f1222', muted:'#4a566d', bg1:'#fff7f3', bg2:'#eaf6ff', a1:'#ff8a5b', a2:'#7b61ff', a3:'#15c9a7' },
        { name: 'Noon',     ink:'#0b1530', muted:'#4a566d', bg1:'#e9f6ff', bg2:'#e8fff8', a1:'#10b981', a2:'#0ea5e9', a3:'#fde047' },
        { name: 'Dusk',     ink:'#f5f7ff', muted:'#c6cbe0', bg1:'#18142c', bg2:'#2d1a33', a1:'#ff9cc2', a2:'#9b8cff', a3:'#ffd09b' }
      ];
      let idx = 0;
      function applyMode(m) {
        root.style.setProperty('--ink', m.ink);
        root.style.setProperty('--muted', m.muted);
        root.style.setProperty('--bg1', m.bg1);
        root.style.setProperty('--bg2', m.bg2);
        root.style.setProperty('--a1', m.a1);
        root.style.setProperty('--a2', m.a2);
        root.style.setProperty('--a3', m.a3);
      }
      applyMode(modes[idx]);

      // Buttons
      const btnMode = root.querySelector('#mode');
      const btnPause = root.querySelector('#pause');
      const btnGrid = root.querySelector('#grid');
      const btnTilt = root.querySelector('#tilt');

      function pulse(el) {
        el.animate([{ transform: 'translateY(0)' }, { transform: 'translateY(2px)' }, { transform: 'translateY(0)' }], { duration: 160, easing: 'ease-out' });
      }

      btnMode.addEventListener('click', () => {
        idx = (idx + 1) % modes.length;
        applyMode(modes[idx]);
        btnMode.setAttribute('aria-pressed', 'true');
        setTimeout(() => btnMode.setAttribute('aria-pressed', 'false'), 120);
        pulse(btnMode);
      });

      let paused = false;
      btnPause.addEventListener('click', () => {
        paused = !paused;
        root.classList.toggle('paused', paused);
        btnPause.setAttribute('aria-pressed', paused ? 'true' : 'false');
        pulse(btnPause);
      });

      let showGrid = false;
      btnGrid.addEventListener('click', () => {
        showGrid = !showGrid;
        stage.classList.toggle('show-grid', showGrid);
        btnGrid.setAttribute('aria-pressed', showGrid ? 'true' : 'false');
        pulse(btnGrid);
      });

      let tiltOn = true;
      btnTilt.addEventListener('click', () => {
        tiltOn = !tiltOn;
        root.classList.toggle('no-tilt', !tiltOn);
        btnTilt.setAttribute('aria-pressed', tiltOn ? 'true' : 'false');
        if (!tiltOn) stage.style.transform = '';
        pulse(btnTilt);
      });

      // Keyboard shortcuts
      window.addEventListener('keydown', (e) => {
        const k = e.key.toLowerCase();
        if (k === 'm') btnMode.click();
        if (k === 'p') btnPause.click();
        if (k === 'g') btnGrid.click();
        if (k === 't') btnTilt.click();
      });

      // Tilt interaction
      const pointer = { x: 0.5, y: 0.5, active: false };
      function onPointer(e) {
        const r = stage.getBoundingClientRect();
        const x = (e.clientX - r.left) / r.width;
        const y = (e.clientY - r.top) / r.height;
        pointer.x = Math.min(1, Math.max(0, x));
        pointer.y = Math.min(1, Math.max(0, y));
        pointer.active = true;

        if (!tiltOn) return;
        const dx = (x - 0.5), dy = (y - 0.5);
        stage.style.transform = `rotateX(${(-dy*9).toFixed(2)}deg) rotateY(${(dx*9).toFixed(2)}deg)`;
      }
      stage.addEventListener('pointermove', onPointer, { passive: true });
      stage.addEventListener('pointerleave', () => { pointer.active = false; if (tiltOn) stage.style.transform = ''; }, { passive: true });

      // Respect reduced motion
      if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
        root.classList.add('no-tilt', 'paused');
        paused = true;
        tiltOn = false;
        btnTilt.setAttribute('aria-pressed', 'false');
        btnPause.setAttribute('aria-pressed', 'true');
      }

      // Last updated
      const last = root.querySelector('#last-updated');
      last.textContent = new Intl.DateTimeFormat([], { dateStyle: 'medium', timeStyle: 'short' }).format(new Date());
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


