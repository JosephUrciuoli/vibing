<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="cosma" data-theme="vesper" aria-label="Orbitarium · 2094">
  <style>
    .cosma{
      --bg0:#0d1024; --bg1:#121739; --bg2:#1a1850; --ink:#f7f8ff; --muted:rgba(240,242,255,.75);
      --p1:#7aa9ff; --p2:#6fead1; --p3:#ffd77a; --p4:#ff9fab; --p5:#c9a6ff;
      --halo:rgba(255,255,255,.08);
      position:relative; display:grid; grid-template-rows:auto 1fr auto; gap:20px;
      min-height:90vh; padding:clamp(14px,4vw,40px); border-radius:36px; overflow:hidden; isolation:isolate;
      color:var(--ink); font-family: ui-serif, Georgia, "Times New Roman", serif;
      background:
        radial-gradient(1600px 1000px at var(--mx,60%) var(--my,40%), rgba(120,160,255,.12), transparent 60%),
        radial-gradient(900px 600px at 20% 10%, rgba(150,170,255,.10), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      box-shadow: 0 40px 140px rgba(8,10,30,.55), inset 0 1px 0 rgba(255,255,255,.08);
      border:1px solid rgba(255,255,255,.06);
    }
    .cosma::before{
      content:""; position:absolute; inset:-30%; z-index:0; pointer-events:none; filter:blur(70px);
      background:
        conic-gradient(from 10deg at 30% 60%, rgba(110,230,210,.18), transparent 45%),
        conic-gradient(from 200deg at 70% 30%, rgba(180,150,255,.22), transparent 55%),
        radial-gradient(130% 110% at 70% 50%, rgba(255,180,160,.18), transparent 60%);
      mix-blend-mode:screen; animation: aurora 28s ease-in-out infinite alternate;
    }
    .cosma::after{
      content:""; position:absolute; inset:0; z-index:0; pointer-events:none; opacity:.18;
      background:
        radial-gradient(circle at 12% 18%, rgba(255,255,255,.15) 0 1px, transparent 2px),
        radial-gradient(circle at 82% 78%, rgba(255,255,255,.12) 0 1px, transparent 2px),
        radial-gradient(circle at 52% 38%, rgba(255,255,255,.12) 0 1px, transparent 2px);
      background-size:3px 3px, 4px 4px, 3px 3px;
      mix-blend-mode:screen;
    }
    @keyframes aurora{ 0%{transform:translate3d(-1%,-2%,0) rotate(.6deg) scale(1.02);} 100%{transform:translate3d(1%,1.8%,0) rotate(-.7deg) scale(1.05);} }

    .top{ position:relative; z-index:3; display:flex; align-items:center; justify-content:space-between; gap:16px; flex-wrap:wrap; }
    .brand{ display:flex; align-items:center; gap:14px; user-select:none; }
    .seal{
      width:60px; height:60px; border-radius:50%; position:relative; display:grid; place-items:center; overflow:hidden;
      background:radial-gradient(circle at 35% 30%, rgba(255,255,255,.12), rgba(255,255,255,.02));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.10), 0 14px 40px rgba(0,0,0,.35);
    }
    .seal::before, .seal::after{
      content:""; position:absolute; inset:10px; border-radius:50%;
    }
    .seal::before{
      background: conic-gradient(var(--p1), var(--p2), var(--p3), var(--p4), var(--p5), var(--p1));
      mask: radial-gradient(closest-side, #000 72%, transparent 73%),
            radial-gradient(closest-side, transparent 64%, #000 65%) intersect;
      animation: spin 22s linear infinite;
      filter: drop-shadow(0 8px 18px rgba(120,160,255,.28));
    }
    .seal::after{
      inset:23px;
      background: radial-gradient(circle at 40% 35%, rgba(255,255,255,.9), rgba(255,255,255,.15));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.12);
      animation: spin 18s linear infinite reverse;
    }
    @keyframes spin{ to{ transform: rotate(360deg);} }
    .mark{ display:flex; flex-direction:column; line-height:1; }
    .mark b{ font-size:12px; letter-spacing:.25em; text-transform:uppercase; color:var(--muted); }
    .mark span{ font-weight:900; font-size:20px; letter-spacing:.02em; }

    .controls{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
    .btn{
      appearance:none; cursor:pointer; user-select:none; border-radius:14px; padding:8px 12px; font-size:12px;
      color:var(--muted); background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      border:1px solid rgba(255,255,255,.10);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.10), 0 10px 24px rgba(0,0,0,.28);
      transition: transform .08s ease, background .2s ease, color .2s ease, box-shadow .2s ease;
    }
    .btn.icon{ width:40px; height:40px; display:grid; place-items:center; padding:0; border-radius:12px; font-size:16px; }
    .btn:active{ transform:translateY(1px); }
    .btn[aria-pressed="true"]{ color:var(--ink); background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.06)); }

    .stage{
      position:relative; z-index:1; border-radius:26px; overflow:hidden; min-height:min(72vh,860px);
      background: radial-gradient(1000px 900px at 50% 50%, rgba(255,255,255,.02), transparent 60%),
                  linear-gradient(180deg, rgba(10,12,30,.35), rgba(8,10,26,.2));
      border:1px solid rgba(255,255,255,.08);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.06), 0 24px 70px rgba(0,0,0,.45);
    }
    canvas#sky{ position:absolute; inset:0; width:100%; height:100%; display:block; }

    .hero{
      position:absolute; inset:12% 5% auto 5%; z-index:2; max-width:86ch;
      padding:12px 14px; backdrop-filter: blur(4px) saturate(110%);
      color:var(--ink);
    }
    .hero h1{
      margin:0; line-height:.9; font-weight:900; letter-spacing:-.01em;
      font-size: clamp(54px, 9vw, 160px);
      background: linear-gradient(90deg, var(--ink), var(--p4));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow: 0 14px 60px rgba(110,160,255,.18);
    }
    .hero p{ margin:8px 0 14px 0; color:var(--muted); font-size:clamp(14px,2.2vw,20px); }
    .legend{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .dot{ width:18px; height:18px; border-radius:50%; box-shadow: 0 4px 10px rgba(0,0,0,.3); border:1px solid rgba(255,255,255,.18); }
    .dot:nth-child(1){ background:var(--p1); }
    .dot:nth-child(2){ background:var(--p2); }
    .dot:nth-child(3){ background:var(--p3); }
    .dot:nth-child(4){ background:var(--p4); }
    .dot:nth-child(5){ background:var(--p5); }

    .tips{ position:absolute; inset:auto 14px 14px auto; z-index:2; display:flex; gap:8px; flex-wrap:wrap; }
    .chip{
      font-size:12px; color:var(--muted); border:1px dashed rgba(255,255,255,.16); border-radius:999px; padding:6px 10px;
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02)); backdrop-filter: blur(2px);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.08);
      user-select:none;
    }

    .meta{ position:relative; z-index:3; color:var(--muted); font-size:12px; display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap; }
    .stamp{ display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:14px;
      border:1px solid rgba(255,255,255,.10);
      background: linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));
      box-shadow: inset 0 1px 0 rgba(255,255,255,.08);
    }

    /* Dawn theme */
    .cosma[data-theme="dawn"]{
      --bg1:#f7fbff; --bg2:#eff3ff; --ink:#111323; --muted:rgba(12,16,34,.65);
      --halo:rgba(0,0,0,.06);
      box-shadow: 0 40px 140px rgba(12,14,40,.18), inset 0 1px 0 rgba(255,255,255,.9);
      border-color: rgba(12,16,34,.08);
    }
    .cosma[data-theme="dawn"] .stage{
      background: linear-gradient(180deg, rgba(255,255,255,.88), rgba(255,255,255,.72));
      border-color: rgba(12,16,34,.10);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.95), 0 24px 70px rgba(0,0,0,.12);
    }
    .cosma[data-theme="dawn"] .btn,
    .cosma[data-theme="dawn"] .chip,
    .cosma[data-theme="dawn"] .stamp{
      background: linear-gradient(180deg, rgba(255,255,255,.98), rgba(255,255,255,.84));
      color:var(--muted);
      border-color: rgba(12,16,34,.12);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.95), 0 14px 30px rgba(0,0,0,.08);
    }
    .cosma[data-theme="dawn"] .hero h1{
      background: linear-gradient(90deg, var(--ink), var(--p4));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow: none;
    }

    /* Clean UI toggle */
    .cosma.ui-clean .hero,
    .cosma.ui-clean .tips{ opacity:0; pointer-events:none; transform:translateY(6px); transition:opacity .25s ease, transform .25s ease; }
    .cosma .hero, .cosma .tips{ transition:opacity .25s ease, transform .25s ease; }

    .no-motion *, .no-motion::before, .no-motion::after{ animation:none !important; transition:none !important; }
    @media (max-width:640px){
      .hero{ inset:8% 4% auto 4%; }
    }
    @media (prefers-reduced-motion: reduce){
      .cosma *{ animation:none !important; transition:none !important; }
      .cosma::before{ animation:none !important; }
    }
  </style>

  <div class="top" role="banner">
    <div class="brand" aria-label="Orbitarium brand">
      <div class="seal" aria-hidden="true"></div>
      <div class="mark">
        <b>Orbitarium</b>
        <span>Edition 2094</span>
      </div>
    </div>
    <div class="controls" role="group" aria-label="Controls">
      <button class="btn icon" id="theme" title="Toggle dawn/vesper" aria-pressed="true">☾</button>
      <button class="btn" id="ring" title="Add ring">Add ring</button>
      <button class="btn" id="flux" title="Flux">Flux</button>
      <button class="btn" id="clean" title="Hide text (C)" aria-pressed="false">Clean</button>
    </div>
  </div>

  <section class="stage" aria-label="Orbital field">
    <canvas id="sky"></canvas>
    <div class="hero" aria-live="polite">
      <h1>Symphony of orbits.</h1>
      <p>Guide the gravity well with your pointer. Add rings; let flux breathe motion. The sky will write in light.</p>
      <div class="legend" aria-label="Current palette">
        <div class="dot" aria-hidden="true"></div>
        <div class="dot" aria-hidden="true"></div>
        <div class="dot" aria-hidden="true"></div>
        <div class="dot" aria-hidden="true"></div>
        <div class="dot" aria-hidden="true"></div>
      </div>
    </div>
    <div class="tips" aria-hidden="true">
      <div class="chip">D toggle dawn/vesper · R add ring · F flux · C clean · Space pause</div>
      <div class="chip">Drag to shift the gravity center</div>
    </div>
  </section>

  <div class="meta">
    <div class="stamp">
      <span>Updated</span>
      <span id="last-updated">Last updated: 2026-01-21 03:29:53 EST</span>
    </div>
    <div>“Circles know the way home.”</div>
  </div>

  <script>
    (function(){
      const root = document.currentScript.closest('.cosma');

      // Timestamp
      try{
        const fmt = new Intl.DateTimeFormat(navigator.language || 'en-US', { dateStyle:'medium', timeStyle:'short' });
        root.querySelector('#last-updated').textContent = fmt.format(new Date());
      }catch(e){
        root.querySelector('#last-updated').textContent = new Date().toLocaleString();
      }

      // Theme
      const tBtn = root.querySelector('#theme');
      function setTheme(next){
        root.setAttribute('data-theme', next);
        tBtn.setAttribute('aria-pressed', next==='vesper' ? 'true' : 'false');
        tBtn.textContent = next==='vesper' ? '☾' : '☼';
      }
      // Start in vesper if user prefers dark
      try{
        const mq = window.matchMedia('(prefers-color-scheme: dark)');
        setTheme(mq.matches ? 'vesper' : 'dawn');
        mq.addEventListener?.('change', e => setTheme(e.matches ? 'vesper' : 'dawn'));
      }catch(e){ setTheme('vesper'); }
      tBtn.addEventListener('click', () => {
        setTheme(root.getAttribute('data-theme') === 'vesper' ? 'dawn' : 'vesper');
      });

      // Clean UI
      const cBtn = root.querySelector('#clean');
      cBtn.addEventListener('click', () => {
        const on = cBtn.getAttribute('aria-pressed') !== 'true';
        cBtn.setAttribute('aria-pressed', on ? 'true' : 'false');
        root.classList.toggle('ui-clean', on);
      });

      const stage = root.querySelector('.stage');
      const canvas = root.querySelector('#sky');
      const ctx = canvas.getContext('2d', { alpha:true });
      let dpr = 1, paused = false, reduce = false;

      function fit(){
        dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        const r = stage.getBoundingClientRect();
        canvas.width = Math.max(1, Math.floor(r.width * dpr));
        canvas.height = Math.max(1, Math.floor(r.height * dpr));
        canvas.style.width = r.width + 'px';
        canvas.style.height = r.height + 'px';
        ctx.setTransform(dpr,0,0,dpr,0,0);
      }
      addEventListener('resize', fit, { passive:true });
      fit();

      try{
        const rm = window.matchMedia('(prefers-reduced-motion: reduce)');
        reduce = rm.matches;
        rm.addEventListener?.('change', e => { reduce = e.matches; root.classList.toggle('no-motion', reduce); });
        root.classList.toggle('no-motion', reduce);
      }catch(e){}

      function cssVar(n){ return getComputedStyle(root).getPropertyValue(n).trim(); }
      function pal(){ return [cssVar('--p1'),cssVar('--p2'),cssVar('--p3'),cssVar('--p4'),cssVar('--p5')]; }
      function addA(hex, a){
        const c = hex.replace('#','');
        const r = parseInt(c.slice(0,2),16), g = parseInt(c.slice(2,4),16), b = parseInt(c.slice(4,6),16);
        return `rgba(${r},${g},${b},${a})`;
      }
      function lerp(a,b,t){ return a + (b-a)*t; }

      // Orbital system
      const state = {
        rings: [],
        flux: 0.6,
        center: { x: 0.5, y: 0.5, tx: 0.5, ty: 0.5 },
        t: 0
      };

      // Initial rings
      const W = () => canvas.width/dpr, H = () => canvas.height/dpr;
      function addRing(opts = {}){
        const colors = pal();
        const baseR = Math.min(W(),H())*0.18 + Math.random()*Math.min(W(),H())*0.22;
        const ring = {
          r: opts.r || baseR,
          e: opts.e ?? (Math.random()*0.25 + 0.05), // eccentricity
          rot: Math.random()*Math.PI*2,
          speed: (Math.random()*0.5 + 0.2) * (Math.random()<.5?-1:1),
          hueA: colors[Math.floor(Math.random()*colors.length)],
          hueB: colors[Math.floor(Math.random()*colors.length)],
          points: Math.floor(120 + Math.random()*140),
          jitter: Math.random()*0.8 + 0.4
        };
        state.rings.push(ring);
        pulse();
      }
      for(let i=0;i<3;i++) addRing();

      // Pointer control
      const pointer = { down:false };
      function onPointerMove(e){
        const r = stage.getBoundingClientRect();
        const x = (e.clientX - r.left)/Math.max(1, r.width);
        const y = (e.clientY - r.top)/Math.max(1, r.height);
        state.center.tx = Math.max(0,Math.min(1,x));
        state.center.ty = Math.max(0,Math.min(1,y));
        root.style.setProperty('--mx', (x*100).toFixed(1)+'%');
        root.style.setProperty('--my', (y*100).toFixed(1)+'%');
      }
      stage.addEventListener('pointermove', onPointerMove);
      stage.addEventListener('pointerdown', (e)=>{ pointer.down = true; onPointerMove(e); pulse(); });
      addEventListener('pointerup', ()=> pointer.down=false);

      // Buttons
      root.querySelector('#ring').addEventListener('click', ()=> addRing());
      const fBtn = root.querySelector('#flux');
      fBtn.addEventListener('click', ()=>{
        state.flux = state.flux>0.9 ? 0.35 : state.flux + 0.25;
        fBtn.animate([{transform:'scale(1)'},{transform:'scale(1.06)'},{transform:'scale(1)'}], {duration:280, easing:'ease-out'});
      });

      // Draw
      function draw(){
        const w = W(), h = H();
        // fade for trails
        ctx.globalCompositeOperation = 'source-over';
        if(!reduce){
          ctx.fillStyle = root.getAttribute('data-theme')==='vesper' ? 'rgba(10,12,28,0.14)' : 'rgba(255,255,255,0.08)';
          ctx.fillRect(0,0,w,h);
        }else{
          ctx.clearRect(0,0,w,h);
        }

        // center easing
        state.center.x = lerp(state.center.x, state.center.tx, 0.06);
        state.center.y = lerp(state.center.y, state.center.ty, 0.06);
        const cx = w * state.center.x;
        const cy = h * (state.center.y + (pointer.down?0.0:0.0));

        ctx.save();
        ctx.translate(cx, cy);
        ctx.globalCompositeOperation = 'lighter';

        const flux = state.flux;
        const t = state.t;

        for(const ring of state.rings){
          ring.rot += (ring.speed)*(reduce?0:0.005);
          const a0 = ring.rot + Math.sin(t*0.2 + ring.r*0.001)*0.4*flux;
          const pts = ring.points;
          const col1 = addA(ring.hueA, root.getAttribute('data-theme')==='vesper' ? 0.75 : 0.50);
          const col2 = addA(ring.hueB, root.getAttribute('data-theme')==='vesper' ? 0.55 : 0.38);
          ctx.shadowBlur = root.getAttribute('data-theme')==='vesper' ? 22 : 12;

          for(let i=0;i<pts;i++){
            const f = i/pts;
            const ang = a0 + f*Math.PI*2;
            const sway = 1 + ring.e*Math.sin(ang*2 + Math.sin(t*0.6 + f*8)*flux*ring.jitter);
            const r1 = ring.r * sway;
            const x = Math.cos(ang)*r1;
            const y = Math.sin(ang)*(r1*(1-ring.e*0.6));

            // dual color micro-feathers
            ctx.beginPath();
            ctx.fillStyle = col1;
            ctx.shadowColor = ring.hueA;
            ctx.arc(x, y, 1.2 + Math.sin(f*50 + t*2)*0.6, 0, Math.PI*2);
            ctx.fill();

            ctx.beginPath();
            ctx.fillStyle = col2;
            ctx.shadowColor = ring.hueB;
            ctx.arc(x*0.996, y*0.996, 0.9 + Math.cos(f*60 + t*1.7)*0.5, 0, Math.PI*2);
            ctx.fill();
          }

          // faint orbit line
          const g = ctx.createRadialGradient(0,0, ring.r*0.85, 0,0, ring.r*1.15);
          g.addColorStop(0, addA(ring.hueA, 0));
          g.addColorStop(0.5, addA(ring.hueB, root.getAttribute('data-theme')==='vesper'?0.06:0.04));
          g.addColorStop(1, addA(ring.hueA, 0));
          ctx.strokeStyle = g;
          ctx.lineWidth = 1;
          ctx.beginPath();
          ctx.ellipse(0,0, ring.r, ring.r*(1-ring.e*0.6), a0, 0, Math.PI*2);
          ctx.stroke();
        }

        // central glow
        const core = ctx.createRadialGradient(0,0,0, 0,0, Math.min(w,h)*0.22);
        const colors = pal();
        core.addColorStop(0, addA(colors[0], root.getAttribute('data-theme')==='vesper'?0.55:0.30));
        core.addColorStop(1, addA(colors[3], 0));
        ctx.fillStyle = core;
        ctx.beginPath();
        ctx.arc(0,0, Math.min(w,h)*0.24, 0, Math.PI*2);
        ctx.fill();

        ctx.restore();

        if(!paused && !reduce) state.t += 1/60;
        requestAnimationFrame(draw);
      }
      draw();

      // Keyboard
      root.tabIndex = 0;
      root.addEventListener('keydown', (e) => {
        const k = e.key.toLowerCase();
        if(k==='d'){ tBtn.click(); }
        if(k==='r'){ root.querySelector('#ring').click(); }
        if(k==='f'){ fBtn.click(); }
        if(k==='c'){ cBtn.click(); }
        if(k===' '){ e.preventDefault(); paused = !paused; }
      });

      // Subtle pulse animation on interaction
      function pulse(){
        stage.animate([{transform:'scale(1)'},{transform:'scale(1.012)'},{transform:'scale(1)'}], {duration:420, easing:'ease-out'});
      }
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


