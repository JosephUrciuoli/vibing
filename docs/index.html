<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="vibe452" data-theme="dusk" aria-label="Kinetic Garden">
  <style>
    .vibe452 {
      --h: 268;
      --fg: hsl(0 0% 98%);
      --muted: hsl(0 0% 78%);
      --bg-a: hsl(250 50% 7%);
      --bg-b: hsl(270 60% 12%);
      --glass: hsla(0 0% 100% / 0.06);
      --border: hsla(0 0% 100% / 0.16);
      --ring: hsla(0 0% 100% / 0.08);
      --accentA: hsl(var(--h) 85% 62%);
      --accentB: hsl(calc(var(--h) + 100) 85% 62%);
      --mx: 50%;
      --my: 50%;
      --tilt-x: 0deg;
      --tilt-y: 0deg;
      position: relative;
      padding: clamp(24px, 5vw, 72px);
      border-radius: 32px;
      min-height: min(88vh, 980px);
      color: var(--fg);
      overflow: hidden;
      isolation: isolate;
      background:
        radial-gradient(1400px 900px at var(--mx) var(--my),
          color-mix(in hsl, var(--accentA) 14%, transparent),
          transparent 70%),
        conic-gradient(from 200deg at 15% 10%,
          color-mix(in hsl, var(--accentB) 12%, transparent),
          transparent 50%),
        linear-gradient(120deg, var(--bg-a), var(--bg-b));
      box-shadow: 0 30px 90px rgba(0,0,0,0.38), inset 0 0 0 1px var(--border);
    }
    .vibe452[data-theme="dawn"] {
      --fg: hsl(230 20% 10%);
      --muted: hsl(230 10% 38%);
      --bg-a: hsl(40 80% 96%);
      --bg-b: hsl(200 80% 92%);
      --glass: hsla(0 0% 100% / 0.6);
      --border: hsla(230 20% 20% / 0.10);
      --ring: hsla(230 15% 20% / 0.10);
      background:
        radial-gradient(1400px 900px at var(--mx) var(--my),
          color-mix(in hsl, var(--accentB) 12%, transparent),
          transparent 70%),
        conic-gradient(from 140deg at 85% 20%,
          color-mix(in hsl, var(--accentA) 10%, transparent),
          transparent 50%),
        linear-gradient(120deg, var(--bg-a), var(--bg-b));
      box-shadow: 0 24px 70px rgba(0,0,0,0.18), inset 0 0 0 1px var(--border);
    }

    /* Ambient cloudlets */
    .vibe452 .cloud {
      position: absolute; pointer-events: none; mix-blend-mode: screen; opacity: 0.35;
      filter: blur(40px) saturate(1.2);
      width: 70vmax; aspect-ratio: 1; border-radius: 50%;
      background: radial-gradient(closest-side, color-mix(in hsl, var(--accentA) 20%, transparent), transparent 70%);
      animation: float452 110s linear infinite;
      z-index: 0;
    }
    .vibe452 .cloud.b { left: -30%; top: 40%; animation-duration: 160s; background: radial-gradient(closest-side, color-mix(in hsl, var(--accentB) 18%, transparent), transparent 70%); }
    .vibe452 .cloud.c { right: -25%; bottom: -30%; animation-duration: 200s; }
    @keyframes float452 { to { transform: rotate(360deg); } }

    .vibe452 .grid {
      position: relative; z-index: 2;
      display: grid; gap: clamp(20px, 4vw, 42px);
      grid-template-columns: 0.9fr 1.1fr; align-items: center;
    }
    @media (max-width: 980px) { .vibe452 .grid { grid-template-columns: 1fr; } }

    .vibe452 .stack { display: grid; gap: 12px; }
    .vibe452 .badge {
      display: inline-grid; grid-auto-flow: column; place-items: center; gap: 10px;
      padding: 10px 14px; border-radius: 999px; width: max-content;
      background: linear-gradient(180deg, var(--glass), transparent);
      border: 1px solid var(--border);
      font: 800 11px/1 ui-sans-serif, system-ui, Inter, "Helvetica Neue";
      letter-spacing: .14em; text-transform: uppercase;
    }
    .vibe452 .title {
      font: 900 clamp(42px, 8.8vw, 110px)/0.9 ui-sans-serif, system-ui, Inter, "Helvetica Neue";
      letter-spacing: -0.02em; margin: 4px 0 10px;
      background: linear-gradient(90deg, var(--accentA), var(--accentB));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 12px 26px rgba(0,0,0,0.18));
    }
    .vibe452 .sub {
      font: 500 clamp(14px, 2vw, 20px)/1.8 ui-sans-serif, system-ui, Inter;
      color: var(--muted); max-width: 60ch;
    }

    /* Controls panel */
    .vibe452 .panel {
      display: grid; gap: 12px; width: fit-content;
      background: linear-gradient(180deg, var(--glass), transparent);
      border: 1px solid var(--border); border-radius: 16px;
      padding: 12px; box-shadow: 0 14px 40px rgba(0,0,0,0.18), 0 1px 0 hsla(0 0% 100% / 0.6) inset;
      backdrop-filter: blur(10px);
    }
    .vibe452 .swatches { display: grid; grid-auto-flow: column; gap: 8px; width: max-content; }
    .vibe452 .dot {
      inline-size: 30px; block-size: 30px; border-radius: 50%; border: 1px solid var(--border);
      background: var(--bg); cursor: pointer; position: relative; box-shadow: 0 1px 0 hsla(0 0% 100% / 0.6) inset;
      transition: transform .16s ease;
    }
    .vibe452 .dot:active { transform: scale(0.96); }
    .vibe452 .dot[aria-pressed="true"]::after {
      content: ""; position: absolute; inset: 3px; border-radius: inherit; border: 2px solid white; mix-blend-mode: overlay;
    }

    .vibe452 .controls {
      display: grid; grid-template-columns: 1fr auto auto; align-items: center; gap: 10px;
    }
    @media (max-width: 720px) { .vibe452 .controls { grid-template-columns: 1fr; } }
    .vibe452 .ctl {
      display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 10px;
      border: 1px solid var(--border); border-radius: 12px; padding: 10px;
      background: linear-gradient(180deg, var(--glass), transparent);
      font: 800 11px/1 ui-sans-serif, system-ui, Inter; text-transform: uppercase; letter-spacing: .1em;
      color: var(--fg);
    }
    .vibe452 input[type="range"] {
      -webkit-appearance: none; appearance: none; width: 100%; height: 10px; border-radius: 999px;
      background: linear-gradient(90deg, var(--accentA), var(--accentB));
      outline: none; border: none; box-shadow: inset 0 0 0 1px rgba(0,0,0,0.06);
    }
    .vibe452 input[type="range"]::-webkit-slider-thumb,
    .vibe452 input[type="range"]::-moz-range-thumb {
      -webkit-appearance: none; width: 18px; height: 18px; border-radius: 50%;
      background: white; border: 2px solid var(--accentA); box-shadow: 0 2px 8px rgba(0,0,0,0.18); cursor: ew-resize;
    }
    .vibe452 .btn {
      appearance: none; cursor: pointer; padding: 10px 14px; border-radius: 999px;
      border: 1px solid var(--border);
      background: linear-gradient(180deg, var(--glass), transparent);
      font: 800 12px/1 ui-sans-serif, system-ui, Inter; letter-spacing: .08em;
      box-shadow: 0 1px 0 hsla(0 0% 100% / 0.6) inset; color: var(--fg);
      transition: transform 160ms ease;
    }
    .vibe452 .btn:hover { transform: translateY(-1px); }
    .vibe452 .btn[aria-pressed="true"] { box-shadow: 0 0 0 2px var(--accentA) inset; }

    /* Dial stage */
    .vibe452 .stage { perspective: 1200px; position: relative; }
    .vibe452 .dial {
      position: relative; margin: 0 auto;
      width: min(80vmin, 860px); aspect-ratio: 1/1;
      border-radius: 36px;
      transform-style: preserve-3d;
      transform: rotateX(var(--tilt-y)) rotateY(var(--tilt-x));
      transition: transform 160ms ease;
      background: linear-gradient(180deg, var(--glass), transparent);
      border: 1px solid var(--border);
      box-shadow:
        0 36px 90px rgba(0,0,0,0.28),
        0 1px 0 hsla(0 0% 100% / 0.6) inset,
        0 0 0 18px hsla(0 0% 100% / 0.10) inset;
      overflow: hidden; backdrop-filter: blur(8px);
    }
    .vibe452 .dial .rings,
    .vibe452 .dial .rings::after {
      content: "";
      position: absolute; inset: 0; pointer-events: none;
      background:
        radial-gradient(closest-side, transparent 64%, var(--ring) 64.2% 65.2%, transparent 65.3%),
        radial-gradient(closest-side, transparent 45%, var(--ring) 45.2% 46%, transparent 46.2%),
        repeating-conic-gradient(from 0deg,
          transparent 0 44deg, var(--ring) 44deg 46deg);
      opacity: 0.7;
    }
    .vibe452 .dial .rings::after {
      background:
        radial-gradient(closest-side at 50% 50%, color-mix(in hsl, var(--accentA) 12%, transparent), transparent 60%);
      filter: blur(50px); opacity: 0.4; mix-blend-mode: screen;
      animation: slow-spin 40s linear infinite;
    }
    @keyframes slow-spin { to { transform: rotate(360deg); } }

    .vibe452 canvas#orbits {
      position: absolute; inset: 0; width: 100%; height: 100%;
      filter: saturate(1.1) contrast(1.05);
    }

    .vibe452 .meta {
      margin-top: clamp(16px, 3vw, 28px);
      display: flex; justify-content: space-between; align-items: center; gap: 12px; flex-wrap: wrap;
      color: var(--muted); font: 500 12px/1.4 ui-sans-serif, system-ui, Inter;
      position: relative; z-index: 2;
    }

    @media (prefers-reduced-motion: reduce) {
      .vibe452 .cloud, .vibe452 .dial .rings::after { animation: none !important; }
      .vibe452 .btn, .vibe452 .dial { transition: none !important; }
    }
  </style>

  <span class="cloud a" aria-hidden="true"></span>
  <span class="cloud b" aria-hidden="true"></span>
  <span class="cloud c" aria-hidden="true"></span>

  <div class="grid">
    <div class="stack">
      <span class="badge" aria-label="Edition badge">Edition 452 · Kinetic</span>
      <h1 class="title">Kinetic Garden</h1>
      <p class="sub">A living poster: orbits, petals, and light that writes with time. Touch the dial, seed a bloom, tune the drift.</p>

      <div class="panel" role="region" aria-label="Palette and controls">
        <div class="swatches" role="group" aria-label="Palettes">
          <button class="dot" data-h="268" aria-pressed="true" style="--bg: conic-gradient(from 0deg, hsl(268 85% 62%), hsl(8 85% 62%), hsl(268 85% 62%))" title="Violet Ember"></button>
          <button class="dot" data-h="18" aria-pressed="false" style="--bg: conic-gradient(from 0deg, hsl(18 90% 60%), hsl(78 90% 60%), hsl(18 90% 60%))" title="Peach Spring"></button>
          <button class="dot" data-h="135" aria-pressed="false" style="--bg: conic-gradient(from 0deg, hsl(135 90% 52%), hsl(195 90% 60%), hsl(135 90% 52%))" title="Verdant"></button>
          <button class="dot" data-h="210" aria-pressed="false" style="--bg: conic-gradient(from 0deg, hsl(210 90% 60%), hsl(300 90% 60%), hsl(210 90% 60%))" title="Aero"></button>
          <button class="dot" data-h="32" aria-pressed="false" style="--bg: conic-gradient(from 0deg, hsl(32 95% 58%), hsl(352 90% 60%), hsl(32 95% 58%))" title="Solaris"></button>
        </div>

        <div class="controls">
          <div class="ctl">
            <span>Speed</span>
            <input id="speed" type="range" min="10" max="200" value="100" />
            <span id="speed-read">1.00×</span>
          </div>
          <button class="btn" id="theme" aria-pressed="false" title="Toggle dawn/dusk">Theme</button>
          <button class="btn" id="bloom" title="Bloom the garden">Bloom</button>
        </div>
      </div>
    </div>

    <div class="stage">
      <figure class="dial" aria-label="Kinetic dial">
        <div class="rings" aria-hidden="true"></div>
        <canvas id="orbits" aria-hidden="true"></canvas>
      </figure>
    </div>
  </div>

  <div class="meta">
    <span>“Design is time made visible.”</span>
    <span id="last-updated" aria-live="polite"></span>
  </div>

  <script>
    (function () {
      const root = document.currentScript.closest('.vibe452');
      const canvas = root.querySelector('#orbits');
      const ctx = canvas.getContext('2d');
      const dial = root.querySelector('.dial');

      const dots = [...root.querySelectorAll('.dot')];
      const themeBtn = root.querySelector('#theme');
      const bloomBtn = root.querySelector('#bloom');
      const speedInput = root.querySelector('#speed');
      const speedRead = root.querySelector('#speed-read');
      const updatedEl = root.querySelector('#last-updated');

      let running = true;
      let pointer = { x: 0.5, y: 0.5 };

      const state = {
        hue: 268,
        speed: 1.0,
        particles: [],
        ripples: []
      };

      function hsl(h, s, l, a = 1) { return `hsla(${h} ${s}% ${l}% / ${a})`; }

      function setHue(h) {
        const hue = Math.round(+h || 268);
        state.hue = hue;
        root.style.setProperty('--h', hue);
      }

      function setSpeed(v) {
        const n = Math.max(10, Math.min(200, Number(v)));
        state.speed = n / 100;
        speedRead.textContent = state.speed.toFixed(2) + '×';
      }

      function updateTimestamp() {
        const now = new Date();
        const fmt = new Intl.DateTimeFormat([], {
          year: 'numeric', month: 'short', day: '2-digit',
          hour: '2-digit', minute: '2-digit', second: '2-digit'
        });
        updatedEl.textContent = 'Updated ' + fmt.format(now);
      }

      // Theme toggle
      themeBtn.addEventListener('click', () => {
        const dawn = root.getAttribute('data-theme') === 'dawn';
        root.setAttribute('data-theme', dawn ? 'dusk' : 'dawn');
        themeBtn.setAttribute('aria-pressed', String(!dawn));
      });

      // Swatches
      dots.forEach(d => {
        d.addEventListener('click', () => {
          dots.forEach(x => x.setAttribute('aria-pressed', 'false'));
          d.setAttribute('aria-pressed', 'true');
          setHue(d.dataset.h);
        });
      });

      // Speed
      speedInput.addEventListener('input', e => setSpeed(e.target.value), { passive: true });

      // Tilt + hotspot
      function onMove(e) {
        const rect = root.getBoundingClientRect();
        pointer.x = (e.clientX - rect.left) / rect.width;
        pointer.y = (e.clientY - rect.top) / rect.height;
        root.style.setProperty('--mx', Math.round(pointer.x * 100) + '%');
        root.style.setProperty('--my', Math.round(pointer.y * 100) + '%');
        const dx = (pointer.x - 0.5) * 2;
        const dy = (pointer.y - 0.5) * -2;
        root.style.setProperty('--tilt-x', (dx * 7) + 'deg');
        root.style.setProperty('--tilt-y', (dy * 7) + 'deg');
      }
      root.addEventListener('pointermove', onMove, { passive: true });

      // Bloom interactions
      function bloomAt(clientX, clientY) {
        const rect = canvas.getBoundingClientRect();
        const x = (clientX - rect.left);
        const y = (clientY - rect.top);
        state.ripples.push({ x, y, t: 0 });
      }
      bloomBtn.addEventListener('click', () => {
        const rect = canvas.getBoundingClientRect();
        bloomAt(rect.left + rect.width / 2, rect.top + rect.height / 2);
      });
      dial.addEventListener('pointerdown', e => bloomAt(e.clientX, e.clientY));

      // Build particles
      function build() {
        state.particles.length = 0;
        const w = canvas.clientWidth || 800;
        const h = canvas.clientHeight || 800;
        const cx = w / 2, cy = h / 2;
        const n = 220;
        for (let i = 0; i < n; i++) {
          const t = i / n;
          const r = (Math.min(w, h) * (0.10 + 0.42 * Math.random())) * (0.8 + Math.sin(t * Math.PI) * 0.4);
          const a = Math.random() * Math.PI * 2;
          const q = 0.8 + Math.random() * 0.6;       // ellipse eccentricity factor
          const s = (0.002 + Math.random() * 0.005) * (Math.random() < 0.5 ? -1 : 1);
          const size = 1 + Math.pow(Math.random(), 2) * 3.2;
          const hueOff = (Math.random() * 120 - 60);
          state.particles.push({ r, a, q, s, size, hueOff, x: cx + r * Math.cos(a), y: cy + r * Math.sin(a * q) });
        }
      }

      // Canvas sizing
      function resize() {
        const dpr = Math.min(window.devicePixelRatio || 1, 2);
        const rect = canvas.getBoundingClientRect();
        canvas.width = Math.floor(rect.width * dpr);
        canvas.height = Math.floor(rect.height * dpr);
        canvas.style.width = rect.width + 'px';
        canvas.style.height = rect.height + 'px';
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
        build();
      }
      const ro = new ResizeObserver(resize);
      ro.observe(canvas);

      // Animation
      let raf;
      function draw() {
        const w = canvas.clientWidth;
        const h = canvas.clientHeight;
        if (!w || !h) return;

        // fade trails
        ctx.globalCompositeOperation = 'source-over';
        const dark = root.getAttribute('data-theme') === 'dusk';
        ctx.fillStyle = dark ? 'rgba(0,0,0,0.08)' : 'rgba(255,255,255,0.06)';
        ctx.fillRect(0, 0, w, h);

        const cx = w / 2, cy = h / 2;
        const hue = state.hue;

        // ripples
        for (let i = state.ripples.length - 1; i >= 0; i--) {
          const r = state.ripples[i];
          r.t += 0.02 * state.speed + 0.01;
          const R = Math.min(w, h) * (0.04 + r.t * 0.6);
          const alpha = Math.max(0, 0.35 - r.t * 0.25);
          const grd = ctx.createRadialGradient(r.x, r.y, 0, r.x, r.y, R);
          grd.addColorStop(0, hsl((hue + 20) % 360, 90, 60, alpha));
          grd.addColorStop(0.6, hsl((hue + 140) % 360, 90, 60, alpha * 0.5));
          grd.addColorStop(1, 'transparent');
          ctx.fillStyle = grd;
          ctx.beginPath();
          ctx.arc(r.x, r.y, R, 0, Math.PI * 2);
          ctx.fill();
          if (alpha <= 0.01) state.ripples.splice(i, 1);
        }

        // particles
        ctx.globalCompositeOperation = 'lighter';
        const t = performance.now() * 0.001;
        for (let i = 0; i < state.particles.length; i++) {
          const p = state.particles[i];
          const speed = p.s * state.speed;
          p.a += speed;

          // Lissajous-like twist by mixing q with time
          const q = p.q + Math.sin(t * 0.3 + p.r * 0.01) * 0.05;
          const x = cx + p.r * Math.cos(p.a);
          const y = cy + p.r * Math.sin(p.a * q);

          const f = i / state.particles.length;
          const sat = 78 + Math.sin(t * 0.8 + f * 7) * 10;
          const light = 50 + Math.cos(t * 0.6 + f * 5) * 10;
          const a = 0.08 + (1 - Math.abs(0.5 - f)) * 0.12;
          const clr = (hue + p.hueOff + f * 140) % 360;

          // soft trail line
          ctx.strokeStyle = hsl(clr, sat, light, a * 0.8);
          ctx.shadowColor = hsl((clr + 30) % 360, sat, 60, a);
          ctx.shadowBlur = 8 + p.size * 6;
          ctx.lineWidth = Math.max(0.5, p.size * 0.8);
          ctx.beginPath();
          ctx.moveTo(p.x, p.y);
          ctx.lineTo(x, y);
          ctx.stroke();

          // bloom nubs
          if ((i % 23) === 0) {
            ctx.fillStyle = hsl((clr + 10) % 360, sat, 60, a * 1.4);
            ctx.shadowBlur = 14 + p.size * 10;
            ctx.beginPath();
            ctx.arc(x, y, Math.max(0.8, p.size * 0.9), 0, Math.PI * 2);
            ctx.fill();
          }

          p.x = x; p.y = y;
        }

        if (running) raf = requestAnimationFrame(draw);
      }

      function loop() {
        cancelAnimationFrame(raf);
        if (running) raf = requestAnimationFrame(draw);
      }

      // Init
      setHue(268);
      setSpeed(speedInput.value);
      updateTimestamp();
      const tick = setInterval(updateTimestamp, 1000);

      resize();
      loop();

      // Cleanup when removed
      root.addEventListener('DOMNodeRemoved', () => {
        cancelAnimationFrame(raf);
        ro.disconnect();
        clearInterval(tick);
      }, { once: true });
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


