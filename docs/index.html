<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div id="atelier509" aria-label="Studio Prism">
  <style>
    /* Scope */
    #atelier509 {
      --ink: 210 92% 44%;
      --ink-2: 185 85% 38%;
      --bg-top: 0 0% 100%;
      --bg-bottom: 210 100% 97%;
      --paper: 0 0% 100%;
      --text: 222 24% 16%;
      --muted: 222 10% 38%;
      --ring: 210 92% 44% / 22%;
      position: relative;
      isolation: isolate;
      color: hsl(var(--text));
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      border-radius: 28px;
      overflow: hidden;
      padding: clamp(22px, 4vw, 44px);
      background:
        radial-gradient(140% 120% at 0% 0%, hsl(var(--bg-top)) 0%, hsl(var(--bg-bottom)) 60%, hsl(var(--bg-top)) 100%);
      border: 1px solid hsl(0 0% 8% / 6%);
      box-shadow:
        0 0 0 1px hsl(0 0% 100% / 60%) inset,
        0 30px 60px -20px hsl(210 40% 30% / 15%);
    }

    /* Subtle linen + vignette */
    #atelier509::before,
    #atelier509::after {
      content: "";
      position: absolute;
      inset: 0;
      pointer-events: none;
    }
    #atelier509::before {
      background:
        radial-gradient(70% 60% at 60% 10%, hsl(var(--ink) / .10), transparent 60%),
        radial-gradient(120% 120% at -20% -20%, hsl(var(--ink-2) / .10), transparent 70%);
      filter: saturate(115%) blur(0.3px);
      opacity: .9;
      mix-blend-mode: multiply;
    }
    #atelier509::after {
      background:
        radial-gradient(130% 100% at 50% 120%, hsl(0 0% 0% / .08), transparent 70%),
        linear-gradient(transparent, hsl(0 0% 0% / .02));
      opacity: .7;
    }

    /* Floating confetti lines */
    #atelier509 .confetti {
      position: absolute;
      inset: 0;
      mask-image: radial-gradient(70% 70% at 50% 40%, #000, transparent 70%);
      pointer-events: none;
      opacity: .45;
    }
    #atelier509 .confetti i {
      position: absolute;
      width: 2px;
      height: 44px;
      border-radius: 2px;
      background: linear-gradient(180deg, hsl(var(--ink)), hsl(var(--ink-2)));
      filter: blur(.3px);
      transform-origin: center;
      animation: floatLine var(--d, 12s) ease-in-out infinite;
      opacity: .25;
    }
    #atelier509 .confetti i:nth-child(1){ left:6%;  top:14%; transform: rotate(18deg); --d: 14s;}
    #atelier509 .confetti i:nth-child(2){ left:86%; top:6%;  transform: rotate(-12deg);--d: 16s;}
    #atelier509 .confetti i:nth-child(3){ left:74%; top:42%; transform: rotate(9deg); --d: 18s;}
    #atelier509 .confetti i:nth-child(4){ left:12%; top:68%; transform: rotate(-16deg);--d: 15s;}
    #atelier509 .confetti i:nth-child(5){ left:52%; top:78%; transform: rotate(6deg); --d: 19s;}
    @keyframes floatLine {
      0%,100% { transform: translateY(0) rotate(var(--r, 0)); }
      50%     { transform: translateY(-12px) rotate(calc(var(--r, 0) + 2deg)); }
    }

    /* Layout */
    #atelier509 .grid {
      display: grid;
      grid-template-columns: 1.1fr .9fr;
      gap: clamp(16px, 3vw, 28px);
      align-items: center;
    }
    @media (max-width: 880px) {
      #atelier509 .grid { grid-template-columns: 1fr; }
    }

    /* Hero */
    #atelier509 .eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 6px 10px;
      border-radius: 999px;
      background: hsl(var(--ink) / .10);
      color: hsl(var(--ink));
      border: 1px solid hsl(var(--ink) / .25);
      font-weight: 700;
      letter-spacing: .3px;
      text-transform: uppercase;
      font-size: 12px;
      box-shadow: 0 0 0 1px hsl(var(--ink) / .15) inset, 0 10px 24px -10px hsl(var(--ink) / .25);
    }
    #atelier509 h1 {
      margin: 8px 0 2px 0;
      font-size: clamp(30px, 6vw, 64px);
      line-height: 1.02;
      letter-spacing: -0.02em;
      background: linear-gradient(90deg, hsl(226 30% 14%), hsl(var(--ink)));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-wrap: balance;
    }
    #atelier509 .lede {
      margin: 0;
      color: hsl(var(--muted));
      font-size: clamp(14px, 1.8vw, 18px);
      line-height: 1.6;
      max-width: 62ch;
    }

    /* Card */
    #atelier509 .card {
      position: relative;
      border-radius: 20px;
      background: linear-gradient(180deg, hsl(0 0% 100% / .85), hsl(0 0% 100% / .75));
      backdrop-filter: blur(8px) saturate(120%);
      border: 1px solid hsl(0 0% 0% / 7%);
      box-shadow: 0 12px 30px -20px hsl(210 40% 24% / 25%), 0 0 0 1px hsl(0 0% 100% / 60%) inset;
      padding: clamp(16px, 2.6vw, 24px);
      transform-style: preserve-3d;
    }
    #atelier509 .card:hover { transform: translateY(-2px); transition: transform .3s ease; }

    /* Orbit widget */
    #atelier509 .orbit {
      display: grid;
      place-items: center;
      aspect-ratio: 1;
      width: min(260px, 52vw);
      margin: 10px auto 6px auto;
      position: relative;
    }
    #atelier509 .orbit svg { width: 100%; height: 100%; overflow: visible; }
    #atelier509 .ring {
      stroke: hsl(0 0% 0% / 10%); stroke-width: 10; fill: none;
    }
    #atelier509 .ring-progress {
      stroke: hsl(var(--ink));
      stroke-width: 10; fill: none;
      stroke-linecap: round;
      filter: drop-shadow(0 6px 14px hsl(var(--ink) / .35));
      transform: rotate(-90deg);
      transform-origin: 50% 50%;
    }
    #atelier509 .orbit-dot {
      width: 12px; height: 12px; border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff 0 20%, hsl(var(--ink)) 40% 100%);
      box-shadow: 0 0 0 4px hsl(var(--ink) / .15), 0 10px 20px -6px hsl(var(--ink) / .55);
      position: absolute; inset: 50% auto auto 50%;
      transform: translate(-50%, -50%) rotate(0deg) translateX(calc(min(260px, 52vw) / 2.6));
      animation: orbit 22s linear infinite;
    }
    @keyframes orbit {
      to { transform: translate(-50%, -50%) rotate(360deg) translateX(calc(min(260px, 52vw) / 2.6)); }
    }
    #atelier509 .readout {
      position: absolute;
      text-align: center;
      display: grid; gap: 2px;
      transform: translateZ(10px);
    }
    #atelier509 .time {
      font-variant-numeric: tabular-nums;
      font-weight: 800;
      font-size: clamp(20px, 4.6vw, 34px);
      letter-spacing: .02em;
    }
    #atelier509 .small {
      font-size: 12px; color: hsl(var(--muted)); letter-spacing: .3px; text-transform: uppercase;
    }

    /* Controls */
    #atelier509 .controls {
      display: flex; flex-wrap: wrap; gap: 10px; margin-top: 12px;
    }
    #atelier509 .btn {
      appearance: none; cursor: pointer; user-select: none;
      border: 1px solid hsl(var(--ink) / .45);
      background: linear-gradient(180deg, hsl(var(--ink) / .14), hsl(var(--ink) / .08));
      color: hsl(226 30% 14%);
      padding: 10px 14px; border-radius: 12px; font-weight: 700; letter-spacing: .2px;
      box-shadow: 0 10px 22px -12px hsl(var(--ink) / .35), 0 0 0 1px hsl(var(--ink) / .18) inset;
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease;
    }
    #atelier509 .btn:hover { transform: translateY(-1px); }
    #atelier509 .btn.secondary {
      border: 1px solid hsl(0 0% 0% / 10%);
      background: linear-gradient(180deg, hsl(0 0% 100% / .8), hsl(0 0% 98% / .8));
      color: hsl(var(--muted));
      box-shadow: 0 0 0 1px hsl(0 0% 0% / 8%) inset;
    }

    /* Palette swatches */
    #atelier509 .swatches { display:flex; gap:8px; margin-top: 10px; flex-wrap: wrap; }
    #atelier509 .swatch {
      width: 28px; height: 28px; border-radius: 50%;
      border: 1px solid hsl(0 0% 0% / 12%);
      box-shadow: 0 6px 16px -8px hsl(var(--ink) / .4);
      cursor: pointer; position: relative;
      transition: transform .2s ease, box-shadow .2s ease;
    }
    #atelier509 .swatch:hover { transform: translateY(-2px); }
    #atelier509 .swatch[aria-pressed="true"]::after {
      content:""; position:absolute; inset:-3px; border-radius:50%;
      box-shadow: 0 0 0 2px hsl(var(--ink) / .35);
    }

    /* Note list */
    #atelier509 .notes {
      display: grid; gap: 8px; margin-top: 10px;
    }
    #atelier509 .note {
      display: flex; gap: 10px; align-items: center;
      padding: 10px 12px; border-radius: 12px;
      border: 1px dashed hsl(0 0% 0% / 12%);
      background: hsl(0 0% 100% / .7);
    }
    #atelier509 .note .dot {
      width: 10px; height: 10px; border-radius: 50%;
      background: conic-gradient(from 180deg, hsl(var(--ink)) 0 40%, hsl(var(--ink) / .3) 40% 100%);
      box-shadow: 0 0 0 2px hsl(var(--ink) / .15);
    }

    /* Footer */
    #atelier509 .meta {
      display: flex; align-items: center; justify-content: space-between; gap: 10px;
      margin-top: clamp(14px, 3vw, 24px); padding-top: 12px;
      border-top: 1px dashed hsl(0 0% 0% / 12%); color: hsl(var(--muted)); font-size: 12px;
    }
    #atelier509 .kbd {
      font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
      padding: 2px 6px; border-radius: 6px;
      border: 1px solid hsl(0 0% 0% / 12%);
      background: hsl(0 0% 100% / .7);
      color: hsl(var(--text));
      box-shadow: 0 1px 0 0 hsl(0 0% 0% / 7%) inset;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      #atelier509, #atelier509 * { animation: none !important; transition: none !important; }
    }
  </style>

  <div class="confetti" aria-hidden="true">
    <i style="--r:8deg"></i><i style="--r:-6deg"></i><i style="--r:3deg"></i><i style="--r:-10deg"></i><i style="--r:5deg"></i>
  </div>

  <div class="grid">
    <div class="lead">
      <span class="eyebrow">Prism Edition • v509</span>
      <h1>Sunlit Interface, Calm Energy</h1>
      <p class="lede">A bright, airy surface that feels like fresh paper. Follow the sun’s orbit, shift palettes with a tap, and keep motion gentle.</p>

      <div class="controls">
        <button class="btn" id="palette-next" type="button">Shuffle Palette</button>
        <button class="btn secondary" id="toggle-motion" type="button" aria-pressed="false">Pause Motion</button>
      </div>

      <div class="swatches" aria-label="Choose a palette">
        <button class="swatch" title="Dawn" type="button" aria-pressed="true" data-ink="18 92% 48%" data-ink2="338 82% 44%" data-bgt="22 100% 98%" data-bgb="335 100% 97%"></button>
        <button class="swatch" title="Day" type="button" aria-pressed="false" data-ink="210 92% 44%" data-ink2="185 85% 38%" data-bgt="0 0% 100%" data-bgb="210 100% 97%"></button>
        <button class="swatch" title="Mint" type="button" aria-pressed="false" data-ink="160 72% 38%" data-ink2="190 80% 36%" data-bgt="150 60% 97%" data-bgb="190 80% 96%"></button>
        <button class="swatch" title="Dusk" type="button" aria-pressed="false" data-ink="268 80% 52%" data-ink2="12 86% 52%" data-bgt="260 100% 98%" data-bgb="14 100% 98%"></button>
        <button class="swatch" title="Rose" type="button" aria-pressed="false" data-ink="342 78% 48%" data-ink2="22 92% 48%" data-bgt="340 100% 98%" data-bgb="24 100% 97%"></button>
      </div>

      <div class="notes" role="list">
        <div class="note" role="listitem"><span class="dot" aria-hidden="true"></span> Crisp typography with generous breathing room</div>
        <div class="note" role="listitem"><span class="dot" aria-hidden="true"></span> Palette-aware shadows and highlights</div>
        <div class="note" role="listitem"><span class="dot" aria-hidden="true"></span> Motion that yields to your preferences</div>
      </div>
    </div>

    <div class="card" id="orbit-card" aria-label="Day orbit">
      <div class="orbit">
        <svg viewBox="0 0 120 120" aria-hidden="true">
          <circle class="ring" cx="60" cy="60" r="50"></circle>
          <circle class="ring-progress" cx="60" cy="60" r="50" stroke-dasharray="314.16" stroke-dashoffset="314.16"></circle>
        </svg>
        <div class="orbit-dot" aria-hidden="true"></div>
        <div class="readout" aria-live="polite">
          <div class="time" id="clock">--:--</div>
          <div class="small" id="desc">—</div>
        </div>
      </div>
      <p class="lede" style="text-align:center; margin-top:10px;">“Make it feel like daylight.”</p>
    </div>
  </div>

  <div class="meta">
    <span id="last-updated">Last updated: 2025-11-08 15:17:13 EST</span>
    <span class="hint">Tips: press <span class="kbd">S</span> to shuffle • <span class="kbd">M</span> to pause</span>
  </div>

  <script>
    (function(){
      const root = document.getElementById('atelier509');
      const swatches = Array.from(root.querySelectorAll('.swatch'));
      const nextBtn = root.querySelector('#palette-next');
      const motionBtn = root.querySelector('#toggle-motion');
      const orbitCard = root.querySelector('#orbit-card');
      const prog = root.querySelector('.ring-progress');
      const clockEl = root.querySelector('#clock');
      const descEl = root.querySelector('#desc');
      const lastEl = root.querySelector('#last-updated');
      const circumference = 2 * Math.PI * 50; // r = 50

      // Palettes derived from swatches dataset
      const palettes = swatches.map(s => ({
        ink: s.dataset.ink, ink2: s.dataset.ink2, bgt: s.dataset.bgt, bgb: s.dataset.bgb, el: s
      }));
      let current = 0;
      let paused = false;
      let rafId;

      function applyPalette(idx){
        current = idx;
        const p = palettes[idx];
        root.style.setProperty('--ink', p.ink);
        root.style.setProperty('--ink-2', p.ink2);
        root.style.setProperty('--bg-top', p.bgt);
        root.style.setProperty('--bg-bottom', p.bgb);
        swatches.forEach(s => s.setAttribute('aria-pressed', s === p.el ? 'true' : 'false'));
      }

      function shufflePalette(){
        applyPalette((current + 1) % palettes.length);
      }

      swatches.forEach((b, i) => b.addEventListener('click', () => applyPalette(i)));
      nextBtn.addEventListener('click', shufflePalette);

      // Motion toggle
      function setPaused(isPaused){
        paused = isPaused;
        motionBtn.setAttribute('aria-pressed', String(isPaused));
        motionBtn.textContent = isPaused ? 'Resume Motion' : 'Pause Motion';
        root.style.animationPlayState = isPaused ? 'paused' : 'running';
        root.querySelectorAll('*').forEach(el => el.style.animationPlayState = isPaused ? 'paused' : 'running');
        if (!isPaused) tick();
      }
      motionBtn.addEventListener('click', () => setPaused(!paused));

      // Orbit progress: day-of-year
      function dayOfYearProgress(d){
        const start = new Date(d.getFullYear(), 0, 1);
        const next = new Date(d.getFullYear() + 1, 0, 1);
        return (d - start) / (next - start);
      }
      function hourProgress(d){ return (d.getHours() * 3600 + d.getMinutes() * 60 + d.getSeconds()) / 86400; }

      function labelForTime(d){
        const h = d.getHours();
        if (h < 6) return 'Before dawn';
        if (h < 12) return 'Morning glow';
        if (h < 18) return 'Afternoon clarity';
        return 'Evening hush';
      }

      function tick(){
        if (paused) return;
        const now = new Date();
        // ring based on day-of-year
        const p = dayOfYearProgress(now);
        const offset = circumference * (1 - p);
        prog.style.strokeDasharray = circumference.toFixed(2);
        prog.style.strokeDashoffset = offset.toFixed(2);

        // time text
        clockEl.textContent = now.toLocaleTimeString([], {hour: '2-digit', minute: '2-digit'});
        descEl.textContent = labelForTime(now);

        rafId = requestAnimationFrame(tick);
      }

      // Subtle tilt on orbit card
      orbitCard.addEventListener('pointermove', (e) => {
        const r = orbitCard.getBoundingClientRect();
        const x = (e.clientX - r.left) / r.width;
        const y = (e.clientY - r.top) / r.height;
        const rx = (0.6 - y) * 4;
        const ry = (x - 0.5) * 6;
        orbitCard.style.transform = `translateY(-2px) rotateX(${rx}deg) rotateY(${ry}deg)`;
      });
      orbitCard.addEventListener('pointerleave', () => { orbitCard.style.transform = ''; });

      // Keyboard shortcuts
      document.addEventListener('keydown', (e) => {
        const k = e.key.toLowerCase();
        if (k === 's') shufflePalette();
        if (k === 'm') setPaused(!paused);
      });

      // Last updated
      const now = new Date();
      lastEl.textContent = 'Last updated: ' + now.toLocaleString([], { hour12: false, timeZoneName: 'short' });

      // Initialize palette based on time
      const hour = new Date().getHours();
      let initial = 1; // Day
      if (hour < 7) initial = 0;      // Dawn
      else if (hour < 12) initial = 1; // Day
      else if (hour < 18) initial = 2; // Mint
      else initial = 3;                // Dusk
      applyPalette(initial);

      cancelAnimationFrame(rafId);
      tick();
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


