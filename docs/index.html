<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="aurum" data-theme="noir" aria-label="Aurum Orrery — Kinetic Solar Sculpture">
  <style>
    .aurum {
      --r: 28px;
      --ink: #e9f1ff;
      --muted: #a7b3cf;
      --line: rgba(255,255,255,0.16);
      --bg1: #0b0f17;
      --bg2: #131b2d;
      --accent: #ffd782;
      --g1: #ffe29f; --g2: #ffa99f; --g3: #9fd8ff; --g4: #b9ffea; --g5: #d1b2ff; --g6: #ffb5e1;

      position: relative;
      border-radius: var(--r);
      border: 1px solid var(--line);
      color: var(--ink);
      background:
        radial-gradient(160% 120% at 10% -20%, rgba(255,255,255,0.04), transparent 60%),
        linear-gradient(180deg, var(--bg1), var(--bg2));
      padding: clamp(18px, 3.8vw, 44px);
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,0.08),
        0 50px 120px rgba(5, 10, 25, 0.50),
        0 18px 42px rgba(5, 10, 25, 0.35);
      overflow: hidden;
      font-family: ui-sans-serif, system-ui, -apple-system, "SF Pro Text", Inter, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
      isolation: isolate;
    }
    .aurum[data-theme="pearl"] { --ink:#0f1524; --muted:#5e6a82; --line:rgba(20,28,50,0.14); --bg1:#fcfdff; --bg2:#f2f5fb; --accent:#2c3b66; --g1:#ff9b8e; --g2:#ffbe70; --g3:#7aa8ff; --g4:#7ff0d8; --g5:#c7a9ff; --g6:#ffbde7; }
    .aurum[data-theme="twilight"] { --ink:#eff3ff; --muted:#aeb9da; --line:rgba(255,255,255,0.18); --bg1:#111327; --bg2:#1a1140; --accent:#ac9bff; --g1:#8ea0ff; --g2:#c89bff; --g3:#ff9bd2; --g4:#7ff0d8; --g5:#ffd56b; --g6:#b2d6ff; }

    /* Masthead */
    .mast { display:flex; align-items:center; justify-content:space-between; gap:16px; margin-bottom: 12px; }
    .brand { display:flex; align-items:center; gap:14px; }
    .crest {
      --s:42px; width:var(--s); height:var(--s); border-radius:50%; position:relative;
      background: radial-gradient(circle at 50% 50%, rgba(255,255,255,0.18), rgba(255,255,255,0.02) 42%, transparent 43%),
                  conic-gradient(from 0deg, var(--g1), var(--g2), var(--g3), var(--g4), var(--g5), var(--g6), var(--g1));
      border: 1px solid var(--line);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 8px 20px rgba(0,0,0,0.35);
      animation: crest-spin 16s linear infinite;
      overflow: hidden;
    }
    .crest::after {
      content:""; position:absolute; inset:9px; border-radius:50%;
      background: radial-gradient(circle at 35% 30%, rgba(255,255,255,0.45), rgba(255,255,255,0.04));
      border:1px solid var(--line);
      box-shadow: inset 0 0 0 1px rgba(0,0,0,0.18);
    }
    @keyframes crest-spin { to { transform: rotate(360deg); } }

    .title {
      font-weight: 1000; letter-spacing:-0.02em;
      font-size: clamp(22px, 4vw, 34px);
      line-height: 1;
      background: linear-gradient(90deg, var(--g1), var(--g5), var(--g4));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 6px 14px rgba(0,0,0,0.28));
    }
    .edition {
      color: var(--muted); font-size:12px; font-weight:800; letter-spacing:.22em; text-transform:uppercase;
      padding:6px 10px; border:1px solid var(--line); border-radius:999px;
      background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      box-shadow: 0 10px 22px rgba(0,0,0,0.25);
    }
    .tag {
      color: var(--muted);
      max-width: 62ch;
      font-size: clamp(12px, 2vw, 16px);
      margin-bottom: 8px;
    }

    /* Stage */
    .stage {
      position:relative;
      min-height: clamp(520px, 62vh, 980px);
      border-radius: 24px;
      border:1px solid var(--line);
      overflow:hidden;
      background:
        radial-gradient(120% 80% at 80% 10%, rgba(255,255,255,0.06), transparent 60%),
        linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.08),
        0 28px 80px rgba(0,0,0,0.45);
      transform-style: preserve-3d;
      transition: transform 260ms ease, box-shadow 260ms ease;
    }
    .stage::before {
      content:""; position:absolute; inset:-2px; pointer-events:none;
      background-image:
        radial-gradient(60vmax 60vmax at -10% -20%, rgba(255,255,255,0.06), transparent 60%),
        radial-gradient(60vmax 60vmax at 110% 120%, rgba(255,255,255,0.04), transparent 60%);
      mix-blend-mode: screen; opacity:.6;
    }
    .grain {
      position:absolute; inset:0; pointer-events:none; opacity:.13; mix-blend-mode: overlay;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="120" height="120" viewBox="0 0 120 120"><filter id="n"><feTurbulence type="fractalNoise" baseFrequency="0.9" numOctaves="2" stitchTiles="stitch"/></filter><rect width="100%" height="100%" filter="url(%23n)" opacity="0.30"/></svg>');
      background-size: 240px 240px; animation: gr 14s steps(2) infinite;
    }
    @keyframes gr { to { transform: translate3d(14px, -10px, 0); } }

    svg.orrery { position:absolute; inset:0; width:100%; height:100%; display:block; }

    /* Panel */
    .panel {
      margin-top: 16px;
      display:flex; flex-wrap:wrap; align-items:center; gap:10px;
      padding:10px; border-radius:16px; border:1px solid var(--line);
      background:linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      backdrop-filter: blur(10px) saturate(1.08);
      box-shadow:0 18px 44px rgba(0,0,0,0.28);
    }
    .segment { display:inline-flex; border-radius:999px; overflow:hidden; border:1px solid var(--line); }
    .segment button {
      appearance:none; cursor:pointer; user-select:none;
      background: transparent; color: var(--ink);
      border:0; padding:8px 14px; font-size:13px; letter-spacing:.02em;
      transition: background 160ms ease, color 160ms ease, transform 160ms ease, box-shadow 160ms ease;
    }
    .segment button[aria-pressed="true"] {
      background: linear-gradient(180deg, rgba(255,255,255,0.16), rgba(255,255,255,0.08));
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.16);
      color:var(--ink);
    }
    .btn, .pill {
      appearance:none; cursor:pointer; user-select:none;
      border:1px solid var(--line); border-radius: 999px; color:var(--ink);
      background:linear-gradient(180deg, rgba(255,255,255,0.16), rgba(255,255,255,0.08));
      padding:8px 12px; font-size:13px; white-space:nowrap;
      transition: transform 160ms ease, background 160ms ease, color 160ms ease, box-shadow 160ms ease;
      box-shadow:0 12px 26px rgba(0,0,0,0.26);
    }
    .btn:hover, .pill:hover { transform: translateY(-2px); }
    .btn:focus-visible, .pill:focus-visible { outline:2px solid var(--g3); outline-offset:2px; }

    .slider {
      appearance:none; width: clamp(140px, 24vw, 260px); height:28px; border-radius:999px;
      border:1px solid var(--line);
      background:linear-gradient(90deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
      box-shadow: inset 0 0 0 2px rgba(255,255,255,0.10);
    }
    .slider::-webkit-slider-thumb {
      appearance:none; width:20px; height:20px; border-radius:50%;
      background:linear-gradient(180deg, #fff, #e9eef3); border:2px solid rgba(10,18,40,0.18); box-shadow:0 2px 12px rgba(0,0,0,0.35); cursor:pointer;
    }
    .slider::-moz-range-thumb {
      width:20px; height:20px; border-radius:50%;
      background:linear-gradient(180deg, #fff, #e9eef3); border:2px solid rgba(10,18,40,0.18); box-shadow:0 2px 12px rgba(0,0,0,0.35); cursor:pointer;
    }

    .themes { display:inline-flex; gap:8px; margin-left:auto; }
    .swatch {
      width:28px; height:28px; border-radius:50%; border:1px solid var(--line);
      box-shadow:0 10px 22px rgba(0,0,0,0.28); cursor:pointer; transition: transform 160ms ease;
    }
    .swatch:hover { transform: translateY(-2px) rotate(-4deg); }
    .swatch[data-theme="noir"]     { background: conic-gradient(#ffd782, #9fd8ff, #b9ffea, #d1b2ff, #ffb5e1, #ffd782); }
    .swatch[data-theme="pearl"]    { background: conic-gradient(#ffbe70, #7aa8ff, #7ff0d8, #c7a9ff, #ffbde7, #ff9b8e); }
    .swatch[data-theme="twilight"] { background: conic-gradient(#8ea0ff, #c89bff, #ff9bd2, #7ff0d8, #ffd56b, #b2d6ff); }

    .meta { display:flex; flex-wrap:wrap; align-items:center; gap:12px; margin-top:10px; font-size:12px; color:var(--muted); }
    .meta .sep { opacity:.5; }

    /* SVG styles */
    .ring { fill:none; stroke: rgba(255,255,255,0.18); stroke-width:1; }
    .ring--dash { stroke-dasharray: 2 10; stroke-linecap: round; opacity:.7; }
    .planet-core { stroke: rgba(255,255,255,0.2); stroke-width: 0.8; }
    .planet-glow { filter: url(#glow); opacity:.55; }
    .star { opacity:.9; }
  </style>

  <div class="mast">
    <div class="brand">
      <div class="crest" aria-hidden="true"></div>
      <div class="title">Aurum Orrery</div>
    </div>
    <div class="edition" aria-label="Edition number">No. 399</div>
  </div>

  <p class="tag">A quiet clockwork of color. Orbits breathe, time sweeps, and the night has a soft hum.</p>

  <div class="stage" aria-label="Orrery">
    <svg class="orrery" viewBox="-500 -500 1000 1000" aria-hidden="false" role="img">
      <defs>
        <filter id="glow" x="-50%" y="-50%" width="200%" height="200%">
          <feGaussianBlur stdDeviation="16" result="b"/>
          <feMerge>
            <feMergeNode in="b" />
            <feMergeNode in="SourceGraphic" />
          </feMerge>
        </filter>
        <radialGradient id="coreGrad" cx="35%" cy="30%" r="1">
          <stop offset="0%" stop-color="#ffffff" stop-opacity="0.9"/>
          <stop offset="50%" stop-color="#ffffff" stop-opacity="0.35"/>
          <stop offset="100%" stop-color="#ffffff" stop-opacity="0.05"/>
        </radialGradient>
      </defs>
      <g class="stars" aria-hidden="true"></g>
      <g class="rings" aria-hidden="true"></g>
      <g class="bodies"></g>
    </svg>
    <div class="grain" aria-hidden="true"></div>
  </div>

  <div class="panel" role="group" aria-label="Controls">
    <div class="segment" role="tablist" aria-label="Mode">
      <button type="button" class="mode" data-mode="drift" aria-pressed="true" role="tab">Drift</button>
      <button type="button" class="mode" data-mode="clock" aria-pressed="false" role="tab">Clock</button>
      <button type="button" class="mode" data-mode="dance" aria-pressed="false" role="tab">Dance</button>
    </div>

    <label class="pill" style="padding:0 10px; display:inline-flex; align-items:center; gap:8px;">
      <span style="opacity:.85; font-size:12px;">Speed</span>
      <input class="slider speed" type="range" min="0" max="2" step="0.01" value="1" aria-label="Speed">
    </label>

    <button type="button" class="btn pause" aria-pressed="false" title="Pause/Resume">Pause</button>

    <div class="themes" role="group" aria-label="Theme">
      <button class="swatch" type="button" data-theme="noir" title="Noir (Dark)"></button>
      <button class="swatch" type="button" data-theme="pearl" title="Pearl (Light)"></button>
      <button class="swatch" type="button" data-theme="twilight" title="Twilight (Indigo)"></button>
    </div>
  </div>

  <div class="meta" aria-label="Meta">
    <span id="last-updated">Last updated: 2025-11-03 14:14:10 EST</span>
    <span class="sep">•</span>
    <span class="hint">Space: pause • 1–3: theme • M: mode</span>
  </div>

  <script>
    (function(){
      const root = document.currentScript.closest('.aurum');
      const stage = root.querySelector('.stage');
      const svg = root.querySelector('svg.orrery');
      const gStars = svg.querySelector('.stars');
      const gRings = svg.querySelector('.rings');
      const gBodies = svg.querySelector('.bodies');
      const speedInput = root.querySelector('.speed');
      const pauseBtn = root.querySelector('.pause');
      const modeBtns = [...root.querySelectorAll('.mode')];
      const themeBtns = root.querySelectorAll('.swatch');
      const stamp = root.querySelector('#last-updated');

      // Timestamp
      try {
        const now = new Date();
        const fmt = new Intl.DateTimeFormat([], {
          year:'numeric', month:'short', day:'2-digit',
          hour:'2-digit', minute:'2-digit', second:'2-digit',
          hour12:true, timeZoneName:'short'
        });
        stamp.textContent = 'Updated ' + fmt.format(now);
      } catch { stamp.textContent = 'Updated ' + new Date().toLocaleString(); }

      // Theme persistence
      const savedTheme = localStorage.getItem('aurum-theme');
      if (savedTheme) root.setAttribute('data-theme', savedTheme);
      themeBtns.forEach(b => b.addEventListener('click', ()=>{
        const t = b.getAttribute('data-theme');
        root.setAttribute('data-theme', t);
        localStorage.setItem('aurum-theme', t);
        build(); // refresh colors
      }));

      // Mode
      let mode = localStorage.getItem('aurum-mode') || 'drift';
      modeBtns.forEach(b=>{
        b.setAttribute('aria-pressed', String(b.dataset.mode === mode));
        b.addEventListener('click', ()=>{
          mode = b.dataset.mode;
          modeBtns.forEach(x => x.setAttribute('aria-pressed', String(x===b)));
          localStorage.setItem('aurum-mode', mode);
        });
      });

      // Speed
      let speed = parseFloat(localStorage.getItem('aurum-speed') ?? '1');
      speedInput.value = String(speed);
      speedInput.addEventListener('input', e=>{
        speed = parseFloat(e.target.value || '1');
        localStorage.setItem('aurum-speed', String(speed));
      });

      // Pause
      let paused = matchMedia('(prefers-reduced-motion: reduce)').matches;
      function setPaused(p){
        paused = p;
        pauseBtn.setAttribute('aria-pressed', String(p));
        pauseBtn.textContent = p ? 'Resume' : 'Pause';
      }
      pauseBtn.addEventListener('click', ()=> setPaused(!paused));
      setPaused(paused);

      // Keyboard
      root.tabIndex = 0;
      root.addEventListener('keydown', (e)=>{
        const k = e.key.toLowerCase();
        if (e.code === 'Space'){ e.preventDefault(); setPaused(!paused); }
        if (k === '1'){ root.setAttribute('data-theme','noir'); localStorage.setItem('aurum-theme','noir'); build(); }
        if (k === '2'){ root.setAttribute('data-theme','pearl'); localStorage.setItem('aurum-theme','pearl'); build(); }
        if (k === '3'){ root.setAttribute('data-theme','twilight'); localStorage.setItem('aurum-theme','twilight'); build(); }
        if (k === 'm'){
          const order = ['drift','clock','dance'];
          const idx = order.indexOf(mode);
          mode = order[(idx+1)%order.length];
          modeBtns.forEach(x => x.setAttribute('aria-pressed', String(x.dataset.mode === mode)));
          localStorage.setItem('aurum-mode', mode);
        }
      });

      // Parallax tilt
      const pointer = { x:0.5, y:0.5, inside:false };
      function setPointer(eX, eY){
        const r = stage.getBoundingClientRect();
        const x = eX - r.left, y = eY - r.top;
        pointer.x = x / r.width; pointer.y = y / r.height; pointer.inside = true;
      }
      stage.addEventListener('mousemove', e => setPointer(e.clientX, e.clientY));
      stage.addEventListener('mouseenter', e => setPointer(e.clientX, e.clientY));
      stage.addEventListener('mouseleave', ()=> { pointer.inside = false; });

      // Stars
      let stars = [];
      function makeStars(count, R){
        gStars.innerHTML = '';
        stars = [];
        for (let i=0;i<count;i++){
          const a = Math.random() * Math.PI*2;
          const r = (Math.random()**0.7) * R;
          const x = Math.cos(a)*r, y = Math.sin(a)*r;
          const s = 0.6 + Math.random()*2.4;
          const c = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
          c.setAttribute('class','star');
          c.setAttribute('cx', x.toFixed(2));
          c.setAttribute('cy', y.toFixed(2));
          c.setAttribute('r', s.toFixed(2));
          c.setAttribute('fill', i%5===0 ? 'url(#coreGrad)' : 'rgba(255,255,255,0.8)');
          gStars.appendChild(c);
          stars.push({el:c, tw: Math.random()*Math.PI*2, sp: 0.4+Math.random()*0.8});
        }
      }

      // Rings & planets
      const DPR = Math.min(2, window.devicePixelRatio || 1);
      let size = 1000, half = 500;
      let planets = [];
      function palette(){
        switch (root.getAttribute('data-theme')) {
          case 'pearl': return ['#ff9b8e','#ffbe70','#7aa8ff','#7ff0d8','#c7a9ff','#ffbde7'];
          case 'twilight': return ['#8ea0ff','#c89bff','#ff9bd2','#7ff0d8','#ffd56b','#b2d6ff'];
          default: return ['#ffd782','#9fd8ff','#b9ffea','#d1b2ff','#ffb5e1','#ffe6a3'];
        }
      }

      function build(){
        // Resize to square viewBox based on container
        const rect = stage.getBoundingClientRect();
        const min = Math.min(rect.width, rect.height);
        size = 1000;
        half = 500;
        svg.setAttribute('viewBox', `${-half} ${-half} ${size} ${size}`);

        // Stars and rings
        const ringCount = 6;
        const maxR = 360;
        gRings.innerHTML = '';
        makeStars(Math.floor(180 * (rect.width/900 + rect.height/900)), half*0.95);

        const cols = palette();
        planets = [];
        for (let i=0;i<ringCount;i++){
          const rr = 90 + i * (maxR / (ringCount-1));
          const ring = document.createElementNS('http://www.w3.org/2000/svg','circle');
          ring.setAttribute('class','ring ' + (i%2? 'ring--dash':''));
          ring.setAttribute('r', rr.toFixed(1));
          ring.setAttribute('cx','0'); ring.setAttribute('cy','0');
          gRings.appendChild(ring);

          const g = document.createElementNS('http://www.w3.org/2000/svg','g');
          const glow = document.createElementNS('http://www.w3.org/2000/svg','circle');
          const core = document.createElementNS('http://www.w3.org/2000/svg','circle');
          const cr = 12 + i*2.8;
          const color = cols[i % cols.length];

          glow.setAttribute('class','planet-glow');
          glow.setAttribute('r', (cr*1.9).toFixed(1));
          glow.setAttribute('fill', color);

          core.setAttribute('class','planet-core');
          core.setAttribute('r', cr.toFixed(1));
          core.setAttribute('fill', color);
          core.setAttribute('stroke', 'rgba(255,255,255,0.3)');

          g.appendChild(glow);
          g.appendChild(core);
          gBodies.appendChild(g);

          planets.push({
            g, glow, core,
            r: rr,
            cr: cr,
            color,
            angle: Math.random()*Math.PI*2,
            speed: 0.06 + i*0.06
          });
        }
      }

      // Animate
      let t0 = performance.now();
      function tick(now){
        const dt = Math.min(0.05, (now - t0)/1000);
        t0 = now;

        // Tilt
        const nx = (pointer.inside ? (pointer.x - 0.5) : 0) * 2;
        const ny = (pointer.inside ? (pointer.y - 0.5) : 0) * 2;
        stage.style.transform = `perspective(1000px) rotateX(${ny * -5}deg) rotateY(${nx * 7}deg) translateZ(0)`;

        // Twinkle
        const twT = now*0.001;
        for (let i=0;i<stars.length;i++){
          const s = stars[i];
          const op = 0.55 + 0.45 * Math.abs(Math.sin(twT * s.sp + s.tw));
          s.el.setAttribute('opacity', op.toFixed(2));
        }

        if (!paused){
          const cols = palette();

          for (let i=0;i<planets.length;i++){
            const p = planets[i];
            let ang = p.angle;

            if (mode === 'drift'){
              ang += dt * p.speed * speed * 2.0;
            }
            if (mode === 'clock'){
              const nowD = new Date();
              const sec = nowD.getSeconds() + nowD.getMilliseconds()/1000;
              const min = nowD.getMinutes() + sec/60;
              const hrs = nowD.getHours()%12 + min/60;
              if (i===0) ang = (sec/60) * Math.PI*2;
              else if (i===1) ang = (min/60) * Math.PI*2;
              else if (i===2) ang = (hrs/12) * Math.PI*2;
              else ang += dt * p.speed * 0.6 * speed;
            }
            if (mode === 'dance'){
              const wob = Math.sin(now*0.0012 + i*0.8) * 10 * (0.6 + speed*0.4);
              p.r = (90 + i * (360/(planets.length-1))) + wob;
              ang += dt * p.speed * (1.0 + Math.sin(now*0.001 + i)*0.7) * (0.6 + speed*0.6);
            }

            p.angle = ang;
            const x = Math.cos(ang) * p.r;
            const y = Math.sin(ang) * p.r;

            // Soft color breathing
            const breath = 0.85 + 0.15*Math.sin(now*0.0008 + i);
            p.core.setAttribute('fill', cols[i % cols.length]);
            p.glow.setAttribute('fill', cols[(i+1) % cols.length]);
            p.g.setAttribute('transform', `translate(${x.toFixed(2)}, ${y.toFixed(2)}) scale(${breath.toFixed(3)})`);
          }
        }

        requestAnimationFrame(tick);
      }

      // Resize
      const ro = new ResizeObserver(()=> build());
      ro.observe(stage);
      window.addEventListener('orientationchange', ()=> setTimeout(()=>build(), 120));

      function init(){
        build();
        requestAnimationFrame(tick);
      }
      init();

      // Reduced motion static pose
      if (matchMedia('(prefers-reduced-motion: reduce)').matches){
        setPaused(true);
      }
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


