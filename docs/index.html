<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div class="vibe880" data-mode="dawn" aria-live="polite">
  <style>
    .vibe880 {
      --fg: #0f1221;
      --muted: #5b647a;
      --panel: rgba(255,255,255,0.55);
      --line: rgba(16,22,40,0.14);
      --accent: #5b80ff;
      --orbit-a: #ff9a6b;
      --orbit-b: #7a7bff;
      --orbit-c: #26d7b0;
      --ring: color-mix(in oklab, var(--accent) 60%, white 10%);
      --radius: 28px;
      position: relative;
      padding: 28px;
      border-radius: var(--radius);
      color: var(--fg);
      background:
        radial-gradient(1200px 800px at 30% 20%, rgba(255,214,176,0.45), transparent 60%),
        radial-gradient(1000px 900px at 80% 120%, rgba(123,126,255,0.35), transparent 65%),
        #fff8f3;
      box-shadow: 0 40px 90px rgba(18, 22, 40, 0.2);
      overflow: hidden;
      isolation: isolate;
    }
    .vibe880[data-mode="dusk"] {
      --fg: #eaf1ff;
      --muted: #9aa6bc;
      --panel: rgba(10,12,18,0.5);
      --line: rgba(255,255,255,0.14);
      --accent: #72d6ff;
      --orbit-a: #72d6ff;
      --orbit-b: #c78aff;
      --orbit-c: #7ef5c8;
      background:
        radial-gradient(1200px 800px at 20% 10%, rgba(114,214,255,0.25), transparent 60%),
        radial-gradient(1000px 900px at 90% 120%, rgba(199,138,255,0.25), transparent 65%),
        #06080d;
      color: var(--fg);
    }
    .vibe880 * { box-sizing: border-box; }

    /* Ambient halo + grid */
    .vibe880::before {
      content: "";
      position: absolute; inset: -20%;
      background:
        radial-gradient(closest-side at 50% 50%, rgba(255,255,255,0.20), transparent 70%),
        conic-gradient(from 0deg at 50% 50%, rgba(255,255,255,0.05), transparent 40%, rgba(0,0,0,0.0) 60%, rgba(255,255,255,0.05) 100%);
      filter: blur(30px) saturate(110%);
      opacity: .6;
      z-index: 0;
      pointer-events: none;
    }
    .vibe880 .mesh {
      position: absolute; inset: 0;
      background:
        linear-gradient(transparent 49%, rgba(255,255,255,0.08) 50%, transparent 51%) 0 0 / 26px 26px,
        linear-gradient(90deg, transparent 49%, rgba(255,255,255,0.08) 50%, transparent 51%) 0 0 / 26px 26px;
      mix-blend-mode: overlay;
      opacity: .18;
      z-index: 0;
      pointer-events: none;
    }
    .vibe880[data-mode="dusk"] .mesh { opacity: .22; }

    /* Canvas sky */
    .vibe880 .orbits {
      position: absolute; inset: -2%;
      width: 104%; height: 104%;
      z-index: 0;
      filter: saturate(108%) contrast(104%);
      opacity: .9;
    }

    /* Chrome */
    .vibe880 .chrome {
      position: relative;
      z-index: 2;
      display: grid;
      gap: 16px;
    }
    .vibe880 .topline {
      display: flex; align-items: center; justify-content: space-between; gap: 12px;
    }
    .vibe880 .brand {
      display: inline-flex; align-items: center; gap: 10px; user-select: none;
    }
    .vibe880 .logo {
      width: 22px; height: 22px; border-radius: 8px;
      background: conic-gradient(from 0deg, var(--orbit-a), var(--orbit-b), var(--orbit-c), var(--orbit-a));
      box-shadow: 0 0 0 1px rgba(255,255,255,0.6) inset, 0 8px 22px rgba(0,0,0,0.2);
      transform: rotate(12deg);
    }
    .vibe880 .brand b {
      font: 800 12px/1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      letter-spacing: .16em; text-transform: uppercase;
      color: color-mix(in oklab, var(--fg) 88%, var(--muted));
      opacity: .95;
    }

    /* Controls */
    .vibe880 .controls {
      display: flex; flex-wrap: wrap; gap: 8px;
    }
    .vibe880 .pill {
      appearance: none; border: 1px solid var(--line); background: linear-gradient(180deg, var(--panel), color-mix(in oklab, var(--panel) 70%, transparent));
      backdrop-filter: blur(10px) saturate(115%);
      color: var(--fg); border-radius: 999px; padding: 10px 12px;
      font: 700 11px/1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      letter-spacing: .12em; text-transform: uppercase; cursor: pointer;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.45);
      transition: transform 160ms ease, box-shadow 220ms ease, background 220ms ease;
    }
    .vibe880 .pill:hover { transform: translateY(-1px); }
    .vibe880 .pill:focus-visible { outline: none; box-shadow: 0 0 0 3px var(--ring); }

    .vibe880 .hero {
      border: 1px solid var(--line);
      background: linear-gradient(180deg, var(--panel), color-mix(in oklab, var(--panel) 60%, transparent));
      backdrop-filter: blur(12px) saturate(115%);
      border-radius: 22px;
      padding: 18px 18px 14px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.4), 0 12px 36px rgba(0,0,0,0.18);
    }
    .vibe880 h1 {
      margin: 0 0 6px;
      font: 900 clamp(28px, 5vw, 56px)/1.04 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      letter-spacing: -0.02em;
      background: linear-gradient(180deg, var(--fg), color-mix(in oklab, var(--fg) 70%, var(--muted)));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      text-shadow: 0 1px 0 rgba(255,255,255,0.35);
    }
    .vibe880 .sub {
      margin: 0;
      color: var(--muted);
      font: 500 14px/1.55 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
    }

    /* Panel actions */
    .vibe880 .panel {
      display: grid; gap: 14px; grid-template-columns: 1.2fr .8fr;
      margin-top: 14px;
    }
    @media (max-width: 760px) { .vibe880 .panel { grid-template-columns: 1fr; } }

    .vibe880 .actionbar {
      display: flex; flex-wrap: wrap; gap: 10px;
    }
    .vibe880 .btn {
      appearance: none; border: 0; cursor: pointer; border-radius: 14px;
      padding: 12px 16px;
      font: 800 13px/1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      letter-spacing: .02em;
      transition: transform 160ms ease, box-shadow 220ms ease, background 220ms ease;
    }
    .vibe880 .btn.primary {
      color: #0a1018;
      background: linear-gradient(180deg, color-mix(in oklab, var(--orbit-a) 75%, white 8%), color-mix(in oklab, var(--orbit-b) 55%, black 0%));
      text-shadow: 0 1px 0 rgba(255,255,255,0.5);
      box-shadow: 0 12px 28px color-mix(in oklab, var(--orbit-a) 28%, black 60%);
    }
    .vibe880 .btn.ghost {
      color: var(--fg);
      background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0.25));
      border: 1px solid var(--line);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.45);
    }
    .vibe880 .btn:hover { transform: translateY(-1px); }
    .vibe880 .btn:focus-visible { outline: none; box-shadow: 0 0 0 3px var(--ring), 0 8px 24px rgba(0,0,0,0.25); }

    /* Tempo slider */
    .vibe880 .tempo {
      display: grid; align-content: start; gap: 10px;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, var(--panel), color-mix(in oklab, var(--panel) 60%, transparent));
      border-radius: 18px; padding: 14px;
      backdrop-filter: blur(12px) saturate(115%);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.4);
    }
    .vibe880 .tempo label {
      font: 700 11px/1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      letter-spacing: .18em; text-transform: uppercase; color: color-mix(in oklab, var(--fg) 75%, var(--muted));
    }
    .vibe880 input[type="range"] {
      -webkit-appearance: none; appearance: none; width: 100%;
      height: 6px; border-radius: 999px; outline: none; cursor: pointer;
      background: linear-gradient(90deg, var(--orbit-a), var(--orbit-b), var(--orbit-c));
    }
    .vibe880 input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none; appearance: none;
      width: 18px; height: 18px; border-radius: 50%;
      background: #fff; border: 2px solid color-mix(in oklab, var(--accent) 70%, white 10%);
      box-shadow: 0 6px 16px rgba(0,0,0,0.25);
    }
    .vibe880 input[type="range"]::-moz-range-thumb {
      width: 18px; height: 18px; border-radius: 50%;
      background: #fff; border: 2px solid color-mix(in oklab, var(--accent) 70%, white 10%);
      box-shadow: 0 6px 16px rgba(0,0,0,0.25);
    }

    /* Stats */
    .vibe880 .stats {
      margin-top: 12px;
      display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 10px;
    }
    .vibe880 .stat {
      border: 1px solid var(--line);
      background: linear-gradient(180deg, var(--panel), color-mix(in oklab, var(--panel) 60%, transparent));
      border-radius: 16px; padding: 12px;
      backdrop-filter: blur(10px) saturate(115%);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.4);
    }
    .vibe880 .stat b {
      display: block; font: 800 22px/1.1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
      letter-spacing: -0.01em; color: var(--fg);
    }
    .vibe880 .stat span {
      display: block; margin-top: 2px; color: var(--muted);
      font: 600 12px/1.4 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
      letter-spacing: .08em; text-transform: uppercase;
    }

    .vibe880 .foot {
      margin-top: 14px; display: flex; align-items: center; justify-content: space-between; gap: 12px;
      color: var(--muted);
      font: 500 12px/1.45 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto;
    }
    .vibe880 .hint {
      display: inline-flex; align-items: center; gap: 8px;
    }
    .vibe880 .hint .dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--orbit-c);
      box-shadow: 0 0 14px color-mix(in oklab, var(--orbit-c) 70%, transparent);
      animation: breathe 3s ease-in-out infinite;
    }
    @keyframes breathe { 0%,100% { transform: scale(.9); opacity: .8 } 50% { transform: scale(1.15); opacity: 1 } }

    /* Motion respect */
    @media (prefers-reduced-motion: reduce) {
      .vibe880 .orbits { display: none; }
      .vibe880 .pill, .vibe880 .btn { transition: none; }
      .vibe880 .hint .dot { animation: none; }
    }
  </style>

  <canvas class="orbits" aria-hidden="true"></canvas>
  <div class="mesh" aria-hidden="true"></div>

  <div class="chrome" role="region" aria-label="Orbitarium 880">
    <div class="topline">
      <div class="brand">
        <span class="logo" aria-hidden="true"></span>
        <b>Orbitarium • 880</b>
      </div>
      <div class="controls">
        <button class="pill" data-action="toggle-mode" aria-pressed="false" title="Toggle Dawn/Dusk">Dawn</button>
        <button class="pill" data-action="toggle-trails" aria-pressed="true" title="Toggle motion trails">Trails: On</button>
        <button class="pill" data-action="add" title="Add a satellite">+ Satellite</button>
        <button class="pill" data-action="center" title="Re-center gravity">Center</button>
      </div>
    </div>

    <section class="hero" aria-label="Headline">
      <h1>Quiet Orbits, Clear Focus</h1>
      <p class="sub">A kinetic study in balance. Motion that invites—not insists. Hold and drag to bend gravity.</p>

      <div class="panel" aria-label="Actions and tempo">
        <div class="actionbar">
          <button class="btn primary" data-action="burst">Radiate</button>
          <button class="btn ghost" data-action="shuffle">Remix</button>
        </div>
        <div class="tempo">
          <label for="tempoRange">Tempo</label>
          <input id="tempoRange" type="range" min="0.2" max="2.0" step="0.05" value="1.0" aria-label="Tempo control">
        </div>
      </div>

      <div class="stats" role="list">
        <div class="stat" role="listitem"><b data-stat="count">—</b><span>Satellites</span></div>
        <div class="stat" role="listitem"><b data-stat="tempo">1.00×</b><span>Tempo</span></div>
        <div class="stat" role="listitem"><b data-stat="trail">On</b><span>Trails</span></div>
      </div>
    </section>

    <div class="foot">
      <div class="hint"><span class="dot" aria-hidden="true"></span><span>Drag inside to tug the system. Click Radiate to ripple.</span></div>
      <span id="last-updated">Last updated: 2025-11-25 18:16:50 EST</span>
    </div>
  </div>

  <script>
    (function() {
      const root = document.currentScript.closest('.vibe880');
      const canvas = root.querySelector('.orbits');
      const ctx = canvas.getContext('2d');
      const modeBtn = root.querySelector('[data-action="toggle-mode"]');
      const trailsBtn = root.querySelector('[data-action="toggle-trails"]');
      const addBtn = root.querySelector('[data-action="add"]');
      const centerBtn = root.querySelector('[data-action="center"]');
      const burstBtn = root.querySelector('[data-action="burst"]');
      const shuffleBtn = root.querySelector('[data-action="shuffle"]');
      const tempoRange = root.querySelector('#tempoRange');
      const statCount = root.querySelector('[data-stat="count"]');
      const statTempo = root.querySelector('[data-stat="tempo"]');
      const statTrail = root.querySelector('[data-stat="trail"]');
      const stamp = root.querySelector('#last-updated');

      // Timestamp
      try {
        const d = new Date();
        const fmt = new Intl.DateTimeFormat(undefined, { year:'numeric', month:'short', day:'2-digit', hour:'2-digit', minute:'2-digit', timeZoneName:'short' });
        stamp.textContent = 'Last updated: ' + fmt.format(d);
      } catch {
        stamp.textContent = 'Last updated: ' + new Date().toLocaleString();
      }

      // Sizing
      let dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      let W=0, H=0, CX=0, CY=0;
      function resize() {
        const r = root.getBoundingClientRect();
        W = Math.max(320, Math.floor(r.width));
        H = Math.max(260, Math.floor(r.height));
        CX = W/2; CY = H/2;
        canvas.width = Math.floor(W * dpr);
        canvas.height = Math.floor(H * dpr);
        canvas.style.width = W + 'px';
        canvas.style.height = H + 'px';
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      }
      resize();
      window.addEventListener('resize', resize, { passive: true });

      // Theme colors
      function readColors() {
        const cs = getComputedStyle(root);
        return {
          a: cs.getPropertyValue('--orbit-a').trim(),
          b: cs.getPropertyValue('--orbit-b').trim(),
          c: cs.getPropertyValue('--orbit-c').trim(),
          fg: cs.getPropertyValue('--fg').trim(),
          isDusk: root.getAttribute('data-mode') === 'dusk'
        };
      }
      let colors = readColors();

      // System
      const sats = [];
      const rnd = (n=1)=>Math.random()*n;
      const pick = arr => arr[(Math.random()*arr.length)|0];

      function addSat(options={}) {
        const baseR = Math.min(W, H) * (0.18 + rnd(0.32));
        sats.push({
          r: options.r ?? baseR,
          a: rnd(Math.PI*2),
          s: options.s ?? (0.002 + rnd(0.004)), // radians per frame-ish
          size: options.size ?? (2.2 + rnd(2.6)),
          hue: options.hue ?? pick([colors.a, colors.b, colors.c]),
          wobble: rnd(2*Math.PI),
          ecc: 0.04 + rnd(0.08)
        });
        updateStats();
      }

      function seed(n=7) {
        sats.length = 0;
        for (let i=0;i<n;i++) addSat();
      }

      // Interaction
      let trails = true;
      let tempo = 1.0;
      let gravity = { x: 0, y: 0, targetX: 0, targetY: 0 };
      let dragging = false;

      function updateStats() {
        statCount.textContent = String(sats.length);
        statTempo.textContent = tempo.toFixed(2) + '×';
        statTrail.textContent = trails ? 'On' : 'Off';
      }

      seed(8);

      // Draw
      const prefersReduced = window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      function fadeBackground() {
        ctx.globalCompositeOperation = 'source-over';
        const alpha = trails ? (colors.isDusk ? 0.10 : 0.08) : 1;
        // Fade instead of clear for trails
        ctx.fillStyle = (colors.isDusk ? 'rgba(6,8,13,'+alpha+')' : 'rgba(255,248,243,'+alpha+')');
        ctx.fillRect(0,0,W,H);
      }

      function drawHalo() {
        const g = ctx.createRadialGradient(CX + gravity.x*0.6, CY + gravity.y*0.6, 10, CX + gravity.x*0.6, CY + gravity.y*0.6, Math.min(W,H)*0.6);
        g.addColorStop(0, (colors.isDusk ? 'rgba(255,255,255,0.10)' : 'rgba(255,255,255,0.22)'));
        g.addColorStop(1, 'rgba(0,0,0,0)');
        ctx.fillStyle = g;
        ctx.beginPath();
        ctx.arc(CX + gravity.x*0.6, CY + gravity.y*0.6, Math.min(W,H)*0.6, 0, Math.PI*2);
        ctx.fill();
      }

      function drawOrbits() {
        // Orbit rings
        ctx.lineWidth = 1;
        ctx.strokeStyle = colors.isDusk ? 'rgba(255,255,255,0.13)' : 'rgba(20,24,38,0.1)';
        for (let i=0; i<5; i++) {
          const rad = Math.min(W,H) * (0.16 + i*0.11);
          ctx.beginPath();
          ctx.ellipse(CX + gravity.x*0.2, CY + gravity.y*0.2, rad, rad*(1 - 0.02), 0, 0, Math.PI*2);
          ctx.stroke();
        }
      }

      function step() {
        if (prefersReduced) return; // Respect reduced motion
        if (!trails) ctx.clearRect(0,0,W,H);
        fadeBackground();
        drawHalo();
        drawOrbits();

        // relax gravity target for smoothness
        gravity.x += (gravity.targetX - gravity.x) * 0.06;
        gravity.y += (gravity.targetY - gravity.y) * 0.06;

        for (const s of sats) {
          // Update angle with tempo and slight wobble
          s.a += s.s * tempo;
          s.wobble += 0.01 * tempo;

          const wob = 1 + Math.sin(s.wobble) * s.ecc;
          const R = s.r * wob;

          const x = CX + gravity.x + Math.cos(s.a) * R;
          const y = CY + gravity.y + Math.sin(s.a) * (R * (1 - 0.02)); // slightly elliptical

          // Trail comet
          ctx.beginPath();
          const tail = ctx.createRadialGradient(x, y, 1, x, y, 18);
          tail.addColorStop(0, s.hue);
          tail.addColorStop(1, 'rgba(0,0,0,0)');
          ctx.fillStyle = tail;
          ctx.arc(x, y, s.size * 1.2, 0, Math.PI*2);
          ctx.fill();

          // Satellite core
          ctx.beginPath();
          ctx.fillStyle = s.hue;
          ctx.shadowColor = s.hue;
          ctx.shadowBlur = 10;
          ctx.arc(x, y, s.size, 0, Math.PI*2);
          ctx.fill();
          ctx.shadowBlur = 0;
        }

        requestAnimationFrame(step);
      }
      requestAnimationFrame(step);

      // Pointer gravity
      function toLocal(e) {
        const rect = canvas.getBoundingClientRect();
        const x = (e.touches ? e.touches[0].clientX : e.clientX) - rect.left;
        const y = (e.touches ? e.touches[0].clientY : e.clientY) - rect.top;
        return { x, y, rect };
      }
      function onMove(e) {
        const { x, y, rect } = toLocal(e);
        if (dragging) {
          gravity.targetX = (x - rect.width/2) * 0.35;
          gravity.targetY = (y - rect.height/2) * 0.35;
        }
      }
      function onDown(e) { dragging = true; onMove(e); }
      function onUp() { dragging = false; gravity.targetX *= 0.9; gravity.targetY *= 0.9; }

      root.addEventListener('pointerdown', onDown);
      root.addEventListener('pointermove', onMove);
      root.addEventListener('pointerup', onUp);
      root.addEventListener('pointerleave', onUp);
      root.addEventListener('touchstart', onDown, { passive: true });
      root.addEventListener('touchmove', onMove, { passive: true });
      root.addEventListener('touchend', onUp, { passive: true });

      // Actions
      modeBtn.addEventListener('click', () => {
        const isDusk = root.getAttribute('data-mode') === 'dusk';
        root.setAttribute('data-mode', isDusk ? 'dawn' : 'dusk');
        modeBtn.textContent = isDusk ? 'Dawn' : 'Dusk';
        modeBtn.setAttribute('aria-pressed', String(!isDusk));
        colors = readColors();
      });

      trailsBtn.addEventListener('click', () => {
        trails = !trails;
        trailsBtn.textContent = 'Trails: ' + (trails ? 'On' : 'Off');
        trailsBtn.setAttribute('aria-pressed', String(trails));
        updateStats();
      });

      addBtn.addEventListener('click', () => {
        addSat();
      });

      centerBtn.addEventListener('click', () => {
        gravity.targetX = 0; gravity.targetY = 0;
      });

      burstBtn.addEventListener('click', () => {
        // Radiate: push satellites outward briefly
        for (const s of sats) {
          s.ecc = 0.12 + Math.random()*0.15;
          s.s *= 1.08;
        }
        setTimeout(() => { for (const s of sats) s.ecc = 0.04 + Math.random()*0.08; }, 900);
      });

      shuffleBtn.addEventListener('click', () => {
        // Remix hues and speeds
        colors = readColors();
        for (const s of sats) {
          s.hue = pick([colors.a, colors.b, colors.c]);
          s.s = 0.0015 + Math.random()*0.005;
        }
      });

      tempoRange.addEventListener('input', () => {
        tempo = parseFloat(tempoRange.value) || 1;
        updateStats();
      });

      updateStats();
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


