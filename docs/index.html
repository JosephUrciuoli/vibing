<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="sonata-1177" id="a1177" aria-label="Orbital Studio">
  <style>
    .sonata-1177 {
      --mx: .5; --my: .5; --tempo: 1;
      --ink: #0d1222; --muted: #7b89a6;
      --bg1: #060914; --bg2: #0e1530;
      --c1: #91e5ff; --c2: #8aa0ff; --c3: #ffd59a;
      --glass: rgba(255,255,255,.08); --border: rgba(255,255,255,.12);
      color: #e9f2ff; position: relative; min-height: 640px; border-radius: 28px; overflow: hidden; isolation: isolate;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans";
      background:
        radial-gradient(900px 700px at calc(var(--mx)*100%) calc(var(--my)*100%), color-mix(in oklab, var(--c1) 14%, transparent), transparent 60%),
        radial-gradient(700px 600px at calc((1 - var(--mx))*100%) calc((1 - var(--my))*100%), color-mix(in oklab, var(--c2) 12%, transparent), transparent 65%),
        linear-gradient(180deg, var(--bg1), var(--bg2) 70%);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
    }
    .sonata-1177[data-theme="dawn"] {
      --ink: #1b0f06; --muted: #7c6e5d; --bg1: #fff6ea; --bg2: #ffe8c9;
      --c1: #ffb47a; --c2: #ff6aa3; --c3: #78f2b1; color: #1b0f06;
      --glass: rgba(255,255,255,.7); --border: rgba(27,16,6,.18);
    }
    .sonata-1177[data-theme="mint"] {
      --ink: #09120e; --muted: #557268; --bg1: #e9fff6; --bg2: #dcfff0;
      --c1: #53ffd1; --c2: #74b8ff; --c3: #ffe79e; color: #09120e;
      --glass: rgba(255,255,255,.75); --border: rgba(9,18,14,.16);
    }

    /* Ambient */
    .sonata-1177 .aurora { position: absolute; inset: 0; z-index: 0; pointer-events: none; }
    .sonata-1177 .aurora .blob {
      position: absolute; filter: blur(70px); opacity: .35; mix-blend-mode: screen;
      animation: a1177-drift calc(30s/var(--tempo)) ease-in-out infinite alternate;
    }
    .sonata-1177 .aurora .b1 {
      width: 44vmax; height: 44vmax; left: -12vmax; top: -16vmax;
      background: radial-gradient(circle at 40% 40%, var(--c1), transparent 60%);
    }
    .sonata-1177 .aurora .b2 {
      width: 48vmax; height: 48vmax; right: -16vmax; bottom: -16vmax;
      background: radial-gradient(circle at 60% 60%, var(--c2), transparent 65%);
      animation-duration: calc(38s/var(--tempo));
    }
    .sonata-1177 .grain {
      position: absolute; inset: 0; pointer-events: none; opacity: .08; mix-blend-mode: soft-light;
      background-image:
        radial-gradient(1px 1px at 20% 36%, #fff 30%, transparent 31%),
        radial-gradient(1px 1px at 66% 72%, #fff 30%, transparent 31%),
        radial-gradient(1px 1px at 42% 18%, #fff 30%, transparent 31%);
      background-size: 140px 140px, 180px 180px, 220px 220px;
      animation: a1177-grain calc(28s/var(--tempo)) linear infinite;
      z-index: 0;
    }

    /* Top bar */
    .sonata-1177 .bar {
      position: relative; z-index: 2; display: flex; align-items: center; justify-content: space-between; gap: 16px;
      margin: 18px; padding: 16px 18px; border-radius: 16px;
      background: linear-gradient(180deg, var(--glass), color-mix(in oklab, var(--glass) 40%, transparent));
      border: 1px solid var(--border); backdrop-filter: blur(14px) saturate(115%); box-shadow: 0 18px 50px rgba(0,0,0,.25);
    }
    .sonata-1177 .brand { display: inline-flex; align-items: center; gap: 12px; user-select: none; }
    .sonata-1177 .brand .glyph {
      width: 18px; height: 18px; border-radius: 4px;
      background: conic-gradient(from 0deg, var(--c1), var(--c2), var(--c3), var(--c2));
      box-shadow: 0 0 16px color-mix(in oklab, var(--c1) 50%, transparent);
      animation: a1177-spin calc(8s/var(--tempo)) linear infinite;
    }
    .sonata-1177 .brand strong { letter-spacing: .4px; font-weight: 900; font-size: 14px; opacity: .9; }
    .sonata-1177 .brand .sub { font-size: 11px; color: var(--muted); letter-spacing: .3px; }

    .sonata-1177 .actions { display: flex; align-items: center; gap: 8px; flex-wrap: wrap; }
    .sonata-1177 .chip, .sonata-1177 .btn {
      appearance: none; border: 1px solid var(--border); color: inherit; cursor: pointer;
      background: color-mix(in oklab, var(--glass) 75%, transparent); border-radius: 12px; padding: 8px 12px; font-weight: 800; letter-spacing: .3px;
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
    }
    .sonata-1177 .chip[aria-pressed="true"] {
      background: linear-gradient(180deg, color-mix(in oklab, var(--c1) 28%, transparent), color-mix(in oklab, var(--c2) 20%, transparent));
      color: color-mix(in oklab, var(--ink) 90%, #fff);
      border-color: color-mix(in oklab, var(--c1) 50%, var(--border));
      text-shadow: 0 1px 0 rgba(255,255,255,.35);
    }
    .sonata-1177 .btn:hover, .sonata-1177 .chip:hover { transform: translateY(-1px); box-shadow: 0 12px 22px rgba(0,0,0,.18); }

    /* Hero */
    .sonata-1177 .hero {
      position: relative; z-index: 2; margin: 10px 18px 18px; padding: 20px 18px; border-radius: 16px;
      background: linear-gradient(180deg, color-mix(in oklab, var(--glass) 70%, transparent), color-mix(in oklab, var(--glass) 40%, transparent));
      border: 1px solid var(--border); backdrop-filter: blur(14px) saturate(115%); box-shadow: 0 18px 50px rgba(0,0,0,.25);
      display: grid; grid-template-columns: 1fr auto; gap: 16px; align-items: end;
    }
    .sonata-1177 .hero h1 {
      margin: 0; font-size: clamp(28px, 8vw, 72px); line-height: .98; letter-spacing: -0.6px;
      background: linear-gradient(90deg, currentColor, color-mix(in oklab, var(--c1) 55%, currentColor) 40%, color-mix(in oklab, var(--c2) 55%, currentColor));
      -webkit-background-clip: text; background-clip: text; color: transparent; filter: drop-shadow(0 1px 0 rgba(255,255,255,.2));
    }
    .sonata-1177 .hero p { margin: 6px 0 0; color: var(--muted); font-size: 14px; }
    .sonata-1177 .controls { display: flex; align-items: center; gap: 10px; }
    .sonata-1177 .controls label { font-size: 12px; color: var(--muted); }
    .sonata-1177 .controls input[type="range"] { width: 190px; accent-color: var(--c2); background: transparent; }

    /* Stage */
    .sonata-1177 .stage-wrap { position: relative; z-index: 2; margin: 0 18px 18px; }
    .sonata-1177 .stage {
      position: relative; height: clamp(360px, 58vmin, 560px); border-radius: 18px; overflow: hidden;
      border: 1px solid var(--border); background: color-mix(in oklab, var(--glass) 60%, transparent);
      backdrop-filter: blur(12px) saturate(120%); box-shadow: 0 18px 50px rgba(0,0,0,.25);
      perspective: 1000px; transform-style: preserve-3d;
    }
    .sonata-1177 .center {
      position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);
      width: min(28vmin, 180px); height: min(28vmin, 180px); border-radius: 50%;
      background: radial-gradient(circle at 35% 35%, color-mix(in oklab, var(--c3) 60%, white) 0%, transparent 62%);
      filter: blur(1px) saturate(1.1); box-shadow: inset 0 0 0 1px var(--border), 0 0 48px color-mix(in oklab, var(--c3) 45%, transparent);
    }
    .sonata-1177 .time-ring {
      position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);
      width: min(40vmin, 260px); height: min(40vmin, 260px); border-radius: 50%;
      background: conic-gradient(var(--c1) var(--time, 0deg), color-mix(in oklab, currentColor 25%, transparent) var(--time, 0deg));
      mask: radial-gradient(circle at 50% 50%, transparent 60%, black 62%, black 100%);
      opacity: .9; filter: drop-shadow(0 0 10px color-mix(in oklab, var(--c1) 45%, transparent));
      transition: filter .4s ease;
    }

    .sonata-1177 .orbit {
      position: absolute; left: 50%; top: 50%; transform: translate(-50%, -50%);
      border-radius: 50%; pointer-events: none; opacity: .9;
      animation: a1177-orbit var(--spd, 20s) linear infinite;
      filter: drop-shadow(0 10px 30px rgba(0,0,0,.25));
    }
    .sonata-1177 .orbit::before {
      content: ""; position: absolute; inset: 0; border-radius: 50%;
      background:
        radial-gradient(circle at 50% 50%, rgba(255,255,255,.16), rgba(255,255,255,0) 60%),
        conic-gradient(from 0deg, color-mix(in oklab, var(--c2) 30%, transparent), transparent 60%);
      mask: radial-gradient(circle, transparent calc(100% - 2px), black calc(100% - 1px));
      opacity: .4;
    }
    .sonata-1177 .planet {
      position: absolute; left: 50%; top: 50%;
      transform: translate(-50%, -50%) translateX(var(--r, 80px));
      width: var(--size, 16px); height: var(--size, 16px); border-radius: 50%;
      background:
        radial-gradient(circle at 35% 35%, #fff 0%, color-mix(in oklab, var(--c1) 45%, var(--c2)) 30%, color-mix(in oklab, var(--c2) 40%, var(--c3)) 70%, transparent 72%);
      box-shadow:
        inset -2px -2px 6px rgba(0,0,0,.15),
        0 0 24px color-mix(in oklab, var(--c1) 65%, transparent),
        0 10px 24px rgba(0,0,0,.25);
      animation: a1177-bob calc(6s/var(--tempo)) ease-in-out infinite alternate;
      pointer-events: auto;
    }
    .sonata-1177 .planet:hover { filter: brightness(1.15) saturate(1.1); }

    /* Footer */
    .sonata-1177 .meta {
      position: relative; z-index: 2; display: flex; align-items: center; justify-content: space-between; gap: 12px;
      margin: 0 18px 18px; padding: 10px 14px; font-size: 12px; color: var(--muted);
      border: 1px solid var(--border); border-radius: 12px; background: color-mix(in oklab, var(--glass) 65%, transparent); backdrop-filter: blur(10px);
    }

    /* Motion control */
    .sonata-1177.paused * { animation-play-state: paused !important; }

    /* Keyframes */
    @keyframes a1177-drift {
      0% { transform: translate(0,0) rotate(0deg) scale(1); }
      50% { transform: translate(2vw, -2vh) rotate(12deg) scale(1.06); }
      100% { transform: translate(-2vw, 2vh) rotate(24deg) scale(1.12); }
    }
    @keyframes a1177-grain {
      0% { background-position: 0 0, 0 0, 0 0; }
      100% { background-position: 220px 180px, -140px 160px, 180px -220px; }
    }
    @keyframes a1177-spin { to { transform: rotate(360deg); } }
    @keyframes a1177-orbit { to { transform: translate(-50%, -50%) rotate(360deg); } }
    @keyframes a1177-bob { 0% { transform: translate(-50%,-50%) translateX(var(--r)) translateY(0); } 100% { transform: translate(-50%,-50%) translateX(var(--r)) translateY(6px); } }
  </style>

  <div class="aurora" aria-hidden="true">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="grain"></div>
  </div>

  <div class="bar" role="toolbar" aria-label="Theme and Motion">
    <div class="brand">
      <i class="glyph" aria-hidden="true"></i>
      <strong>Orbital Studio</strong>
      <span class="sub">Generative Orrery</span>
    </div>
    <div class="actions">
      <button class="chip" data-theme="nocturne" aria-pressed="true">Nocturne</button>
      <button class="chip" data-theme="dawn" aria-pressed="false">Dawn</button>
      <button class="chip" data-theme="mint" aria-pressed="false">Mint</button>
      <button class="btn" id="a1177-shuffle">Remix</button>
      <button class="btn" id="a1177-pause">Pause</button>
    </div>
  </div>

  <div class="hero" role="region" aria-label="Headline and Controls">
    <div>
      <h1>Planets that listen to your cursor</h1>
      <p>Drag your gaze; the sky tilts. Set the tempo; orbits sing. Each remix rearranges the cosmos.</p>
    </div>
    <div class="controls">
      <label for="a1177-tempo">Tempo</label>
      <input id="a1177-tempo" type="range" min="0.6" max="1.8" step="0.01" value="1" aria-valuemin="0.6" aria-valuemax="1.8" aria-valuenow="1">
    </div>
  </div>

  <div class="stage-wrap">
    <div class="stage" id="a1177-stage" aria-live="polite" aria-label="Interactive orrery">
      <div class="time-ring" aria-hidden="true"></div>
      <div class="center" aria-hidden="true"></div>
      <!-- orbits injected here -->
    </div>
  </div>

  <div class="meta">
    <span id="last-updated">Last updated: 2025-12-09 12:19:07 EST</span>
    <span>Tip: Space pauses â€¢ Remix reshuffles the sky</span>
  </div>

  <script>
    (() => {
      const root = document.getElementById('a1177');
      const stage = root.querySelector('#a1177-stage');
      const tempo = root.querySelector('#a1177-tempo');
      const pauseBtn = root.querySelector('#a1177-pause');
      const shuffleBtn = root.querySelector('#a1177-shuffle');
      const chips = root.querySelectorAll('.chip[data-theme]');
      const timeRing = root.querySelector('.time-ring');
      const lu = root.querySelector('#last-updated');

      // Timestamp
      try {
        const d = new Date();
        const fmt = new Intl.DateTimeFormat([], { year:'numeric', month:'2-digit', day:'2-digit', hour:'2-digit', minute:'2-digit', second:'2-digit', timeZoneName:'short' });
        lu.textContent = 'Last updated: ' + fmt.format(d);
      } catch {
        lu.textContent = 'Last updated: ' + new Date().toLocaleString();
      }

      // Theme init
      const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
      setTheme(prefersLight ? 'mint' : 'nocturne');
      chips.forEach(btn => btn.addEventListener('click', () => setTheme(btn.dataset.theme)));
      function setTheme(name) {
        chips.forEach(c => c.setAttribute('aria-pressed', c.dataset.theme === name ? 'true' : 'false'));
        if (name === 'nocturne') root.removeAttribute('data-theme');
        else root.setAttribute('data-theme', name);
        root.animate([{ transform: 'scale(1)' }, { transform: 'scale(1.01)' }, { transform: 'scale(1)' }], { duration: 260, easing: 'ease-out' });
        remix(true);
      }

      // Pointer reactive light and tilt
      const onMove = (e) => {
        const r = root.getBoundingClientRect();
        const x = (e.clientX - r.left) / r.width;
        const y = (e.clientY - r.top) / r.height;
        root.style.setProperty('--mx', Math.max(0, Math.min(1, x)).toFixed(3));
        root.style.setProperty('--my', Math.max(0, Math.min(1, y)).toFixed(3));
        const tiltX = (0.5 - y) * 8;
        const tiltY = (x - 0.5) * 8;
        stage.style.transform = `rotateX(${tiltX}deg) rotateY(${tiltY}deg)`;
      };
      root.addEventListener('pointermove', onMove);

      // Tempo control
      tempo.addEventListener('input', () => {
        root.style.setProperty('--tempo', tempo.value);
        tempo.setAttribute('aria-valuenow', tempo.value);
      });

      // Pause control
      let paused = false;
      const setPaused = (p) => {
        paused = p;
        root.classList.toggle('paused', paused);
        pauseBtn.textContent = paused ? 'Resume' : 'Pause';
      };
      pauseBtn.addEventListener('click', () => setPaused(!paused));
      window.addEventListener('keydown', (e) => {
        if (e.code === 'Space') { e.preventDefault(); setPaused(!paused); }
      }, { passive: false });

      // Build system
      function rand(min, max) { return Math.random() * (max - min) + min; }
      function randint(min, max) { return Math.floor(rand(min, max)); }
      function buildSystem() {
        // Clear old
        stage.querySelectorAll('.orbit').forEach(n => n.remove());
        const size = Math.min(stage.clientWidth, stage.clientHeight);
        const maxR = size * 0.45;
        const minR = size * 0.18;

        const count = randint(6, 10);
        const radii = [];
        for (let i = 0; i < count; i++) {
          radii.push(rand(minR + 10, maxR - 6));
        }
        radii.sort((a,b)=>a-b);

        radii.forEach((radius, i) => {
          const orbit = document.createElement('div');
          orbit.className = 'orbit';
          orbit.style.width = `${radius*2}px`;
          orbit.style.height = `${radius*2}px`;
          const baseSpd = rand(12, 34);
          orbit.style.setProperty('--spd', `calc(${baseSpd}s/var(--tempo))`);

          const planet = document.createElement('button');
          planet.className = 'planet';
          const size = rand(12, 28);
          planet.style.setProperty('--size', `${size}px`);
          planet.style.setProperty('--r', `${radius}px`);
          planet.setAttribute('type', 'button');
          planet.setAttribute('aria-label', `Planet ${i+1}, orbit radius ${Math.round(radius)}px`);

          // tactile ripple
          planet.addEventListener('pointerdown', (ev) => {
            const ripple = document.createElement('span');
            ripple.style.cssText = `
              position:absolute; inset:0; border-radius:50%;
              background: radial-gradient(circle at 50% 50%, rgba(255,255,255,.65), rgba(255,255,255,0) 70%);
              pointer-events:none; opacity:.8; transform: scale(0.8); transition: opacity .5s ease, transform .5s ease;
            `;
            planet.appendChild(ripple);
            requestAnimationFrame(() => { ripple.style.transform = 'scale(1.4)'; ripple.style.opacity = '0'; });
            setTimeout(()=> ripple.remove(), 520);
          });

          orbit.appendChild(planet);
          stage.appendChild(orbit);
        });
      }

      // Remix with animation
      function remix(animated=false) {
        if (animated) {
          stage.animate([{ opacity: 1, filter: 'blur(0px)' }, { opacity: 0, filter: 'blur(8px)' }], { duration: 160, easing: 'ease', fill: 'forwards' }).onfinish = () => {
            buildSystem();
            stage.animate([{ opacity: 0, filter: 'blur(8px)' }, { opacity: 1, filter: 'blur(0px)' }], { duration: 220, easing: 'ease-out', fill: 'forwards' });
          };
        } else {
          buildSystem();
        }
      }
      shuffleBtn.addEventListener('click', () => remix(true));
      window.addEventListener('keydown', (e) => { if (e.key.toLowerCase() === 'r') remix(true); });

      // Time ring updater
      const updateTime = () => {
        const now = new Date();
        const dayProgress = (now.getHours()*3600 + now.getMinutes()*60 + now.getSeconds()) / 86400;
        const deg = (dayProgress * 360).toFixed(2) + 'deg';
        timeRing.style.setProperty('--time', deg);
      };
      setInterval(updateTime, 1000);
      updateTime();

      // Initial render
      const init = () => remix(false);
      if (document.readyState !== 'loading') init(); else document.addEventListener('DOMContentLoaded', init);

      // Responsive rebuild
      let resizeTO;
      window.addEventListener('resize', () => {
        clearTimeout(resizeTO);
        resizeTO = setTimeout(() => buildSystem(), 120);
      });

      // Gentle aurora breathing synced with pause
      const b1 = root.querySelector('.aurora .b1');
      const b2 = root.querySelector('.aurora .b2');
      let raf;
      const breathe = (t) => {
        if (!paused) {
          const k = (Math.sin(t / 1100) + 1) / 2; // 0..1
          const s1 = 1 + k * 0.06;
          const s2 = 1 + (1-k) * 0.08;
          b1.style.transform = `translate(0,0) scale(${s1})`;
          b2.style.transform = `translate(0,0) scale(${s2})`;
        }
        raf = requestAnimationFrame(breathe);
      };
      raf = requestAnimationFrame(breathe);
      window.addEventListener('unload', () => cancelAnimationFrame(raf));
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


