<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="atelier" data-mode="day" aria-label="Prismarium · 2093">
  <style>
    .atelier{
      --bgA:#f7fbff; --bgB:#eceffd; --ink:#0b1020; --muted:rgba(12,16,34,.66); --edge:rgba(12,16,34,.12);
      --glassA:rgba(255,255,255,.92); --glassB:rgba(255,255,255,.75);
      --p1:#7aa9ff; --p2:#6fead1; --p3:#ffd77a; --p4:#ff9fab; --p5:#c9a6ff;
      position:relative; display:grid; grid-template-rows:auto 1fr auto; gap:20px;
      min-height:88vh; padding:clamp(16px,4vw,44px); border-radius:34px; overflow:hidden; isolation:isolate;
      color:var(--ink); font-family: ui-sans-serif, -apple-system, BlinkMacSystemFont,"SF Pro Display","Segoe UI", Roboto, Helvetica, Arial;
      background:
        radial-gradient(1200px 900px at var(--px,52%) var(--py,42%), rgba(255,255,255,.85), transparent 60%),
        linear-gradient(180deg, var(--bgA), var(--bgB));
      border:1px solid var(--edge);
      box-shadow: 0 50px 160px rgba(12,14,40,.16), inset 0 1px 0 rgba(255,255,255,.95);
    }
    .atelier::before{
      content:""; position:absolute; inset:-28%; z-index:0; pointer-events:none; filter:blur(60px);
      background:
        conic-gradient(from 0deg at 30% 70%, rgba(127,232,210,.30), transparent 45%),
        conic-gradient(from 180deg at 80% 30%, rgba(150,175,255,.34), transparent 50%),
        radial-gradient(140% 120% at 50% 50%, rgba(255,190,175,.24), transparent 60%);
      opacity:.85; mix-blend-mode:overlay; animation: drift 26s ease-in-out infinite alternate;
    }
    .atelier::after{
      content:""; position:absolute; inset:0; z-index:0; pointer-events:none; opacity:.12;
      background:
        radial-gradient(circle at 12% 18%, rgba(0,0,0,.10) 0 1px, transparent 2px),
        radial-gradient(circle at 82% 78%, rgba(0,0,0,.08) 0 1px, transparent 2px);
      background-size:3px 3px, 4px 4px; mix-blend-mode:multiply;
    }
    @keyframes drift{ 0%{transform:translate3d(-1.5%,-1%,0) rotate(.8deg) scale(1.02);} 100%{transform:translate3d(1%,1.5%,0) rotate(-.6deg) scale(1.04);} }

    .nav{ position:relative; z-index:3; display:flex; align-items:center; justify-content:space-between; gap:14px; flex-wrap:wrap; }
    .brand{ display:flex; align-items:center; gap:14px; user-select:none; }
    .glyph{
      width:62px; height:62px; border-radius:20px; display:grid; place-items:center; position:relative; overflow:hidden;
      border:1px solid var(--edge);
      background:linear-gradient(180deg,var(--glassA),var(--glassB));
      box-shadow: inset 0 1px 0 rgba(255,255,255,.95), 0 16px 32px rgba(16,18,50,.14);
    }
    .glyph::before, .glyph::after{
      content:""; position:absolute; inset:10px; border-radius:14px; filter:drop-shadow(0 6px 18px rgba(0,0,0,.16));
    }
    .glyph::before{
      background: conic-gradient(from 0deg, var(--p1), var(--p2), var(--p3), var(--p4), var(--p5), var(--p1));
      mask: radial-gradient(closest-side, #000 calc(100% - 6px), transparent calc(100% - 5px));
      animation: spin 22s linear infinite;
      border:1px solid var(--edge);
    }
    .glyph::after{
      inset:22px; border-radius:50%;
      background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,.35));
      animation: spin 16s linear infinite reverse;
      border:1px solid var(--edge);
    }
    @keyframes spin{ to{ transform:rotate(360deg); } }

    .title{ display:flex; flex-direction:column; line-height:1; }
    .title b{ font-size:12px; letter-spacing:.3em; text-transform:uppercase; color:var(--muted); }
    .title span{ font-weight:1000; font-size:20px; letter-spacing:.02em; }

    .ctrl{ display:flex; align-items:center; gap:8px; }
    .btn{
      appearance:none; border:1px solid var(--edge); background:linear-gradient(180deg,var(--glassA),var(--glassB));
      color:var(--muted); border-radius:14px; padding:8px 12px; font-size:12px; cursor:pointer; user-select:none;
      box-shadow: inset 0 1px 0 rgba(255,255,255,.9), 0 10px 22px rgba(0,0,0,.08);
      transition: transform .08s ease, color .2s ease, background .2s ease, box-shadow .2s ease;
    }
    .btn.icon{ width:40px; height:40px; display:grid; place-items:center; padding:0; border-radius:12px; font-size:16px; }
    .btn:active{ transform:translateY(1px); }
    .btn[aria-pressed="true"]{ color:var(--ink); }

    .stage{
      position:relative; z-index:1; border:1px solid var(--edge); border-radius:26px; overflow:hidden;
      min-height:min(70vh,860px);
      background:linear-gradient(180deg, rgba(255,255,255,.96), rgba(255,255,255,.80));
      box-shadow: 0 28px 80px rgba(0,0,0,.12), inset 0 1px 0 rgba(255,255,255,.92);
    }
    canvas#prism{ position:absolute; inset:0; width:100%; height:100%; display:block; }

    .overlay{
      position:absolute; inset:auto 20px 20px 20px; z-index:2; max-width:72ch;
      padding:14px 16px; border-radius:18px; border:1px solid var(--edge);
      background:linear-gradient(180deg, rgba(255,255,255,.90), rgba(255,255,255,.70));
      box-shadow: inset 0 1px 0 rgba(255,255,255,.95), 0 12px 26px rgba(0,0,0,.10);
      transform: translate3d(0,0,0);
      will-change: transform;
    }
    .overlay h1{
      margin:0; line-height:.88; font-weight:1000; letter-spacing:-.01em;
      font-size: clamp(48px, 9vw, 140px);
      background: linear-gradient(90deg, var(--ink), var(--p4));
      -webkit-background-clip: text; background-clip:text; color:transparent;
      text-shadow: 0 16px 50px rgba(60,100,240,.16);
    }
    .overlay p{ margin:8px 0 12px 0; color:var(--muted); font-size:clamp(14px,2.2vw,18px); }
    .swatches{ display:flex; gap:8px; align-items:center; flex-wrap:wrap; }
    .swatch{ width:18px; height:18px; border-radius:50%; border:1px solid var(--edge); box-shadow: inset 0 1px 0 rgba(255,255,255,.85); }
    .swatch:nth-child(1){ background: var(--p1); }
    .swatch:nth-child(2){ background: var(--p2); }
    .swatch:nth-child(3){ background: var(--p3); }
    .swatch:nth-child(4){ background: var(--p4); }
    .swatch:nth-child(5){ background: var(--p5); }

    .tips{ position:absolute; inset:auto 16px 16px auto; z-index:2; display:flex; gap:8px; flex-wrap:wrap; }
    .chip{
      font-size:12px; color:var(--muted); border:1px dashed var(--edge); border-radius:999px; padding:6px 10px;
      background: linear-gradient(180deg, rgba(255,255,255,.98), rgba(255,255,255,.84));
      box-shadow: inset 0 1px 0 rgba(255,255,255,.95); user-select:none;
    }

    .meta{ position:relative; z-index:3; color:var(--muted); font-size:12px; display:flex; justify-content:space-between; align-items:center; gap:12px; flex-wrap:wrap; }
    .stamp{ display:inline-flex; align-items:center; gap:10px; padding:8px 12px; border-radius:14px; border:1px solid var(--edge);
      background: linear-gradient(180deg, rgba(255,255,255,.98), rgba(255,255,255,.84)); box-shadow: inset 0 1px 0 rgba(255,255,255,.95); }

    /* Night */
    .atelier[data-mode="night"]{
      --bgA:#0f1328; --bgB:#181c34; --ink:#eef2ff; --muted:rgba(238,242,255,.78); --edge:rgba(255,255,255,.14);
      --glassA:rgba(20,24,44,.86); --glassB:rgba(14,18,36,.72);
      box-shadow: 0 56px 160px rgba(0,0,0,.58), inset 0 1px 0 rgba(255,255,255,.08);
    }
    .atelier[data-mode="night"] .stage,
    .atelier[data-mode="night"] .overlay,
    .atelier[data-mode="night"] .chip,
    .atelier[data-mode="night"] .btn{
      background: linear-gradient(180deg, var(--glassA), var(--glassB));
      color:var(--muted);
      box-shadow: inset 0 1px 0 rgba(255,255,255,.08), 0 18px 40px rgba(0,0,0,.45);
      border-color:var(--edge);
    }
    .atelier[data-mode="night"] .overlay h1{
      background: linear-gradient(90deg, var(--ink), var(--p4));
      -webkit-background-clip:text; background-clip:text; color:transparent;
      text-shadow: 0 18px 60px rgba(60,100,240,.22);
    }

    /* Hide UI */
    .atelier.ui-min .overlay,
    .atelier.ui-min .tips{ opacity:0; pointer-events:none; transform:translateY(6px); transition:opacity .25s ease, transform .25s ease; }
    .atelier .overlay, .atelier .tips{ transition:opacity .25s ease, transform .25s ease; }

    .no-motion *, .no-motion::before, .no-motion::after{ animation:none !important; transition:none !important; }
    @media (prefers-reduced-motion: reduce){
      .atelier *{ animation:none !important; transition:none !important; }
      .atelier::before, .atelier::after{ animation:none !important; }
    }
  </style>

  <div class="nav" role="banner">
    <div class="brand" aria-label="Prismarium brand">
      <div class="glyph" aria-hidden="true"></div>
      <div class="title">
        <b>Prismarium</b>
        <span>Edition 2093</span>
      </div>
    </div>
    <div class="ctrl" role="group" aria-label="Display controls">
      <button class="btn icon" id="mode" title="Toggle day/night" aria-pressed="false">☼</button>
      <button class="btn" id="remix" title="Remix palette">Remix</button>
      <button class="btn" id="zen" title="Hide text (H)" aria-pressed="false">Zen</button>
    </div>
  </div>

  <section class="stage" aria-label="Kaleidoscope field">
    <canvas id="prism"></canvas>
    <div class="overlay" aria-live="polite">
      <h1>Kaleidoscope of quiet mornings.</h1>
      <p>Drag your gaze across the field. The prism folds light into new symmetries—remix the palette, or slip into night.</p>
      <div class="swatches" aria-label="Current palette">
        <div class="swatch" aria-hidden="true"></div>
        <div class="swatch" aria-hidden="true"></div>
        <div class="swatch" aria-hidden="true"></div>
        <div class="swatch" aria-hidden="true"></div>
        <div class="swatch" aria-hidden="true"></div>
      </div>
    </div>
    <div class="tips" aria-hidden="true">
      <div class="chip">T day/night · R remix · H zen · Space pause</div>
      <div class="chip">Move pointer to steer symmetry</div>
    </div>
  </section>

  <div class="meta">
    <div class="stamp">
      <span>Refreshed</span>
      <span id="last-updated">Last updated: 2026-01-21 02:26:32 EST</span>
    </div>
    <div>“Glass remembers the color of light.”</div>
  </div>

  <script>
    (function(){
      const root = document.currentScript.closest('.atelier');

      // Timestamp
      try{
        const fmt = new Intl.DateTimeFormat(navigator.language || 'en-US', { dateStyle:'medium', timeStyle:'short' });
        root.querySelector('#last-updated').textContent = fmt.format(new Date());
      }catch(e){
        root.querySelector('#last-updated').textContent = new Date().toLocaleString();
      }

      // Mode (day/night)
      const mBtn = root.querySelector('#mode');
      const setMode = (mode) => {
        root.setAttribute('data-mode', mode);
        mBtn.setAttribute('aria-pressed', mode==='night' ? 'true' : 'false');
        mBtn.textContent = mode==='night' ? '◐' : '☼';
      };
      try{
        const mq = window.matchMedia('(prefers-color-scheme: dark)');
        setMode(mq.matches ? 'night' : 'day');
        mq.addEventListener?.('change', e => setMode(e.matches ? 'night' : 'day'));
      }catch(e){}
      mBtn.addEventListener('click', () => {
        setMode(root.getAttribute('data-mode') === 'night' ? 'day' : 'night');
      });

      // Zen
      const zBtn = root.querySelector('#zen');
      zBtn.addEventListener('click', () => {
        const next = zBtn.getAttribute('aria-pressed') !== 'true';
        zBtn.setAttribute('aria-pressed', next ? 'true' : 'false');
        root.classList.toggle('ui-min', next);
      });

      // Palette
      const palettes = [
        ['#7aa9ff','#6fead1','#ffd77a','#ff9fab','#c9a6ff'],
        ['#8cc7ff','#7cf4c9','#ffe181','#ffb0d8','#bdb6ff'],
        ['#a1b2ff','#7bf0ff','#a4f59a','#ffd3a7','#dfa4ff'],
        ['#6fb5ff','#68e3da','#ffde85','#ffa1a1','#d5a6ff'],
        ['#9fe2ff','#9ff0c1','#f8f49b','#ffb3c0','#d7b2ff']
      ];
      function applyPalette(arr){
        const vars = ['--p1','--p2','--p3','--p4','--p5'];
        vars.forEach((n,i)=> root.style.setProperty(n, arr[i]));
        pulse();
      }
      root.querySelector('#remix').addEventListener('click', () => {
        const pick = palettes[Math.floor(Math.random()*palettes.length)];
        applyPalette(pick);
      });

      // Pointer parallax
      const stage = root.querySelector('.stage');
      const overlay = root.querySelector('.overlay');
      const pointer = { x:0.5, y:0.5, tx:0.5, ty:0.5 };
      function onPointer(e){
        const r = stage.getBoundingClientRect();
        const x = (e.clientX - r.left) / Math.max(1,r.width);
        const y = (e.clientY - r.top) / Math.max(1,r.height);
        pointer.tx = Math.max(0, Math.min(1, x));
        pointer.ty = Math.max(0, Math.min(1, y));
        root.style.setProperty('--px', (x*100).toFixed(2)+'%');
        root.style.setProperty('--py', (y*100).toFixed(2)+'%');
      }
      stage.addEventListener('pointermove', onPointer);
      stage.addEventListener('pointerleave', ()=> { pointer.tx = 0.5; pointer.ty = 0.5; });

      // Canvas kaleidoscope
      const canvas = root.querySelector('#prism');
      const ctx = canvas.getContext('2d', { alpha:true });
      let dpr = 1, reduce = false, paused = false, time = 0;

      function fit(){
        dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
        const r = stage.getBoundingClientRect();
        canvas.width = Math.max(1, Math.floor(r.width * dpr));
        canvas.height = Math.max(1, Math.floor(r.height * dpr));
        canvas.style.width = r.width + 'px';
        canvas.style.height = r.height + 'px';
        ctx.setTransform(dpr,0,0,dpr,0,0);
      }
      addEventListener('resize', fit, { passive:true });
      fit();

      try{
        const rm = window.matchMedia('(prefers-reduced-motion: reduce)');
        reduce = rm.matches;
        rm.addEventListener?.('change', e => { reduce = e.matches; if(reduce) root.classList.add('no-motion'); else root.classList.remove('no-motion'); });
        if(reduce) root.classList.add('no-motion');
      }catch(e){}

      function cssVar(n){ return getComputedStyle(root).getPropertyValue(n).trim(); }
      function pal(){ return [cssVar('--p1'),cssVar('--p2'),cssVar('--p3'),cssVar('--p4'),cssVar('--p5')]; }
      function lerp(a,b,t){ return a + (b-a)*t; }
      function addA(hex, a){
        const c = hex.replace('#','');
        const r = parseInt(c.slice(0,2),16), g = parseInt(c.slice(2,4),16), b = parseInt(c.slice(4,6),16);
        return `rgba(${r},${g},${b},${a})`;
      }

      function draw(){
        const W = canvas.width/dpr, H = canvas.height/dpr;
        const cx = W*0.5 + (pointer.x = lerp(pointer.x, pointer.tx, 0.06))*20 - 10;
        const cy = H*0.5 + (pointer.y = lerp(pointer.y, pointer.ty, 0.06))*16 - 8;
        const dark = root.getAttribute('data-mode') === 'night';

        // backdrop fade
        ctx.globalCompositeOperation = 'source-over';
        if (!reduce){
          ctx.fillStyle = dark ? 'rgba(15,18,38,0.12)' : 'rgba(250,250,255,0.12)';
          ctx.fillRect(0,0,W,H);
        } else {
          ctx.clearRect(0,0,W,H);
          ctx.fillStyle = dark ? 'rgba(15,18,38,0.86)' : 'rgba(250,250,255,0.86)';
          ctx.fillRect(0,0,W,H);
        }

        const colors = pal();
        const slices = 14 + Math.floor(pointer.x*10); // steerable symmetry
        const layers = 56;
        const base = time * (dark ? 0.5 : 0.7);
        const maxR = Math.hypot(W, H) * 0.6;

        ctx.save();
        ctx.translate(cx, cy);
        ctx.globalCompositeOperation = 'lighter';

        for(let j=0;j<layers;j++){
          const t = j/(layers-1);
          const r1 = t * maxR * (0.25 + 0.75*(0.6 + 0.4*Math.sin(base*0.6 + j*0.12)));
          const r2 = r1 + 10 + 26*(1-t);
          const wob = 0.8 + 0.6*Math.sin(base*0.9 + j*0.33 + pointer.x*2.2);
          const hueA = colors[j%colors.length];
          const hueB = colors[(j+2)%colors.length];
          // simple mix by alternating alpha on two fills
          const col1 = addA(hueA, dark ? 0.75 : 0.70);
          const col2 = addA(hueB, dark ? 0.55 : 0.50);
          const sAng = base*0.6 + j*0.11 + pointer.x*1.2;

          for(let i=0;i<slices;i++){
            const a0 = sAng + (i/slices)*Math.PI*2;
            const a1 = a0 + (Math.PI*2/slices)*wob;

            // first feather
            ctx.beginPath();
            ctx.moveTo(0,0);
            ctx.lineTo(Math.cos(a0)*r1, Math.sin(a0)*r1);
            ctx.lineTo(Math.cos(a1)*r2, Math.sin(a1)*r2);
            ctx.closePath();
            ctx.fillStyle = col1;
            ctx.shadowBlur = dark ? 18 : 10;
            ctx.shadowColor = hueA;
            ctx.fill();

            // second feather offset
            ctx.beginPath();
            const a2 = a0 + (Math.PI*2/slices)*0.5;
            const a3 = a1 + (Math.PI*2/slices)*0.5;
            ctx.moveTo(0,0);
            ctx.lineTo(Math.cos(a2)*r1*0.92, Math.sin(a2)*r1*0.92);
            ctx.lineTo(Math.cos(a3)*r2*0.96, Math.sin(a3)*r2*0.96);
            ctx.closePath();
            ctx.fillStyle = col2;
            ctx.shadowBlur = dark ? 22 : 12;
            ctx.shadowColor = hueB;
            ctx.fill();
          }
        }

        // central bloom
        const bloom = ctx.createRadialGradient(0,0,0, 0,0, maxR*0.35);
        bloom.addColorStop(0, addA(colors[0], dark?0.55:0.45));
        bloom.addColorStop(1, addA(colors[3], 0));
        ctx.fillStyle = bloom;
        ctx.beginPath();
        ctx.arc(0,0,maxR*0.35,0,Math.PI*2);
        ctx.fill();

        ctx.restore();

        // overlay parallax
        const ox = (pointer.x-0.5)*6, oy = (pointer.y-0.5)*4;
        overlay.style.transform = `translate3d(${ox.toFixed(2)}px, ${oy.toFixed(2)}px, 0)`;

        if(!paused && !reduce) time += 1/60;
        requestAnimationFrame(draw);
      }
      draw();

      // Pulse
      function pulse(){
        stage.animate([{transform:'scale(1)'},{transform:'scale(1.012)'},{transform:'scale(1)'}], {duration:420, easing:'ease-out'});
      }

      // Keyboard
      root.tabIndex = 0;
      root.addEventListener('keydown', (e) => {
        const k = e.key.toLowerCase();
        if(k==='t'){ mBtn.click(); }
        if(k==='r'){ root.querySelector('#remix').click(); }
        if(k==='h'){ zBtn.click(); }
        if(k===' '){ e.preventDefault(); paused = !paused; }
      });

      // Initialize first pulse on interaction
      let primed = false;
      stage.addEventListener('pointerdown', () => { if(!primed){ primed=true; pulse(); } });
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


