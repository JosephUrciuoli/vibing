<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div id="aether" data-theme="pearl" data-mode="rings" aria-label="Aether Bloom â€” kinetic clock poster">
  <style>
    /* Design tokens */
    #aether{
      --bg0:#f7fafc;
      --bg1:#edf2f7;
      --ink:#10131a;
      --muted:rgba(16,19,26,.64);
      --c1:#7acbff;
      --c2:#ffb6c1;
      --c3:#98e9b8;
      --stroke:rgba(16,19,26,.12);
      --mx:50%;
      --my:50%;
      position:relative;
      min-height:680px;
      border-radius:28px;
      overflow:hidden;
      color:var(--ink);
      font-family: ui-sans-serif, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      background:
        radial-gradient(140% 120% at 80% 10%, color-mix(in srgb, var(--c1) 16%, transparent), transparent 60%),
        radial-gradient(120% 120% at 0% 100%, color-mix(in srgb, var(--c2) 18%, transparent), transparent 60%),
        linear-gradient(180deg, var(--bg0), var(--bg1));
      box-shadow: 0 28px 80px rgba(10,20,40,.10);
      isolation:isolate;
    }
    #aether[data-theme="nocturne"]{
      --bg0:#0b0e16; --bg1:#12192a;
      --ink:#f2f6ff; --muted:rgba(242,246,255,.70);
      --c1:#8ea6ff; --c2:#ffb099; --c3:#7affd2;
      --stroke:rgba(255,255,255,.14);
    }
    #aether[data-theme="sage"]{
      --bg0:#0f1913; --bg1:#13261c;
      --ink:#f4fff8; --muted:rgba(244,255,248,.72);
      --c1:#8df1bd; --c2:#a3e1ff; --c3:#ffe29b;
      --stroke:rgba(255,255,255,.14);
    }

    /* Grain + cursor glow */
    #aether::before, #aether::after{ content:""; position:absolute; inset:0; pointer-events:none }
    #aether::before{
      opacity:.05;
      background:
        repeating-linear-gradient(90deg, #000 0 1px, transparent 1px 3px),
        repeating-linear-gradient(0deg, #000 0 1px, transparent 1px 3px);
      mix-blend-mode:soft-light; filter: blur(.4px);
    }
    #aether::after{
      background: radial-gradient(240px 240px at var(--mx) var(--my),
        color-mix(in srgb, var(--c1) 26%, transparent),
        transparent 60%);
      opacity:.9; mix-blend-mode:soft-light;
      transition: opacity .3s ease;
    }

    /* Top navigation */
    #aether .nav{
      position:relative; z-index:3;
      display:flex; align-items:center; gap:14px;
      padding:16px clamp(14px,3vmin,28px);
    }
    #aether .logo{
      display:inline-flex; align-items:center; gap:10px;
      padding:9px 14px; border-radius:999px;
      border:1px solid var(--stroke);
      background: color-mix(in srgb, var(--bg1) 80%, transparent);
      box-shadow: inset 0 0 0 1px color-mix(in srgb, var(--ink) 6%, transparent);
      font-weight:650; letter-spacing:.06em; text-transform:uppercase; font-size:11px;
    }
    #aether .logo .dot{
      width:14px; height:14px; border-radius:50%;
      background: conic-gradient(from 0deg, var(--c1), var(--c2), var(--c3), var(--c1));
      animation: spin 18s linear infinite;
      filter: saturate(120%);
    }
    @keyframes spin { to { transform: rotate(360deg) } }
    #aether .spacer{ flex:1 }

    #aether .controls{ display:flex; flex-wrap:wrap; gap:10px; align-items:center }
    #aether .group{ display:flex; gap:10px }
    #aether .chip{
      position:relative; appearance:none; cursor:pointer;
      border:1px solid var(--stroke);
      border-radius:999px; overflow:hidden;
      padding:8px 12px; font-size:12px; color:var(--ink);
      background: color-mix(in srgb, var(--c1) 12%, transparent);
      transition: transform .14s ease, background .22s ease, box-shadow .22s ease;
      box-shadow: 0 2px 0 rgba(0,0,0,.02);
    }
    #aether .chip:hover{ transform: translateY(-1px); box-shadow: 0 6px 16px rgba(0,0,0,.08) }
    #aether .chip:active{ transform: translateY(0) }
    #aether .chip.alt{ background: color-mix(in srgb, var(--c2) 12%, transparent) }
    #aether .chip.mute{ background: color-mix(in srgb, var(--c3) 10%, transparent) }
    #aether .chip.outline{ background: color-mix(in srgb, var(--bg0) 72%, transparent) }
    #aether .chip.pause{ background: color-mix(in srgb, var(--c1) 18%, transparent) }
    #aether .ripple{
      position:absolute; width:10px; height:10px; border-radius:50%;
      background: color-mix(in srgb, #fff 40%, var(--c1));
      opacity:.35; transform: translate(-50%,-50%) scale(1);
      animation: rip .65s ease-out forwards; pointer-events:none;
    }
    @keyframes rip{ to{ opacity:0; transform:translate(-50%,-50%) scale(16)} }

    /* Stage */
    #aether .stage{
      position:relative; z-index:1;
      display:grid; place-items:center;
      padding: clamp(10px, 4vmin, 40px);
      min-height:560px;
    }
    #aether .field{
      position:absolute; inset:12px; width:calc(100% - 24px); height:calc(100% - 24px);
      border-radius:24px; border:1px solid var(--stroke);
      background: linear-gradient(180deg, color-mix(in srgb, var(--bg1) 92%, transparent), transparent 70%),
                  color-mix(in srgb, var(--bg0) 86%, transparent);
      box-shadow: 0 10px 40px rgba(0,0,0,.08);
    }
    #aether .orb{
      position:relative; z-index:2;
      display:flex; flex-direction:column; align-items:center; gap:10px;
      padding: clamp(16px, 3vmin, 28px);
      border-radius:24px;
      backdrop-filter: blur(10px) saturate(140%);
      -webkit-backdrop-filter: blur(10px) saturate(140%);
      border:1px solid var(--stroke);
      background:
        radial-gradient(160% 120% at 50% 0%, color-mix(in srgb, var(--c1) 12%, transparent), transparent 60%),
        color-mix(in srgb, var(--bg0) 60%, transparent);
      transform-style: preserve-3d;
      transition: transform .12s ease;
    }
    #aether .orb::before{
      content:"";
      position:absolute; inset:-1px; border-radius:inherit; pointer-events:none;
      background: conic-gradient(from 0deg, color-mix(in srgb, var(--c1) 30%, transparent),
                                         color-mix(in srgb, var(--c2) 30%, transparent),
                                         color-mix(in srgb, var(--c3) 30%, transparent),
                                         color-mix(in srgb, var(--c1) 30%, transparent));
      mask: radial-gradient(closest-side, transparent 55%, #000 56%);
      opacity:.35; filter: blur(18px) saturate(120%);
    }

    /* Typographic clock */
    #aether .time{
      display:flex; align-items:baseline; gap:.28em;
      font-variant-numeric: tabular-nums lining-nums;
      letter-spacing:.01em;
      line-height:1;
      text-align:center;
      background: linear-gradient(90deg, var(--ink), color-mix(in srgb, var(--ink) 60%, var(--c1)));
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    #aether .time .hh, #aether .time .mm{ font-size: clamp(42px, 12vw, 112px); font-weight:800 }
    #aether .time .colon{ font-size: clamp(42px, 12vw, 112px); opacity:.8 }
    #aether .time .ampm{ font-size: clamp(12px, 2.6vw, 16px); color:var(--muted); background:none; -webkit-text-fill-color: currentColor; color:var(--muted)}
    #aether .tag{
      margin:2px 0 0; text-align:center; color:var(--muted);
      font-size: clamp(12px, 2.2vw, 16px);
    }

    /* Footer meta */
    #aether .meta{
      position:relative; z-index:2;
      margin: 10px auto 16px; display:flex; align-items:center; justify-content:center; gap:12px; flex-wrap:wrap;
      color:var(--muted); font-size:12px;
    }
    #aether .pill{ padding:6px 12px; border-radius:999px; border:1px solid var(--stroke);
      background: color-mix(in srgb, var(--c1) 12%, transparent); color:var(--ink); }
    #aether .dotsep{ width:10px; height:10px; border-radius:50%; background: color-mix(in srgb, var(--c2) 50%, transparent);
      box-shadow: 0 0 14px color-mix(in srgb, var(--c2) 40%, transparent); }

    /* Motion preferences */
    #aether[data-paused] .logo .dot{ animation-play-state: paused !important }
    @media (prefers-reduced-motion: reduce){
      #aether .logo .dot{ animation: none !important }
      #aether::after{ opacity:.5 }
    }
  </style>

  <div class="nav">
    <div class="logo"><span class="dot" aria-hidden="true"></span> Aether Atelier</div>
    <div class="spacer"></div>
    <div class="controls" aria-label="Theme, mode, and motion controls">
      <div class="group" role="group" aria-label="Themes">
        <button class="chip" data-theme="pearl" aria-label="Switch to Pearl">Pearl</button>
        <button class="chip alt" data-theme="nocturne" aria-label="Switch to Nocturne">Nocturne</button>
        <button class="chip" data-theme="sage" aria-label="Switch to Sage">Sage</button>
      </div>
      <div class="group" role="group" aria-label="Modes">
        <button class="chip outline" data-mode="rings" aria-label="Rings mode">Rings</button>
        <button class="chip outline" data-mode="petals" aria-label="Petals mode">Petals</button>
        <button class="chip outline" data-mode="spiral" aria-label="Spiral mode">Spiral</button>
      </div>
      <button class="chip mute shuffle" type="button" aria-label="Shuffle composition">Shuffle</button>
      <button class="chip pause" type="button" aria-pressed="false">Pause</button>
    </div>
  </div>

  <div class="stage" role="region" aria-live="polite">
    <canvas class="field" aria-hidden="true"></canvas>
    <div class="orb" aria-label="Kinetic clock and halo">
      <div class="time"><span class="hh">12</span><span class="colon">:</span><span class="mm">00</span><span class="ampm">AM</span></div>
      <p class="tag">A kinetic study in orbits, bloom, and time.</p>
    </div>
  </div>

  <div class="meta">
    <span class="pill" aria-label="Iteration number">Iteration 1274</span>
    <span class="dotsep" aria-hidden="true"></span>
    <span id="last-updated">Last updated: 2025-12-14 01:27:30 EST</span>
  </div>

  <script>
    (function(){
      const root = document.getElementById('aether');
      const canvas = root.querySelector('.field');
      const ctx = canvas.getContext('2d');
      const orb = root.querySelector('.orb');
      const pauseBtn = root.querySelector('.chip.pause');
      const shuffleBtn = root.querySelector('.chip.shuffle');
      const modeBtns = root.querySelectorAll('.chip[data-mode]');
      const themeBtns = root.querySelectorAll('.chip[data-theme]');
      const lu = root.querySelector('#last-updated');
      const mqReduce = window.matchMedia('(prefers-reduced-motion: reduce)');

      // Last updated
      try{
        lu.textContent = 'Last updated: ' + new Date().toLocaleString(undefined, { dateStyle:'medium', timeStyle:'short' });
      }catch{
        lu.textContent = 'Last updated: ' + new Date().toString();
      }

      // Time
      const hh = root.querySelector('.time .hh');
      const mm = root.querySelector('.time .mm');
      const ampm = root.querySelector('.time .ampm');
      function updateClock(){
        const d = new Date();
        let h = d.getHours();
        const am = h < 12;
        const hr = ((h + 11) % 12) + 1;
        const min = d.getMinutes();
        hh.textContent = String(hr).padStart(2,'0');
        mm.textContent = String(min).padStart(2,'0');
        ampm.textContent = am ? 'AM' : 'PM';
      }
      updateClock();
      let clockTimer = setInterval(updateClock, 1000);

      // Helpers
      function css(name){ return getComputedStyle(root).getPropertyValue(name).trim(); }
      function hexToRgba(hex, a){
        hex = hex.trim();
        if(hex.startsWith('rgb')) return hex;
        if(hex[0]==='#') hex=hex.slice(1);
        if(hex.length===3) hex = hex.split('').map(h=>h+h).join('');
        const num = parseInt(hex,16);
        const r=(num>>16)&255, g=(num>>8)&255, b=num&255;
        return `rgba(${r},${g},${b},${a})`;
      }
      function LCG(seed){ let s=seed>>>0; return ()=>{ s=(1664525*s+1013904223)>>>0; return s/4294967296; }; }

      // Canvas + composition
      let dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      let raf = null, paused = false, t = 0;
      let seed = (Math.random()*1e9)|0;
      let mode = root.getAttribute('data-mode') || 'rings';

      const pointer = { x:.5, y:.5, tx:.5, ty:.5 };

      let particles = [];
      function build(){
        const rnd = LCG(seed);
        particles.length = 0;
        const w = canvas.clientWidth || 800;
        const base = Math.min(w, 900);
        const rings = 8 + (rnd()*6|0);
        for(let r=0; r<rings; r++){
          const count = Math.floor(80 + r*20 + rnd()*40);
          const radius = base*(0.08 + r*0.055) + rnd()*8;
          const speed = (0.12 + r*0.03) * (rnd()>0.5?1:-1);
          for(let i=0; i<count; i++){
            particles.push({
              ring:r,
              radius: radius * (0.96 + rnd()*0.08),
              angle: rnd()*Math.PI*2,
              speed: speed * (0.6 + rnd()*0.8),
              jitter: rnd()*Math.PI*2,
              size: 0.7 + r*0.09 + rnd()*0.6,
              hueIndex: (r + i)%3
            });
          }
        }
      }

      function resize(){
        const rect = canvas.getBoundingClientRect();
        canvas.width = Math.floor(rect.width * dpr);
        canvas.height = Math.floor(rect.height * dpr);
        ctx.setTransform(dpr,0,0,dpr,0,0);
      }

      function draw(){
        const w = canvas.clientWidth;
        const h = canvas.clientHeight;
        if(!w || !h) return;

        // gentle trail fade
        ctx.globalCompositeOperation = 'source-over';
        ctx.fillStyle = hexToRgba(css('--bg0') || '#ffffff', 0.12);
        ctx.fillRect(0,0,w,h);

        const cx = w*0.5 + (pointer.x - .5) * (w*0.08);
        const cy = h*0.5 + (pointer.y - .5) * (h*0.08);

        const c1 = css('--c1') || '#7acbff';
        const c2 = css('--c2') || '#ffb6c1';
        const c3 = css('--c3') || '#98e9b8';
        const palette = [c1,c2,c3];

        // mode morph factors
        const m = mode;
        const time = t;

        ctx.globalCompositeOperation = 'lighter';
        for(let i=0;i<particles.length;i++){
          const p = particles[i];

          // orbit shaping
          let ang = p.angle + time*p.speed * (0.8 + pointer.x*0.8);
          let rad = p.radius;

          if(m === 'petals'){
            const k = 4 + (p.ring%3); // rose petals
            rad = p.radius * (0.78 + 0.22*Math.cos(k*ang + p.jitter));
          }else if(m === 'spiral'){
            const pitch = 0.24 + (p.ring*0.02);
            rad = p.radius * (1 + pitch*Math.sin(ang*0.6 + p.jitter)*0.28) + (ang*0.6);
          }else{ // rings
            rad = p.radius * (1 + 0.12*Math.sin(ang*0.9 + p.jitter));
          }

          const x = cx + Math.cos(ang) * rad;
          const y = cy + Math.sin(ang) * rad;

          ctx.shadowColor = hexToRgba(palette[p.hueIndex], 0.35);
          ctx.shadowBlur = 16;

          ctx.fillStyle = hexToRgba(palette[p.hueIndex], 0.28 + Math.min(0.25, p.ring*0.02));
          ctx.beginPath();
          ctx.arc(x, y, p.size, 0, Math.PI*2);
          ctx.fill();
        }

        // sheen vignette
        ctx.globalCompositeOperation = 'source-over';
        const vignette = ctx.createRadialGradient(cx, cy, Math.min(w,h)*0.1, cx, cy, Math.max(w,h)*0.7);
        vignette.addColorStop(0, hexToRgba('#ffffff', 0.03));
        vignette.addColorStop(1, hexToRgba('#000000', 0.06));
        ctx.fillStyle = vignette;
        ctx.fillRect(0,0,w,h);
      }

      function loop(){
        if(!paused){
          // ease pointer
          pointer.x += (pointer.tx - pointer.x)*0.08;
          pointer.y += (pointer.ty - pointer.y)*0.08;

          t += 0.016;
          draw();
        }
        raf = requestAnimationFrame(loop);
      }

      function setPaused(state){
        paused = state;
        root.toggleAttribute('data-paused', state);
        pauseBtn.setAttribute('aria-pressed', String(state));
        pauseBtn.textContent = state ? 'Resume' : 'Pause';
      }

      // Interactions
      function move(e){
        const r = canvas.getBoundingClientRect();
        const x = (e.clientX - r.left) / r.width;
        const y = (e.clientY - r.top) / r.height;
        pointer.tx = Math.max(0, Math.min(1, x));
        pointer.ty = Math.max(0, Math.min(1, y));
        root.style.setProperty('--mx', (x*100).toFixed(2)+'%');
        root.style.setProperty('--my', (y*100).toFixed(2)+'%');

        const rotX = (0.5 - y) * 6;
        const rotY = (x - 0.5) * 8;
        orb.style.transform = `perspective(900px) rotateX(${rotX}deg) rotateY(${rotY}deg)`;
        orb.style.transition = 'transform .08s ease';
      }
      function leave(){
        pointer.tx = .5; pointer.ty = .5;
        root.style.setProperty('--mx','50%');
        root.style.setProperty('--my','50%');
        orb.style.transform = 'perspective(900px) rotateX(0) rotateY(0)';
        orb.style.transition = 'transform .6s cubic-bezier(.2,.8,.2,1)';
      }

      canvas.addEventListener('pointermove', move, {passive:true});
      canvas.addEventListener('pointerleave', leave, {passive:true});
      pauseBtn.addEventListener('click', ()=> setPaused(!paused));

      // Theme switching + ripple
      themeBtns.forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          root.setAttribute('data-theme', btn.getAttribute('data-theme'));
          const ripple = document.createElement('span');
          ripple.className='ripple';
          const b = btn.getBoundingClientRect();
          ripple.style.left = (e.clientX - b.left) + 'px';
          ripple.style.top = (e.clientY - b.top) + 'px';
          btn.appendChild(ripple);
          setTimeout(()=>ripple.remove(), 700);
        });
      });

      // Mode switching
      modeBtns.forEach(btn=>{
        btn.addEventListener('click', (e)=>{
          mode = btn.getAttribute('data-mode');
          root.setAttribute('data-mode', mode);
          const ripple = document.createElement('span');
          ripple.className='ripple';
          const b = btn.getBoundingClientRect();
          ripple.style.left = (e.clientX - b.left) + 'px';
          ripple.style.top = (e.clientY - b.top) + 'px';
          btn.appendChild(ripple);
          setTimeout(()=>ripple.remove(), 700);
        });
      });

      // Shuffle composition
      shuffleBtn.addEventListener('click', (e)=>{
        seed = (Math.random()*1e9)|0;
        build();
        const ripple = document.createElement('span');
        ripple.className='ripple';
        const b = shuffleBtn.getBoundingClientRect();
        ripple.style.left = (e.clientX - b.left) + 'px';
        ripple.style.top = (e.clientY - b.top) + 'px';
        shuffleBtn.appendChild(ripple);
        setTimeout(()=>ripple.remove(), 700);
      });

      // Space to pause/resume
      window.addEventListener('keydown', (e)=>{
        if(e.code === 'Space'){ e.preventDefault(); setPaused(!paused); }
      });

      function applyReduce(){
        if(mqReduce.matches){ setPaused(true); draw(); }
        else{ setPaused(false); }
      }
      mqReduce.addEventListener?.('change', applyReduce);

      // Init
      function init(){
        resize();
        build();
        applyReduce();
        draw();
        raf = requestAnimationFrame(loop);
      }
      init();
      window.addEventListener('resize', ()=>{ resize(); draw(); }, {passive:true});

      // Cleanup on unload
      window.addEventListener('beforeunload', ()=>{
        if(raf) cancelAnimationFrame(raf);
        if(clockTimer) clearInterval(clockTimer);
      }, {once:true});
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


