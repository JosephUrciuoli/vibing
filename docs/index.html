<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<style>
  .vibe-2112 {
    --space: #0b1020;
    --ink: #e7edf7;
    --muted: #9fb0c9;
    --ring: rgba(255,255,255,0.09);
    --g1: #56ccf2; /* aurora cyan */
    --g2: #a66cff; /* orbital violet */
    --orbit-speed: 26s;
    --tilt-x: 0deg;
    --tilt-y: 0deg;
    --mx: 50%;
    --my: 40%;
    position: relative;
    isolation: isolate;
    overflow: hidden;
    border-radius: 28px;
    padding: 34px 28px 26px;
    color: var(--ink);
    background:
      radial-gradient(900px 600px at var(--mx) var(--my), rgba(86,204,242,0.10), rgba(166,108,255,0.08) 45%, transparent 70%),
      linear-gradient(180deg, #0e1429 0%, #0b1020 60%, #0a0e1c 100%);
    box-shadow:
      0 24px 80px rgba(0,0,0,0.45),
      0 2px 0 rgba(255,255,255,0.05) inset;
    backdrop-filter: saturate(120%);
  }

  /* Subtle star haze and scanline texture */
  .vibe-2112::before,
  .vibe-2112::after {
    content: "";
    position: absolute; inset: -10%;
    pointer-events: none;
  }
  .vibe-2112::before {
    background:
      radial-gradient(1200px 800px at 70% 20%, rgba(166,108,255,0.10), transparent 60%),
      radial-gradient(1200px 800px at 25% 80%, rgba(86,204,242,0.10), transparent 60%),
      repeating-linear-gradient(0deg, rgba(255,255,255,0.03) 0 1px, transparent 1px 3px);
    mix-blend-mode: screen;
    opacity: 0.55;
    filter: blur(0.2px);
  }
  .vibe-2112::after {
    background:
      radial-gradient(closest-side, rgba(255,255,255,0.04), transparent 70%) 0 0/48px 48px,
      radial-gradient(closest-side, rgba(255,255,255,0.04), transparent 70%) 24px 24px/48px 48px;
    opacity: 0.22;
    mix-blend-mode: overlay;
  }

  /* Ambient halos */
  .vibe-2112 .halo {
    position: absolute; border-radius: 50%;
    filter: blur(40px) saturate(120%);
    mix-blend-mode: screen; opacity: 0.35;
    transform: translateZ(0);
    background: radial-gradient(closest-side, var(--g1), color-mix(in srgb, var(--g2), white 25%) 60%, transparent 70%);
    animation: v2112-drift 30s ease-in-out infinite alternate;
  }
  .vibe-2112 .halo.h1 { width: 360px; height: 360px; top: -100px; right: -120px; }
  .vibe-2112 .halo.h2 { width: 260px; height: 260px; bottom: -100px; left: -120px; animation-duration: 36s; }

  /* Star canvas sits behind content */
  .vibe-2112 .stars {
    position: absolute; inset: 0; z-index: 0; pointer-events: none; opacity: 0.9;
    mix-blend-mode: lighten;
  }

  .vibe-2112 .wrap {
    position: relative; z-index: 2; max-width: 980px; margin: 0 auto;
    transform: perspective(800px) rotateX(var(--tilt-y)) rotateY(var(--tilt-x));
    transform-style: preserve-3d;
    will-change: transform;
  }

  .vibe-2112 .eyebrow {
    display: inline-flex; align-items: center; gap: 10px;
    padding: 6px 12px;
    border-radius: 999px;
    font-size: 12px; letter-spacing: 0.16em; text-transform: uppercase;
    color: var(--muted);
    border: 1px solid var(--ring);
    background: rgba(255,255,255,0.04);
    box-shadow: 0 1px 0 rgba(255,255,255,0.04) inset, 0 10px 24px rgba(0,0,0,0.3);
    backdrop-filter: blur(6px);
  }
  .vibe-2112 .eyebrow .spark {
    width: 8px; height: 8px; border-radius: 50%;
    background: linear-gradient(90deg, var(--g1), var(--g2));
    box-shadow: 0 0 10px color-mix(in srgb, var(--g1), white 30%);
  }

  .vibe-2112 h1 {
    margin: 14px 0 6px;
    font-size: clamp(40px, 8.5vw, 96px);
    line-height: 0.94;
    letter-spacing: -0.02em;
    font-weight: 850;
    background: linear-gradient(120deg, var(--g1), var(--g2), var(--g1));
    background-size: 200% 200%;
    -webkit-background-clip: text; background-clip: text; color: transparent;
    text-shadow: 0 1px 0 rgba(255,255,255,0.06);
    animation: v2112-sheen 12s ease-in-out infinite;
  }

  .vibe-2112 .lead {
    margin: 6px 0 18px;
    font-size: clamp(15px, 2.2vw, 20px);
    color: var(--muted);
    max-width: 56ch;
  }

  .vibe-2112 .dock {
    display: flex; flex-wrap: wrap; gap: 10px 14px; align-items: center;
    margin: 10px 0 18px;
  }
  .vibe-2112 .btn {
    appearance: none; cursor: pointer;
    border: 1px solid var(--ring);
    background: linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
    color: var(--ink);
    border-radius: 999px; padding: 10px 14px; font-size: 14px; font-weight: 700; letter-spacing: 0.01em;
    transition: transform 0.12s ease, box-shadow 0.2s ease, border-color 0.2s ease, background 0.2s ease;
    box-shadow: 0 1px 0 rgba(255,255,255,0.06) inset, 0 10px 24px rgba(0,0,0,0.35);
  }
  .vibe-2112 .btn:hover { transform: translateY(-1px); box-shadow: 0 1px 0 rgba(255,255,255,0.06) inset, 0 14px 28px rgba(0,0,0,0.42); }
  .vibe-2112 .btn:active { transform: translateY(0); }
  .vibe-2112 .btn.toggle[aria-pressed="true"] {
    border-color: color-mix(in srgb, var(--g2), black 30%);
    box-shadow: 0 0 0 3px color-mix(in srgb, var(--g1), transparent 85%), 0 10px 24px rgba(0,0,0,0.35);
  }

  .vibe-2112 .swatches { display: inline-flex; gap: 8px; align-items: center; }
  .vibe-2112 .swatch {
    width: 28px; height: 28px; border-radius: 50%;
    border: 1px solid var(--ring);
    background: var(--preview, linear-gradient(90deg, var(--g1), var(--g2)));
    cursor: pointer; transition: transform 0.12s ease, box-shadow 0.2s ease;
    box-shadow: 0 8px 18px rgba(0,0,0,0.35);
  }
  .vibe-2112 .swatch:hover { transform: translateY(-2px) scale(1.04); }
  .vibe-2112 .swatch.active { box-shadow: 0 0 0 3px rgba(255,255,255,0.08), 0 0 0 7px color-mix(in srgb, var(--g1), transparent 82%); }

  /* Range control */
  .vibe-2112 .range {
    display: inline-flex; align-items: center; gap: 8px; padding: 8px 12px; border-radius: 999px;
    border: 1px solid var(--ring); background: rgba(255,255,255,0.03);
    box-shadow: 0 1px 0 rgba(255,255,255,0.05) inset;
  }
  .vibe-2112 .range span { font-size: 12px; color: var(--muted); letter-spacing: 0.1em; text-transform: uppercase; }
  .vibe-2112 .range input[type="range"] {
    appearance: none; width: 160px; height: 22px; background: transparent;
  }
  .vibe-2112 .range input[type="range"]::-webkit-slider-runnable-track {
    height: 6px; border-radius: 999px;
    background: linear-gradient(90deg, var(--g1), var(--g2));
    box-shadow: 0 0 0 1px var(--ring) inset;
  }
  .vibe-2112 .range input[type="range"]::-webkit-slider-thumb {
    appearance: none; margin-top: -6px; width: 18px; height: 18px; border-radius: 50%;
    background: #0e1429; border: 1px solid var(--ring);
    box-shadow: 0 0 0 3px rgba(255,255,255,0.05), 0 6px 14px rgba(0,0,0,0.4);
  }
  .vibe-2112 .range input[type="range"]::-moz-range-track {
    height: 6px; border-radius: 999px; background: linear-gradient(90deg, var(--g1), var(--g2));
    box-shadow: 0 0 0 1px var(--ring) inset;
  }
  .vibe-2112 .range input[type="range"]::-moz-range-thumb {
    width: 18px; height: 18px; border-radius: 50%; background: #0e1429; border: 1px solid var(--ring);
    box-shadow: 0 0 0 3px rgba(255,255,255,0.05), 0 6px 14px rgba(0,0,0,0.4);
  }
  .vibe-2112 .range .out { font-variant-numeric: tabular-nums; font-size: 12px; color: var(--muted); }

  /* Orbital system */
  .vibe-2112 .system {
    position: relative; margin: 12px 0 20px;
    width: 100%; height: clamp(220px, 38vw, 380px);
    transform-style: preserve-3d;
  }
  .vibe-2112 .core {
    position: absolute; left: 50%; top: 50%; width: 16px; height: 16px; transform: translate(-50%, -50%);
    border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, #fff, #a7b6ff 60%, transparent 70%);
    box-shadow:
      0 0 24px rgba(255,255,255,0.4),
      0 0 80px color-mix(in srgb, var(--g2), transparent 70%),
      0 0 140px color-mix(in srgb, var(--g1), transparent 70%);
  }
  .vibe-2112 .orbit {
    position: absolute; left: 50%; top: 50%;
    border-radius: 50%;
    transform: translate(-50%, -50%);
    border: 1px dashed color-mix(in srgb, var(--g1), white 10%);
    opacity: 0.55;
    animation: v2112-spin var(--orbit-speed) linear infinite;
  }
  .vibe-2112 .o1 { width: 52%; height: 52%; }
  .vibe-2112 .o2 { width: 72%; height: 72%; animation-direction: reverse; border-color: color-mix(in srgb, var(--g2), white 10%); }
  .vibe-2112 .o3 { width: 92%; height: 92%; animation-duration: calc(var(--orbit-speed) * 1.4); }

  .vibe-2112 .satellite {
    position: absolute; top: -8px; left: 50%;
    width: 12px; height: 12px; margin-left: -6px; border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, var(--g1), var(--g2) 70%);
    box-shadow:
      0 0 0 2px rgba(255,255,255,0.04),
      0 0 24px color-mix(in srgb, var(--g1), transparent 60%),
      0 0 60px color-mix(in srgb, var(--g2), transparent 70%);
    animation: v2112-bob 4s ease-in-out infinite;
  }
  .vibe-2112 .o2 .satellite { top: auto; bottom: -8px; animation-duration: 5.5s; }
  .vibe-2112 .o3 .satellite { top: -6px; width: 10px; height: 10px; animation-duration: 3.8s; }

  .vibe-2112 .quote {
    position: relative; margin: 8px 0 18px; padding: 14px 18px 14px 16px;
    border-radius: 16px; color: var(--ink);
    background: rgba(255,255,255,0.04); border: 1px solid var(--ring);
    box-shadow: 0 8px 18px rgba(0,0,0,0.35);
  }
  .vibe-2112 .quote::before {
    content: ""; position: absolute; left: 0; top: 0; bottom: 0; width: 5px; border-radius: 16px 0 0 16px;
    background: linear-gradient(180deg, var(--g1), var(--g2));
  }

  .vibe-2112 .meta {
    display: flex; gap: 12px; align-items: center; flex-wrap: wrap;
    font-size: 12px; color: var(--muted);
  }
  .vibe-2112 .meta .sep { width: 4px; height: 4px; border-radius: 50%; background: var(--ring); }

  /* Zen mode reduces motion and glow */
  .vibe-2112.zen .halo { opacity: 0.18; animation-duration: 50s; }
  .vibe-2112.zen .stars { opacity: 0.6; }
  .vibe-2112.zen .orbit { animation-duration: calc(var(--orbit-speed) * 2); }
  .vibe-2112.zen h1 { animation-duration: 20s; }

  /* Animations */
  @keyframes v2112-drift {
    0% { transform: translate3d(0,0,0) scale(1); }
    50% { transform: translate3d(16px, -12px, 0) scale(1.04); }
    100% { transform: translate3d(-10px, 10px, 0) scale(1.02); }
  }
  @keyframes v2112-sheen {
    0%, 100% { background-position: 0% 50%; letter-spacing: -0.01em; }
    50% { background-position: 100% 50%; letter-spacing: -0.03em; }
  }
  @keyframes v2112-spin {
    to { transform: translate(-50%, -50%) rotate(360deg); }
  }
  @keyframes v2112-bob {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(4px); }
  }

  /* Reduced motion accessibility */
  @media (prefers-reduced-motion: reduce) {
    .vibe-2112 .halo,
    .vibe-2112 .stars,
    .vibe-2112 .orbit,
    .vibe-2112 .satellite,
    .vibe-2112 h1 { animation: none !important; }
  }

  /* Small screens */
  @media (max-width: 560px) {
    .vibe-2112 { padding: 24px 20px; border-radius: 24px; }
    .vibe-2112 h1 { font-size: clamp(34px, 10vw, 64px); }
    .vibe-2112 .range input[type="range"] { width: 120px; }
    .vibe-2112 .swatch { width: 26px; height: 26px; }
  }
</style>

<div class="vibe-2112" role="region" aria-label="Nocturne Observatory — a night interface">
  <canvas class="stars" aria-hidden="true"></canvas>
  <div class="halo h1" aria-hidden="true"></div>
  <div class="halo h2" aria-hidden="true"></div>

  <div class="wrap">
    <div class="eyebrow"><span class="spark" aria-hidden="true"></span> Concept No. 2112</div>
    <h1>Nocturne Observatory</h1>
    <p class="lead">Night-sky clarity. Instruments for quiet focus.</p>

    <div class="dock" role="group" aria-label="Scene controls">
      <button class="btn toggle" aria-pressed="false" title="Reduce motion and glow">Zen mode</button>
      <label class="range">
        <span>Orbit</span>
        <input class="speed" type="range" min="8" max="50" value="26" step="1" aria-label="Orbit speed">
        <output class="out">26s</output>
      </label>
      <div class="swatches" aria-label="Palette">
        <button class="swatch" data-palette="#56ccf2|#a66cff" style="--preview:linear-gradient(90deg,#56ccf2,#a66cff)" aria-label="Cosmic"></button>
        <button class="swatch" data-palette="#7ef9c9|#4ab0ff" style="--preview:linear-gradient(90deg,#7ef9c9,#4ab0ff)" aria-label="Aurora"></button>
        <button class="swatch" data-palette="#ff8a6c|#ffcc5b" style="--preview:linear-gradient(90deg,#ff8a6c,#ffcc5b)" aria-label="Magma"></button>
        <button class="swatch" data-palette="#a4ff62|#2fedb2" style="--preview:linear-gradient(90deg,#a4ff62,#2fedb2)" aria-label="Limewave"></button>
      </div>
    </div>

    <div class="system" aria-hidden="true">
      <div class="core"></div>
      <div class="orbit o1"><div class="satellite s1"></div></div>
      <div class="orbit o2"><div class="satellite s2"></div></div>
      <div class="orbit o3"><div class="satellite s3"></div></div>
    </div>

    <div class="quote">“Night reveals the quiet geometry of thought.”</div>

    <div class="meta">
      <span id="last-updated">Last updated: 2026-01-22 00:26:50 EST</span>
      <span class="sep" aria-hidden="true"></span>
      <span>Drag to tilt the sky. Tune the orbits. Choose a colorway.</span>
    </div>
  </div>
</div>

<script>
(function () {
  const root = document.currentScript.previousElementSibling;
  const canvas = root.querySelector('.stars');
  const ctx = canvas.getContext('2d', { alpha: true });
  const updatedEl = root.querySelector('#last-updated');
  const speedInput = root.querySelector('.speed');
  const speedOut = root.querySelector('.range .out');
  const swatches = Array.from(root.querySelectorAll('.swatch'));
  const zenBtn = root.querySelector('.btn.toggle');

  // Last updated stamp
  try {
    const now = new Date();
    const fmt = new Intl.DateTimeFormat([], {
      year: 'numeric', month: '2-digit', day: '2-digit',
      hour: '2-digit', minute: '2-digit', second: '2-digit',
      hour12: false, timeZoneName: 'short'
    });
    updatedEl.textContent = 'Last updated: ' + fmt.format(now);
  } catch (_) {
    updatedEl.textContent = 'Last updated: ' + new Date().toLocaleString();
  }

  // Apply initial orbit speed
  function applySpeed(val) {
    const v = Math.round(val);
    root.style.setProperty('--orbit-speed', v + 's');
    speedOut.textContent = v + 's';
  }
  applySpeed(speedInput.value);
  speedInput.addEventListener('input', (e) => applySpeed(e.target.value));

  // Palette switching
  function applyPalette(c1, c2) {
    root.style.setProperty('--g1', c1);
    root.style.setProperty('--g2', c2);
  }
  swatches.forEach((b, i) => {
    b.addEventListener('click', () => {
      swatches.forEach(x => x.classList.toggle('active', x === b));
      const [c1, c2] = (b.getAttribute('data-palette') || '').split('|');
      if (c1 && c2) applyPalette(c1, c2);
    });
    if (i === 0) b.click();
  });

  // Zen mode toggle + respect reduced motion
  function setZen(on) {
    root.classList.toggle('zen', on);
    zenBtn.setAttribute('aria-pressed', String(on));
  }
  if (window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
    setZen(true);
  }
  zenBtn.addEventListener('click', () => setZen(!root.classList.contains('zen')));

  // Pointer-reactive tilt and light origin
  function setMouseVars(clientX, clientY) {
    const rect = root.getBoundingClientRect();
    const x = (clientX - rect.left) / rect.width;
    const y = (clientY - rect.top) / rect.height;
    const nx = Math.max(0, Math.min(1, x));
    const ny = Math.max(0, Math.min(1, y));
    root.style.setProperty('--mx', (nx * 100) + '%');
    root.style.setProperty('--my', (ny * 100) + '%');
    const maxTilt = 6; // deg
    root.style.setProperty('--tilt-x', ((nx - 0.5) * maxTilt).toFixed(2) + 'deg');
    root.style.setProperty('--tilt-y', (-(ny - 0.5) * maxTilt).toFixed(2) + 'deg');
  }
  root.addEventListener('pointermove', (e) => setMouseVars(e.clientX, e.clientY));
  root.addEventListener('touchmove', (e) => {
    if (e.touches && e.touches[0]) setMouseVars(e.touches[0].clientX, e.touches[0].clientY);
  }, { passive: true });

  // Starfield
  let dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
  let stars = [];
  function sizeCanvas() {
    const rect = root.getBoundingClientRect();
    canvas.width = Math.max(1, rect.width * dpr);
    canvas.height = Math.max(1, rect.height * dpr);
    canvas.style.width = rect.width + 'px';
    canvas.style.height = rect.height + 'px';
    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
    buildStars(rect.width, rect.height);
  }
  function buildStars(w, h) {
    const count = Math.floor((w * h) / 4500);
    stars = Array.from({ length: count }, () => ({
      x: Math.random() * w,
      y: Math.random() * h,
      r: Math.random() * 1.2 + 0.3,
      p: Math.random() * Math.PI * 2,
      s: 0.6 + Math.random() * 0.8, // twinkle speed
      z: Math.random() * 0.8 + 0.2 // parallax depth
    }));
  }
  sizeCanvas();
  window.addEventListener('resize', sizeCanvas);

  let mx = 0.5, my = 0.4;
  function loop(t) {
    // Read current tilt origin to parallax stars
    const style = getComputedStyle(root);
    mx = parseFloat(style.getPropertyValue('--mx')) / 100 || mx;
    my = parseFloat(style.getPropertyValue('--my')) / 100 || my;

    const rect = root.getBoundingClientRect();
    const w = rect.width, h = rect.height;

    ctx.clearRect(0, 0, w, h);
    // soft vignette
    const g = ctx.createRadialGradient(w * mx, h * my, 0, w * 0.5, h * 0.5, Math.max(w, h) * 0.8);
    g.addColorStop(0, 'rgba(255,255,255,0.05)');
    g.addColorStop(1, 'rgba(0,0,0,0)');
    ctx.fillStyle = g; ctx.fillRect(0,0,w,h);

    // Draw stars with twinkle and parallax drift
    const driftX = (mx - 0.5) * 8;
    const driftY = (my - 0.5) * 8;
    for (let i = 0; i < stars.length; i++) {
      const st = stars[i];
      const tw = 0.5 + 0.5 * Math.sin(st.p + t * 0.0012 * st.s);
      ctx.globalAlpha = 0.35 + tw * 0.65;
      ctx.fillStyle = 'white';
      const px = st.x + driftX * (1 - st.z);
      const py = st.y + driftY * (1 - st.z);
      ctx.beginPath();
      ctx.arc(px, py, st.r, 0, Math.PI * 2);
      ctx.fill();
    }
    ctx.globalAlpha = 1;
    requestAnimationFrame(loop);
  }
  requestAnimationFrame(loop);

  // Initialize mouse vars to center for consistent first frame
  {
    const rect = root.getBoundingClientRect();
    setMouseVars(rect.left + rect.width * 0.6, rect.top + rect.height * 0.4);
  }
})();
</script>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


