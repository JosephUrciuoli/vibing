<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<style>
  /* Aurora Atelier — scoped to #solstice-lab */
  #solstice-lab {
    --bg: #0f1221;
    --ink: #e9efff;
    --muted: #b8c2dc;
    --line: rgba(255,255,255,0.12);
    --p1: #6ae6ff;
    --p2: #b37bff;
    --p3: #ffba6b;
    --r: 20px;
    --rx: 0deg; /* tilt X */
    --ry: 0deg; /* tilt Y */
    --elev: 0px;
    color: var(--ink);
    font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
  }
  #solstice-lab[data-theme="aurora"] {
    --bg: #0b1022;
    --ink: #ecf3ff;
    --muted: #acb9d7;
    --line: rgba(248, 252, 255, 0.15);
    --p1: #59e0ff;
    --p2: #9b7bff;
    --p3: #ff9a6b;
  }
  #solstice-lab[data-theme="noir"] {
    --bg: #0b0b0f;
    --ink: #f2f2f5;
    --muted: #bcbccc;
    --line: rgba(255,255,255,0.14);
    --p1: #b7b7b7;
    --p2: #777;
    --p3: #ffffff;
  }
  #solstice-lab[data-theme="ember"] {
    --bg: #1a0f0f;
    --ink: #ffeedd;
    --muted: #e6c8b8;
    --line: rgba(255,229,209,0.18);
    --p1: #ff8c57;
    --p2: #ff5d8f;
    --p3: #ffd66b;
  }

  #solstice-lab .frame {
    position: relative;
    overflow: hidden;
    border-radius: 22px;
    padding: clamp(18px, 3.2vw, 32px);
    background:
      radial-gradient(120% 120% at 0% 0%, color-mix(in oklab, var(--p1) 20%, transparent), transparent 60%) no-repeat,
      radial-gradient(120% 120% at 100% 100%, color-mix(in oklab, var(--p3) 18%, transparent), transparent 60%) no-repeat,
      linear-gradient(180deg, color-mix(in oklab, var(--bg) 92%, #000 8%), var(--bg));
    border: 1px solid var(--line);
    box-shadow:
      0 30px 90px rgba(0,0,0,0.35),
      inset 0 1px 0 rgba(255,255,255,0.05);
    transform: rotateX(var(--rx)) rotateY(var(--ry)) translateZ(var(--elev));
    transform-style: preserve-3d;
    backdrop-filter: saturate(110%) blur(2px);
  }

  /* Ambient grid dots */
  #solstice-lab .grid {
    position: absolute;
    inset: -1px;
    background:
      radial-gradient(circle at 0 0, rgba(255,255,255,0.06), transparent 55%),
      radial-gradient(1px 1px at 10% 15%, rgba(255,255,255,0.16), transparent 60%),
      radial-gradient(1px 1px at 35% 65%, rgba(255,255,255,0.12), transparent 60%),
      radial-gradient(1px 1px at 70% 30%, rgba(255,255,255,0.12), transparent 60%),
      radial-gradient(1px 1px at 85% 75%, rgba(255,255,255,0.1), transparent 60%);
    mix-blend-mode: overlay;
    pointer-events: none;
  }

  /* Ribbons */
  #solstice-lab .ribbons {
    position: absolute;
    inset: -20%;
    filter: blur(30px) saturate(120%);
    pointer-events: none;
  }
  #solstice-lab .rib {
    position: absolute;
    width: 120vmax; height: 26vmax;
    left: 50%; top: 50%;
    transform: translate(-50%,-50%) rotate(var(--rot)) scale(1.05);
    background:
      linear-gradient(90deg,
        color-mix(in oklab, var(--p1) 60%, transparent),
        color-mix(in oklab, var(--p2) 60%, transparent) 50%,
        color-mix(in oklab, var(--p3) 60%, transparent));
    opacity: var(--op, 0.28);
    border-radius: 999px;
    mix-blend-mode: screen;
    animation: float var(--dur, 22s) ease-in-out infinite alternate;
  }
  #solstice-lab .rib.r2 { --rot: 28deg; --dur: 26s; --op: .22; }
  #solstice-lab .rib.r3 { --rot: -18deg; --dur: 30s; --op: .20; }
  #solstice-lab .rib.r1 { --rot: -42deg; --dur: 24s; --op: .26; }
  @keyframes float {
    0% { transform: translate(-50%,-50%) rotate(var(--rot)) scale(1.02); }
    100% { transform: translate(calc(-50% + 2%), calc(-50% - 1%)) rotate(calc(var(--rot) + 6deg)) scale(1.08); }
  }

  #solstice-lab .header {
    position: relative;
    z-index: 3;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-bottom: clamp(10px, 2.4vw, 18px);
  }
  #solstice-lab .brand {
    display: flex;
    align-items: center;
    gap: 12px;
    padding: 10px 14px;
    border-radius: 999px;
    border: 1px solid var(--line);
    background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.08);
    user-select: none;
  }
  #solstice-lab .brand .glyph {
    width: 10px; height: 10px; border-radius: 50%;
    background: radial-gradient(circle at 30% 30%, #fff, rgba(255,255,255,0.25));
    box-shadow: 0 0 0 4px color-mix(in oklab, var(--p2) 18%, transparent);
    animation: pulse 3.2s ease-in-out infinite;
  }
  @keyframes pulse {
    0%,100% { box-shadow: 0 0 0 4px color-mix(in oklab, var(--p2) 18%, transparent); }
    50% { box-shadow: 0 0 0 10px color-mix(in oklab, var(--p2) 0%, transparent); }
  }
  #solstice-lab .brand span {
    font-size: 11px;
    letter-spacing: 0.24em;
    text-transform: uppercase;
    color: var(--muted);
  }

  /* Controls */
  #solstice-lab .controls {
    position: relative;
    z-index: 3;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
    align-items: center;
  }
  #solstice-lab .pill {
    display: inline-flex;
    gap: 8px;
    padding: 6px;
    border-radius: 999px;
    border: 1px solid var(--line);
    background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.02));
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.08);
  }
  #solstice-lab .chip {
    appearance: none;
    border: 1px solid var(--line);
    background: transparent;
    color: var(--ink);
    padding: 10px 14px;
    border-radius: 999px;
    font-weight: 700;
    font-size: 13px;
    cursor: pointer;
    transition: transform .15s ease, background .25s ease, box-shadow .2s ease;
  }
  #solstice-lab .chip:hover { transform: translateY(-1px); }
  #solstice-lab .chip[aria-pressed="true"] {
    background: linear-gradient(135deg, color-mix(in oklab, var(--p1) 30%, transparent), color-mix(in oklab, var(--p3) 24%, transparent));
    box-shadow: 0 8px 24px rgba(0,0,0,0.22), 0 6px 18px color-mix(in oklab, var(--p1) 30%, transparent);
  }

  /* Hero */
  #solstice-lab .hero {
    position: relative;
    z-index: 3;
    margin: clamp(6px, 1.2vw, 10px) 0 clamp(8px, 1.6vw, 14px);
  }
  #solstice-lab .hero h1 {
    margin: 0 0 6px;
    font-size: clamp(28px, 5vw, 64px);
    letter-spacing: -0.02em;
    line-height: 1.02;
    font-weight: 900;
    background: linear-gradient(90deg, var(--p1), var(--p2), var(--p3));
    -webkit-background-clip: text;
    background-clip: text;
    color: transparent;
    filter: drop-shadow(0 8px 22px color-mix(in oklab, var(--p2) 30%, transparent));
  }
  #solstice-lab .hero p {
    margin: 0;
    color: var(--muted);
    font-size: clamp(13px, 1.5vw, 16px);
    max-width: 68ch;
  }

  /* Kinetic clock */
  #solstice-lab .dial-wrap {
    position: relative;
    z-index: 2;
    display: grid;
    place-items: center;
    margin: clamp(16px, 3.8vw, 28px) 0;
    perspective: 900px;
  }
  #solstice-lab .dial {
    --size: clamp(180px, 42vw, 360px);
    width: var(--size);
    aspect-ratio: 1/1;
    border-radius: 50%;
    position: relative;
    background:
      conic-gradient(from var(--sweep, 0deg), color-mix(in oklab, var(--p1) 60%, transparent) 0deg, color-mix(in oklab, var(--p2) 60%, transparent) 180deg, color-mix(in oklab, var(--p3) 60%, transparent) 360deg);
    box-shadow:
      0 30px 80px rgba(0,0,0,0.28),
      inset 0 1px 0 rgba(255,255,255,0.15),
      0 0 0 1px var(--line);
    overflow: hidden;
    transform: rotateX(var(--rx)) rotateY(var(--ry));
  }
  #solstice-lab .dial::before {
    content: "";
    position: absolute;
    inset: 10%;
    border-radius: 50%;
    backdrop-filter: blur(20px) saturate(120%);
    background: radial-gradient(circle at 30% 30%, rgba(255,255,255,0.22), rgba(255,255,255,0.0) 60%);
    border: 1px solid var(--line);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.2);
  }
  #solstice-lab .tick {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    mask: radial-gradient(circle, transparent 48%, #000 48.2% 51%, transparent 51.2%);
    background:
      repeating-conic-gradient(from 0deg, rgba(255,255,255,0.18) 0 2deg, transparent 2deg 6deg);
    opacity: 0.55;
    mix-blend-mode: screen;
  }
  #solstice-lab .sec-dot {
    position: absolute;
    left: 50%; top: 50%;
    width: 10px; height: 10px; border-radius: 50%;
    background: #fff;
    transform-origin: -90px 0; /* will be overridden */
    box-shadow: 0 0 18px color-mix(in oklab, var(--p1) 70%, transparent);
  }
  #solstice-lab .orbit {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    border: 1px dashed color-mix(in oklab, var(--p1) 35%, transparent);
    transform: rotateX(var(--rx)) rotateY(var(--ry));
    opacity: .55;
  }

  /* Meta */
  #solstice-lab .meta {
    position: relative;
    z-index: 3;
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: 12px;
    margin-top: clamp(10px, 1.8vw, 16px);
    color: var(--muted);
    font-size: 12px;
  }
  #solstice-lab .quote {
    opacity: 0.9;
  }
  #solstice-lab .time {
    display: inline-flex;
    align-items: center;
    gap: 10px;
    white-space: nowrap;
  }
  #solstice-lab .time .bead {
    width: 7px; height: 7px; border-radius: 50%;
    background: var(--p3);
    box-shadow: 0 0 14px color-mix(in oklab, var(--p3) 65%, transparent);
  }

  /* Reduced motion */
  @media (prefers-reduced-motion: reduce) {
    #solstice-lab .rib { animation: none !important; }
  }
</style>

<div class="frame" role="region" aria-label="Aurora Atelier interactive canvas">
  <div class="ribbons" aria-hidden="true">
    <div class="rib r1"></div>
    <div class="rib r2"></div>
    <div class="rib r3"></div>
  </div>
  <div class="grid" aria-hidden="true"></div>

  <div class="header">
    <div class="brand">
      <span class="glyph" aria-hidden="true"></span>
      <span>aurora atelier — issue 52</span>
    </div>

    <div class="controls" aria-label="Controls">
      <div class="pill" role="group" aria-label="Theme">
        <button class="chip" data-theme="aurora" aria-pressed="true">Aurora</button>
        <button class="chip" data-theme="ember" aria-pressed="false">Ember</button>
        <button class="chip" data-theme="noir" aria-pressed="false">Noir</button>
      </div>
      <div class="pill" role="group" aria-label="Motion">
        <button class="chip" id="flow" aria-pressed="true">Flow</button>
        <button class="chip" id="freeze" aria-pressed="false">Freeze</button>
      </div>
    </div>
  </div>

  <div class="hero">
    <h1>Luminous time, softly woven.</h1>
    <p>Tilt to parallax. Pick a palette. The dial keeps real time while ribbons breathe in color.</p>
  </div>

  <div class="dial-wrap">
    <div class="dial">
      <div class="tick" aria-hidden="true"></div>
      <div class="orbit" aria-hidden="true"></div>
      <div class="sec-dot" aria-hidden="true"></div>
    </div>
  </div>

  <div class="meta">
    <span class="quote">“Subtle motion. Strong quiet.”</span>
    <span class="time"><span class="bead" aria-hidden="true"></span> Composed <span id="last-updated">Last updated: 2025-10-19 00:21:02 EST</span></span>
  </div>
</div>

<script>
  (function () {
    const root = document.getElementById('solstice-lab');
    root.setAttribute('data-theme', localStorage.getItem('atelier-theme') || 'aurora');

    const frame = root.querySelector('.frame');
    const chips = root.querySelectorAll('.chip[data-theme]');
    const flowBtn = root.querySelector('#flow');
    const freezeBtn = root.querySelector('#freeze');
    const dial = root.querySelector('.dial');
    const secDot = root.querySelector('.sec-dot');
    const stamp = root.querySelector('#last-updated');

    // Timestamp
    try {
      const now = new Date();
      const fmt = new Intl.DateTimeFormat(undefined, { dateStyle: 'medium', timeStyle: 'short' });
      stamp.textContent = fmt.format(now);
    } catch (e) {
      stamp.textContent = new Date().toLocaleString();
    }

    // Theme switching
    chips.forEach(btn => {
      btn.addEventListener('click', () => {
        chips.forEach(b => b.setAttribute('aria-pressed', 'false'));
        btn.setAttribute('aria-pressed', 'true');
        const th = btn.getAttribute('data-theme');
        root.setAttribute('data-theme', th);
        localStorage.setItem('atelier-theme', th);
        frame.animate([{ filter: 'brightness(1.1)' }, { filter: 'brightness(1)' }], { duration: 360, easing: 'ease-out' });
      });
      btn.addEventListener('keydown', (ev) => {
        if (ev.key === 'Enter' || ev.key === ' ') { ev.preventDefault(); btn.click(); }
      });
    });

    // Motion control
    let frozen = false;
    flowBtn.addEventListener('click', () => {
      frozen = false;
      flowBtn.setAttribute('aria-pressed', 'true');
      freezeBtn.setAttribute('aria-pressed', 'false');
    });
    freezeBtn.addEventListener('click', () => {
      frozen = true;
      flowBtn.setAttribute('aria-pressed', 'false');
      freezeBtn.setAttribute('aria-pressed', 'true');
    });

    // Tilt parallax
    function handleMove(e) {
      const r = frame.getBoundingClientRect();
      const x = (e.clientX - r.left) / r.width;
      const y = (e.clientY - r.top) / r.height;
      const ry = (x - 0.5) * 10;
      const rx = (0.5 - y) * 8;
      root.style.setProperty('--ry', ry.toFixed(2) + 'deg');
      root.style.setProperty('--rx', rx.toFixed(2) + 'deg');
      root.style.setProperty('--elev', (2 + (x - 0.5) * 3).toFixed(2) + 'px');
    }
    frame.addEventListener('pointermove', handleMove, { passive: true });

    // Clock + kinetic sweep
    let raf = null;
    function tick() {
      const now = new Date();
      const ms = now.getMilliseconds();
      const s = now.getSeconds() + ms / 1000;
      const m = now.getMinutes() + s / 60;
      const h = now.getHours() % 12 + m / 60;

      // Sweep angle blends hours/minutes subtly
      const sweep = (m / 60) * 360;
      dial.style.setProperty('--sweep', sweep + 'deg');

      // Second dot radius and rotation
      const size = dial.getBoundingClientRect().width;
      const radius = (size * 0.5) - (size * 0.14);
      const theta = (s / 60) * 360;
      secDot.style.transform = `translate(-50%,-50%) rotate(${theta}deg) translate(${radius}px)`;
      secDot.style.transformOrigin = `0 0`;

      if (!frozen && !prefersReduced) raf = requestAnimationFrame(tick);
    }

    // Respect reduced motion
    const mq = window.matchMedia('(prefers-reduced-motion: reduce)');
    let prefersReduced = mq.matches;
    function applyMotionPref() {
      prefersReduced = mq.matches;
      if (prefersReduced) {
        if (raf) cancelAnimationFrame(raf);
      } else if (!frozen) {
        if (raf) cancelAnimationFrame(raf);
        raf = requestAnimationFrame(tick);
      }
    }
    mq.addEventListener ? mq.addEventListener('change', applyMotionPref) : mq.addListener(applyMotionPref);
    applyMotionPref();

    // Start loop if allowed
    if (!prefersReduced && !frozen) raf = requestAnimationFrame(tick);

    // Micro press animation for buttons
    root.querySelectorAll('.chip').forEach(b => {
      b.addEventListener('click', () => {
        b.animate([{ transform: 'translateY(0)' }, { transform: 'translateY(1px)' }, { transform: 'translateY(0)' }], { duration: 140, easing: 'ease-out' });
      });
    });
  })();
</script>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


