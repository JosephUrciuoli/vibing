<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section id="poster" data-theme="dawn" aria-label="Orbital Sonnet">
  <style>
    /* ——— Design tokens ——— */
    #poster {
      --fg: #f7fbff;
      --muted: #b9c7d8;
      --line: rgba(255,255,255,0.18);
      --glass: rgba(255,255,255,0.08);
      --a1: #ffd89b; /* overridden by theme */
      --a2: #ff8fb1;
      --a3: #9bd7ff;
      --speed: 1;
      --tx: 0deg;
      --ty: 0deg;
      --depth: 800px;

      position: relative;
      border-radius: 36px;
      padding: clamp(18px, 4.8vw, 42px);
      color: var(--fg);
      background:
        radial-gradient(160% 120% at 20% -10%, rgba(255,255,255,0.10), transparent 55%),
        linear-gradient(180deg, #0a0c14, #0e1421 40%, #0b1020 100%);
      border: 1px solid var(--line);
      box-shadow: 0 30px 120px rgba(0,0,0,0.55), inset 0 0 0 1px rgba(255,255,255,0.05);
      font: 500 15px/1.6 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
      overflow: hidden;
      isolation: isolate;
      min-height: 520px;
    }

    /* Themes */
    #poster[data-theme="dawn"]  { --a1:#ffd89b; --a2:#ff8fb1; --a3:#fff6a9; }
    #poster[data-theme="dusk"]  { --a1:#8b7cff; --a2:#66e0ff; --a3:#ff87d3; }
    #poster[data-theme="ocean"] { --a1:#6de8ff; --a2:#5a7dff; --a3:#60ffc7; }
    #poster[data-theme="ember"] { --a1:#ffae72; --a2:#ff6a96; --a3:#ffd27a; }

    /* Aurora background */
    #poster .aurora,
    #poster .grain {
      position: absolute; inset: 0; pointer-events: none;
    }
    #poster .aurora::before,
    #poster .aurora::after {
      content: "";
      position: absolute; inset: -30%;
      background:
        conic-gradient(from 0turn at 60% 40%,
          color-mix(in oklab, var(--a1) 48%, transparent) 0 10%,
          color-mix(in oklab, var(--a2) 42%, transparent) 10% 40%,
          color-mix(in oklab, var(--a3) 38%, transparent) 40% 66%,
          transparent 66% 100%);
      filter: blur(60px) saturate(120%);
      mix-blend-mode: screen;
      opacity: .6;
      animation: sweep calc(46s / var(--speed)) linear infinite;
    }
    #poster .aurora::after {
      inset: -24%;
      filter: blur(40px);
      opacity: .55;
      animation-duration: calc(72s / var(--speed));
      animation-direction: reverse;
    }
    @keyframes sweep { to { transform: rotate(1turn); } }

    /* Subtle film grain (CSS only) */
    #poster .grain {
      background-image:
        radial-gradient(1px 1px at 9% 17%, rgba(255,255,255,0.07), transparent),
        radial-gradient(1px 1px at 73% 63%, rgba(255,255,255,0.06), transparent),
        radial-gradient(1px 1px at 38% 84%, rgba(255,255,255,0.06), transparent),
        radial-gradient(1px 1px at 91% 28%, rgba(255,255,255,0.05), transparent);
      background-size: 180px 180px, 220px 220px, 210px 210px, 200px 200px;
      mix-blend-mode: overlay;
      opacity: .65;
      animation: jitter calc(2.4s / var(--speed)) steps(2) infinite;
    }
    @keyframes jitter { 50% { transform: translate(.6px, .6px) } }

    /* ——— Top bar ——— */
    #poster .top {
      position: relative; z-index: 3;
      display: flex; align-items: center; justify-content: space-between; gap: 12px;
      margin-bottom: clamp(10px, 2vw, 18px);
    }
    #poster .brand {
      display: inline-flex; align-items: center; gap: 10px; color: var(--muted);
      user-select: none; letter-spacing: .2px;
    }
    #poster .mark {
      width: 28px; height: 28px; border-radius: 10px; position: relative; overflow: hidden;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.06));
      box-shadow: 0 14px 28px color-mix(in oklab, var(--a1) 22%, transparent), inset 0 0 0 1px rgba(255,255,255,0.08);
    }
    #poster .mark::after {
      content: ""; position: absolute; inset: -40%;
      background: conic-gradient(from 0turn, var(--a1), var(--a2), var(--a3), var(--a1));
      filter: blur(14px); opacity: .9; animation: roll calc(16s / var(--speed)) linear infinite;
    }
    @keyframes roll { to { transform: rotate(1turn); } }

    /* ——— Hero ——— */
    #poster .hero {
      position: relative; z-index: 3;
      text-align: center; display: grid; gap: clamp(8px,2.2vw,14px);
      margin: clamp(6px,2.4vw,16px) 0;
      justify-items: center;
    }
    #poster .kicker {
      color: color-mix(in oklab, var(--fg) 86%, transparent);
      font-weight: 800; letter-spacing: .22em; text-transform: uppercase;
      font-size: clamp(11px, 2vw, 13px); opacity: .9;
    }
    #poster .title {
      font-weight: 900; letter-spacing: -0.02em; line-height: .92;
      font-size: clamp(34px, 7.4vw, 92px);
      background: linear-gradient(90deg, var(--fg), var(--a1) 30%, var(--a2) 60%, var(--a3));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 2px 12px rgba(0,0,0,0.28));
    }
    #poster .subtitle {
      color: var(--muted);
      font-size: clamp(13px, 2vw, 18px);
      max-width: 60ch;
    }

    /* ——— Orbital scene ——— */
    #poster .scene {
      position: relative; z-index: 2;
      display: grid; place-items: center;
      margin: clamp(8px,2.4vw,20px) 0;
      min-height: clamp(260px, 48vmin, 520px);
      perspective: var(--depth);
      perspective-origin: 50% 40%;
    }
    #poster .stage {
      position: relative;
      width: min(78vmin, 820px);
      aspect-ratio: 1;
      transform-style: preserve-3d;
      transform: rotateX(var(--tx)) rotateY(var(--ty));
      transition: transform .18s ease;
      filter: drop-shadow(0 24px 64px rgba(0,0,0,0.35));
    }
    #poster .portal {
      position: absolute; inset: 0; border-radius: 50%;
      background:
        radial-gradient(closest-side, rgba(255,255,255,0.14), transparent 60%),
        radial-gradient(70% 70% at 50% 50%,
          color-mix(in oklab,var(--a2) 18%, transparent), transparent 60%);
      border: 1px solid var(--line);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05);
      backdrop-filter: blur(2px) saturate(108%);
    }

    #poster .rings { position: absolute; inset: 0; }
    #poster .track {
      position: absolute; top: 50%; left: 50%;
      translate: -50% -50%;
      width: calc(var(--r) * 2px);
      height: calc(var(--r) * 2px);
      border-radius: 50%;
      border: 1px dashed rgba(255,255,255,0.18);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.05);
      opacity: .9;
      pointer-events: none;
    }
    #poster .carrier {
      position: absolute; top: 50%; left: 50%;
      translate: -50% -50%;
      width: calc(var(--r) * 2px);
      height: calc(var(--r) * 2px);
      animation: spin linear infinite;
      animation-duration: calc(var(--d) * 1s / var(--speed));
      transform-origin: center;
      filter: drop-shadow(0 10px 22px rgba(0,0,0,0.35));
    }
    #poster .carrier.alt { animation-direction: reverse; }
    #poster .carrier .planet {
      position: absolute; top: 50%; left: 50%;
      translate: calc(var(--r) * 1px) -50%;
      width: var(--p); height: var(--p); border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff, color-mix(in oklab, var(--a1) 20%, var(--a2)) 48%, var(--a2) 88%);
      box-shadow:
        0 0 0 6px color-mix(in oklab, var(--a1) 20%, transparent),
        0 16px 26px rgba(0,0,0,0.45);
    }
    #poster .carrier .trail {
      position: absolute; top: 50%; left: 50%;
      translate: calc(var(--r) * 1px) -50%;
      width: 120px; height: 2px; border-radius: 2px;
      background: linear-gradient(90deg, rgba(255,255,255,0.65), rgba(255,255,255,0));
      transform-origin: left center;
      rotate: -12deg;
      opacity: .45;
      filter: blur(.4px);
    }
    @keyframes spin { to { transform: rotate(1turn); } }

    /* Core time display */
    #poster .core {
      position: absolute; inset: 24% 24%;
      display: grid; place-items: center; border-radius: 50%;
      background: radial-gradient(closest-side, rgba(255,255,255,0.12), rgba(255,255,255,0.04));
      border: 1px solid var(--line);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.06),
        0 18px 48px rgba(0,0,0,0.35);
      backdrop-filter: blur(6px) saturate(120%);
      text-align: center;
      padding: 18px;
    }
    #poster .clock {
      font-weight: 900; letter-spacing: -0.02em; line-height: 1;
      font-size: clamp(26px, 7vmin, 64px);
      background: linear-gradient(90deg, var(--fg), var(--a1) 40%, var(--a2) 72%, var(--a3));
      -webkit-background-clip: text; background-clip: text; color: transparent;
    }
    #poster .motto { color: var(--muted); font-size: clamp(11px, 1.8vw, 13px); letter-spacing: .12em; text-transform: uppercase; margin-top: 6px; }

    /* ——— Controls ——— */
    #poster .controls {
      position: relative; z-index: 3;
      display: grid; grid-template-columns: 1fr; gap: 12px; justify-items: center;
      margin-top: clamp(10px, 2.4vw, 18px);
    }
    #poster .row { display: flex; gap: 10px; flex-wrap: wrap; align-items: center; justify-content: center; }
    #poster .chip, #poster .swatch {
      appearance: none; cursor: pointer; user-select: none; -webkit-tap-highlight-color: transparent;
      padding: 10px 14px; border-radius: 14px;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06));
      color: var(--fg); font-weight: 800; letter-spacing: .2px; font-size: 12px;
      box-shadow: 0 10px 26px rgba(0,0,0,0.45), inset 0 0 0 1px rgba(255,255,255,0.06);
      transition: transform .12s ease, box-shadow .25s ease, background .2s ease;
    }
    #poster .chip:hover, #poster .swatch:hover { transform: translateY(-1px); box-shadow: 0 18px 36px rgba(0,0,0,0.55), 0 0 0 6px color-mix(in oklab, var(--a1) 24%, transparent); }
    #poster .chip:active { transform: translateY(0); }
    #poster .chip.primary {
      background:
        linear-gradient(180deg, rgba(255,255,255,0.18), rgba(255,255,255,0.10)),
        linear-gradient(90deg, var(--a1), var(--a2), var(--a3));
      background-blend-mode: overlay, normal;
      color: #0b1020;
      border-color: rgba(255,255,255,0.22);
    }
    #poster .swatch {
      width: 28px; height: 28px; border-radius: 999px; border: 1px solid var(--line);
      background: var(--bg);
      box-shadow: 0 10px 22px rgba(0,0,0,0.45), inset 0 0 0 1px rgba(255,255,255,0.08);
      padding: 0;
    }
    #poster .swatch.active::after { content: ""; position: absolute; inset: 3px; border: 2px solid rgba(255,255,255,0.85); border-radius: 999px; }
    #poster .slider {
      appearance: none; width: min(380px, 70vw); height: 10px; border-radius: 999px; background: rgba(255,255,255,0.1);
      outline: none; border: 1px solid var(--line);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06), 0 6px 16px rgba(0,0,0,0.35);
    }
    #poster .slider::-webkit-slider-thumb {
      -webkit-appearance: none; width: 22px; height: 22px; border-radius: 50%;
      background: linear-gradient(90deg, var(--a1), var(--a2));
      border: 1px solid rgba(255,255,255,0.8);
      box-shadow: 0 10px 20px color-mix(in oklab, var(--a1) 24%, transparent);
      cursor: pointer;
    }
    #poster .hint { color: var(--muted); font-size: 12px; }

    /* ——— Footer ——— */
    #poster .foot {
      position: relative; z-index: 3; margin-top: 18px;
      display: flex; flex-direction: column; gap: 10px; align-items: center; color: var(--muted);
    }
    #poster .rule { height: 1px; width: 100%; border-radius: 1px; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.25), transparent); opacity: .7; }
    #poster .meta {
      display: inline-flex; gap: 10px; align-items: center; font-size: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
      border: 1px solid var(--line); padding: 6px 10px; border-radius: 999px;
    }
    #poster .tag {
      padding: 4px 8px; border-radius: 999px; font-size: 11px; color: #0b1020;
      background: linear-gradient(90deg, var(--a1), var(--a2));
      box-shadow: 0 2px 10px color-mix(in oklab, var(--a1) 24%, transparent);
      font-weight: 800; letter-spacing: .3px;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      #poster, #poster * { animation: none !important; transition: none !important; }
      #poster .aurora { display: none; }
    }
  </style>

  <!-- Background layers -->
  <div class="aurora" aria-hidden="true"></div>
  <div class="grain" aria-hidden="true"></div>

  <!-- Top -->
  <div class="top">
    <div class="brand">
      <span class="mark" aria-hidden="true"></span>
      <span>Orbital Sonnet • Iteration 684</span>
    </div>
    <div class="brand" aria-hidden="true" style="gap:6px;">
      <span class="mark" aria-hidden="true" style="width:22px;height:22px;border-radius:8px;"></span>
      <span>Concentric Study</span>
    </div>
  </div>

  <!-- Hero -->
  <div class="hero">
    <div class="kicker">A circular meditation</div>
    <h1 class="title">Make time feel spacious.</h1>
    <p class="subtitle">Concentric rings drift at a human tempo. Tilt the scene with your cursor, tune the tempo, and change the sky.</p>
  </div>

  <!-- Orbital scene -->
  <div class="scene" id="scene">
    <div class="stage" id="stage" aria-hidden="true">
      <div class="portal"></div>
      <div class="rings" id="rings"></div>
      <div class="core" aria-live="polite">
        <div class="clock" id="clock">00:00:00</div>
        <div class="motto">Every orbit is a choice</div>
      </div>
    </div>
  </div>

  <!-- Controls -->
  <div class="controls" role="group" aria-label="Controls">
    <div class="row" aria-label="Themes">
      <button class="swatch active" data-theme="dawn" title="Dawn" style="--bg: linear-gradient(90deg,#ffd89b,#ff8fb1);"></button>
      <button class="swatch" data-theme="dusk" title="Dusk" style="--bg: linear-gradient(90deg,#8b7cff,#66e0ff);"></button>
      <button class="swatch" data-theme="ocean" title="Ocean" style="--bg: linear-gradient(90deg,#6de8ff,#5a7dff);"></button>
      <button class="swatch" data-theme="ember" title="Ember" style="--bg: linear-gradient(90deg,#ffae72,#ff6a96);"></button>
      <button class="chip primary" id="pause">Pause</button>
      <button class="chip" id="shuffle">Shuffle</button>
    </div>
    <div class="row" aria-label="Density and Tempo">
      <input class="slider" id="density" type="range" min="3" max="12" step="1" value="7" aria-label="Orbit count">
      <span class="hint" id="densityLabel">Rings: 7</span>
    </div>
    <div class="row" aria-label="Tempo">
      <input class="slider" id="speed" type="range" min="0.4" max="1.6" step="0.01" value="1" aria-label="Animation speed">
      <span class="hint" id="speedLabel">Tempo: 1.00×</span>
    </div>
  </div>

  <!-- Footer -->
  <div class="foot">
    <div class="rule" aria-hidden="true"></div>
    <small class="meta">
      <span class="tag">Updated</span>
      <span id="last-updated">Last updated: 2025-11-16 17:16:05 EST</span>
    </small>
  </div>

  <script>
    (function () {
      const root = document.getElementById('poster');
      const stage = root.querySelector('#stage');
      const ringsEl = root.querySelector('#rings');
      const clockEl = root.querySelector('#clock');
      const density = root.querySelector('#density');
      const densityLabel = root.querySelector('#densityLabel');
      const speed = root.querySelector('#speed');
      const speedLabel = root.querySelector('#speedLabel');
      const swatches = [...root.querySelectorAll('.swatch')];
      const pauseBtn = root.querySelector('#pause');
      const shuffleBtn = root.querySelector('#shuffle');
      const last = root.querySelector('#last-updated');

      // Last updated
      try {
        const fmt = new Intl.DateTimeFormat([], { dateStyle: 'medium', timeStyle: 'medium' });
        last.textContent = 'Last updated: ' + fmt.format(new Date());
      } catch {
        last.textContent = 'Last updated: ' + new Date().toLocaleString();
      }

      // Render concentric orbits
      function renderOrbits(n, shuffle=false) {
        ringsEl.innerHTML = '';
        const frag = document.createDocumentFragment();
        const base = 58;      // base radius in px
        const step = Math.min(stage.clientWidth, stage.clientHeight) / 16; // responsive spacing
        for (let i = 0; i < n; i++) {
          const r = Math.round(base + i * step);
          const d = (14 + i * 3.2) * (0.8 + Math.random() * 0.6); // seconds
          const p = Math.max(6, 12 - i) + (Math.random() * 4);    // planet size
          const carrier = document.createElement('div');
          carrier.className = 'carrier' + (i % 2 ? ' alt' : '');
          carrier.style.setProperty('--r', r);
          carrier.style.setProperty('--d', d.toFixed(2));
          carrier.style.transform = shuffle ? `rotate(${(Math.random()*360).toFixed(1)}deg)` : '';

          // subtle ellipse for variety
          if (shuffle && Math.random() > 0.5) {
            const sx = (0.88 + Math.random() * 0.24).toFixed(3);
            const sy = (0.88 + Math.random() * 0.24).toFixed(3);
            carrier.style.scale = `${sx} ${sy}`;
          }

          const track = document.createElement('div');
          track.className = 'track';
          track.style.setProperty('--r', r);

          const planet = document.createElement('span');
          planet.className = 'planet';
          planet.style.setProperty('--r', r);
          planet.style.setProperty('--p', p + 'px');

          const trail = document.createElement('span');
          trail.className = 'trail';
          trail.style.setProperty('--r', r);

          carrier.appendChild(trail);
          carrier.appendChild(planet);
          frag.appendChild(track);
          frag.appendChild(carrier);
        }
        ringsEl.appendChild(frag);
      }

      // Time
      function tickClock() {
        const now = new Date();
        const hh = String(now.getHours()).padStart(2, '0');
        const mm = String(now.getMinutes()).padStart(2, '0');
        const ss = String(now.getSeconds()).padStart(2, '0');
        clockEl.textContent = `${hh}:${mm}:${ss}`;
      }
      tickClock();
      const clockTimer = setInterval(tickClock, 1000);

      // Tilt interaction
      const scene = root.querySelector('#scene');
      const fine = matchMedia('(pointer:fine)').matches;
      if (fine) {
        let ticking = false;
        scene.addEventListener('pointermove', (e) => {
          if (ticking) return;
          requestAnimationFrame(() => {
            const rect = scene.getBoundingClientRect();
            const x = (e.clientX - rect.left) / rect.width - 0.5;
            const y = (e.clientY - rect.top) / rect.height - 0.5;
            root.style.setProperty('--ty', (x * 10).toFixed(2) + 'deg');
            root.style.setProperty('--tx', (-y * 10).toFixed(2) + 'deg');
            ticking = false;
          });
          ticking = true;
        });
        scene.addEventListener('pointerleave', () => {
          root.style.setProperty('--tx', '0deg');
          root.style.setProperty('--ty', '0deg');
        });
      }

      // Density
      function applyDensity(v, shuffle=false) {
        densityLabel.textContent = 'Rings: ' + v;
        renderOrbits(parseInt(v, 10), shuffle);
      }
      density.addEventListener('input', e => applyDensity(e.target.value));
      applyDensity(density.value);

      // Speed
      function applySpeed(v) {
        root.style.setProperty('--speed', v);
        speedLabel.textContent = 'Tempo: ' + Number(v).toFixed(2) + '×';
      }
      speed.addEventListener('input', e => applySpeed(e.target.value));
      applySpeed(speed.value);

      // Theme
      function setTheme(t) {
        root.dataset.theme = t;
        swatches.forEach(s => s.classList.toggle('active', s.dataset.theme === t));
      }
      swatches.forEach(s => s.addEventListener('click', () => setTheme(s.dataset.theme)));

      // Pause / Play
      let paused = false;
      pauseBtn.addEventListener('click', () => {
        paused = !paused;
        stage.querySelectorAll('.carrier').forEach(el => el.style.animationPlayState = paused ? 'paused' : 'running');
        root.querySelector('.aurora')?.style && (root.querySelector('.aurora').style.animationPlayState = paused ? 'paused' : 'running');
        pauseBtn.textContent = paused ? 'Play' : 'Pause';
      });

      // Shuffle
      shuffleBtn.addEventListener('click', () => applyDensity(density.value, true));

      // Time-of-day auto theme
      try {
        const hour = new Date().getHours();
        if (hour >= 6 && hour < 12) setTheme('dawn');
        else if (hour >= 12 && hour < 18) setTheme('ocean');
        else setTheme('dusk');
      } catch {}

      // Clean up if needed (for embedded environments)
      window.addEventListener('beforeunload', () => clearInterval(clockTimer));
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


