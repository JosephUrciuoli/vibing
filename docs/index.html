<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="vibe-489" data-palette="bloom" data-motion="on" aria-label="Vibe 489 — Kinetic Poster">
  <style>
    .vibe-489 {
      --bg-0:#f6f7fb; --bg-1:#ffffff; --ink:#0b1020; --muted:#475569;
      --ac-1:#ff7ad9; --ac-2:#7c4dff; --ac-3:#36ffd1; --ring:rgba(11,16,32,0.12);
      position: relative; overflow: hidden; border-radius: 22px; padding: clamp(18px, 3vw, 28px);
      background:
        radial-gradient(1200px 800px at 120% -10%, rgba(124,77,255,0.08), transparent 60%),
        radial-gradient(1100px 900px at -10% 120%, rgba(54,255,209,0.10), transparent 55%),
        linear-gradient(180deg, var(--bg-0), var(--bg-1));
      color: var(--ink); min-height: 420px; isolation: isolate;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica Neue, Arial;
      box-shadow: 0 20px 60px rgba(0,0,0,0.20), inset 0 1px 0 rgba(255,255,255,0.6);
    }
    .vibe-489 * { box-sizing: border-box; }

    /* Soft paper micro-grid */
    .vibe-489::before {
      content:""; position:absolute; inset:0; z-index:0; pointer-events:none;
      background-image:
        radial-gradient(circle at 25% 20%, rgba(11,16,32,0.05), transparent 40%),
        radial-gradient(circle at 75% 80%, rgba(11,16,32,0.04), transparent 45%),
        linear-gradient(transparent, transparent),
        repeating-linear-gradient(90deg, rgba(11,16,32,0.04) 0 1px, transparent 1px 40px),
        repeating-linear-gradient(0deg, rgba(11,16,32,0.03) 0 1px, transparent 1px 40px);
      mix-blend-mode: multiply;
    }

    /* Palettes */
    .vibe-489[data-palette="bloom"]  { --ac-1:#ff7ad9; --ac-2:#7c4dff; --ac-3:#36ffd1; }
    .vibe-489[data-palette="midnight"]{ --ac-1:#00c6ff; --ac-2:#6a8bff; --ac-3:#00ffa3; }
    .vibe-489[data-palette="salt"]   { --ac-1:#111827; --ac-2:#64748b; --ac-3:#f59e0b; }

    /* Canvas field */
    .vibe-489 #field {
      position:absolute; inset: -12% -12% -12% -12%; z-index:1; filter: blur(4px) saturate(115%);
      opacity: 0.9; mix-blend-mode: multiply; pointer-events:none;
    }

    /* Masthead */
    .vibe-489 .mast { position:relative; z-index:2; max-width: 1100px; margin: 0 auto; }
    .vibe-489 .eyebrow {
      display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px;
      background: rgba(255,255,255,0.65); border:1px solid var(--ring);
      box-shadow: 0 4px 16px rgba(11,16,32,0.08), inset 0 1px 0 rgba(255,255,255,0.8);
      font-weight:600; letter-spacing:.2px; backdrop-filter: blur(8px);
    }
    .vibe-489 .eyebrow::before {
      content:""; width:8px; height:8px; border-radius:50%; background: var(--ac-3);
      box-shadow: 0 0 0 6px color-mix(in oklab, var(--ac-3), transparent 75%);
    }
    .vibe-489 h1 {
      margin: 14px 0 6px; font-size: clamp(36px, 8vw, 84px); line-height: .95; letter-spacing:-0.5px;
      background: linear-gradient(90deg, var(--ink), color-mix(in oklab, var(--ac-1), var(--ink) 50%));
      -webkit-background-clip: text; background-clip: text; color: transparent;
    }
    .vibe-489 .lede { margin: 0; color: var(--muted); max-width: 70ch; font-size: clamp(14px, 2.2vw, 18px); }

    /* Controls */
    .vibe-489 .controls { display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-top: 16px; }
    .vibe-489 .chip {
      appearance:none; border:none; cursor:pointer; padding:8px 12px; border-radius:999px; font-weight:700;
      color:#0b1020; background: white; border:1px solid var(--ring);
      box-shadow: 0 6px 18px rgba(11,16,32,0.08), inset 0 1px 0 rgba(255,255,255,0.8);
      transition: transform .2s ease, box-shadow .2s ease, background .2s ease, color .2s ease;
    }
    .vibe-489 .chip[data-active="true"] {
      background: linear-gradient(180deg, white, rgba(255,255,255,0.75));
      box-shadow: 0 10px 30px color-mix(in oklab, var(--ac-2), transparent 70%), inset 0 0 0 2px color-mix(in oklab, var(--ac-2), transparent 70%);
      transform: translateY(-1px);
    }
    .vibe-489 .knob {
      display:flex; align-items:center; gap:10px; padding:8px 12px; border-radius:12px;
      background: rgba(255,255,255,0.75); border:1px solid var(--ring); font-weight:600;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.85);
    }
    .vibe-489 input[type="range"] {
      -webkit-appearance:none; width: 180px; height: 8px; border-radius:999px; background: color-mix(in oklab, var(--ac-1) 30%, var(--ac-2) 70%);
      outline: none; box-shadow: inset 0 0 0 1px rgba(11,16,32,0.08);
    }
    .vibe-489 input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none; width: 18px; height:18px; border-radius:50%; background:white;
      border:1px solid var(--ring); box-shadow: 0 4px 10px rgba(11,16,32,0.25), 0 0 0 6px rgba(255,255,255,0.65) inset;
    }
    .vibe-489 .motion {
      appearance:none; border:none; cursor:pointer; padding:8px 12px; border-radius:12px; font-weight:700;
      background: color-mix(in oklab, var(--ac-3), white 70%); color:#0b1020; border:1px solid var(--ring);
      box-shadow: 0 6px 18px rgba(11,16,32,0.08);
      transition: transform .2s ease, filter .2s ease;
    }
    .vibe-489 .motion:hover { transform: translateY(-1px); filter: saturate(110%); }

    /* Flow line */
    .vibe-489 .flow {
      position: relative; z-index:2; margin-top: 22px; overflow:hidden; border-radius: 16px;
      border:1px solid var(--ring); background: rgba(255,255,255,0.65); backdrop-filter: blur(6px);
    }
    .vibe-489 .track {
      display:flex; gap:40px; white-space:nowrap; padding:10px 16px; align-items:center;
      animation: slide 22s linear infinite;
      color: color-mix(in oklab, var(--ink), var(--ac-2) 25%); font-weight:700; letter-spacing:.2px;
    }
    .vibe-489 .track span {
      display:inline-flex; align-items:center; gap:10px;
    }
    .vibe-489 .dot {
      width:8px; height:8px; border-radius:50%; background: var(--ac-1);
      box-shadow: 0 0 0 6px color-mix(in oklab, var(--ac-1), transparent 80%);
    }
    @keyframes slide {
      from { transform: translateX(0); }
      to   { transform: translateX(-50%); }
    }
    .vibe-489 .flow:hover .track { animation-play-state: paused; }

    /* Footer */
    .vibe-489 .foot {
      position:relative; z-index:2; display:flex; align-items:center; justify-content:space-between;
      margin-top: 18px; color: var(--muted); font-size: 13px;
    }

    /* Motion preferences */
    @media (prefers-reduced-motion: reduce) {
      .vibe-489 .track { animation: none !important; }
      .vibe-489 #field { filter: none; }
    }
    .vibe-489[data-motion="off"] .track { animation: none !important; }
  </style>

  <canvas id="field" aria-hidden="true"></canvas>

  <div class="mast">
    <div class="eyebrow">Iteration 489 — Kinetic Study</div>
    <h1>Quiet Energy</h1>
    <p class="lede">A living gradient that sketches waves to your touch and time of day.</p>

    <div class="controls" role="group" aria-label="Scene controls">
      <div class="chips" role="group" aria-label="Palette">
        <button class="chip" data-palette="bloom" data-active="true" aria-pressed="true" title="Bloom">Bloom</button>
        <button class="chip" data-palette="midnight" aria-pressed="false" title="Midnight">Midnight</button>
        <button class="chip" data-palette="salt" aria-pressed="false" title="Salt">Salt</button>
      </div>
      <label class="knob" for="intensity">Intensity
        <input id="intensity" type="range" min="0.2" max="1.6" step="0.1" value="0.9" aria-label="Intensity">
      </label>
      <button class="motion" id="motion" aria-pressed="true" title="Toggle motion">Motion: On</button>
    </div>
  </div>

  <div class="flow" aria-hidden="true">
    <div class="track">
      <span><i class="dot"></i> Calm</span>
      <span><i class="dot"></i> Clear</span>
      <span><i class="dot"></i> Considered</span>
      <span><i class="dot"></i> Poised</span>
      <span><i class="dot"></i> Tactile</span>
      <span><i class="dot"></i> Playful</span>
      <span><i class="dot"></i> Quiet</span>
      <span><i class="dot"></i> Bright</span>
      <span><i class="dot"></i> Fluid</span>
      <span><i class="dot"></i> Gentle</span>
      <span><i class="dot"></i> Focused</span>
      <!-- duplicate for seamless loop -->
      <span><i class="dot"></i> Calm</span>
      <span><i class="dot"></i> Clear</span>
      <span><i class="dot"></i> Considered</span>
      <span><i class="dot"></i> Poised</span>
      <span><i class="dot"></i> Tactile</span>
      <span><i class="dot"></i> Playful</span>
      <span><i class="dot"></i> Quiet</span>
      <span><i class="dot"></i> Bright</span>
      <span><i class="dot"></i> Fluid</span>
      <span><i class="dot"></i> Gentle</span>
      <span><i class="dot"></i> Focused</span>
    </div>
  </div>

  <div class="foot">
    <small>Designed to breathe — not shout.</small>
    <span id="last-updated">Last updated: 2025-11-07 17:16:13 EST</span>
  </div>

  <script>
    (function(){
      const root = document.currentScript.closest('.vibe-489');
      const canvas = root.querySelector('#field');
      const ctx = canvas.getContext('2d', { alpha: true });
      const intensityEl = root.querySelector('#intensity');
      const motionBtn = root.querySelector('#motion');
      const last = root.querySelector('#last-updated');
      const chips = root.querySelectorAll('.chip');

      // Palettes
      const PALETTES = {
        bloom: ['#ff7ad9','#7c4dff','#36ffd1','#99ffe6'],
        midnight: ['#00c6ff','#6a8bff','#00ffa3','#87f7ff'],
        salt: ['#111827','#64748b','#f59e0b','#94a3b8']
      };

      // Time-based initial palette
      const hour = new Date().getHours();
      const initial = hour < 9 ? 'salt' : (hour < 18 ? 'bloom' : 'midnight');
      setPalette(initial);

      // Canvas sizing
      let dpr = Math.max(1, Math.min(2, window.devicePixelRatio || 1));
      function resize() {
        const rect = root.getBoundingClientRect();
        canvas.width = rect.width * dpr * 1.24;
        canvas.height = rect.height * dpr * 1.24;
        canvas.style.width = rect.width * 1.24 + 'px';
        canvas.style.height = rect.height * 1.24 + 'px';
        ctx.setTransform(dpr,0,0,dpr,0,0);
      }
      resize();
      window.addEventListener('resize', resize);

      // State
      let t = 0;
      let running = true;
      let intensity = parseFloat(intensityEl.value);
      let palette = PALETTES[root.getAttribute('data-palette')] || PALETTES.bloom;
      const pointer = { x: 0.5, y: 0.5, vx: 0, vy: 0, ts: 0 };

      root.addEventListener('pointermove', (e)=>{
        const r = root.getBoundingClientRect();
        const nx = (e.clientX - r.left) / Math.max(1, r.width);
        const ny = (e.clientY - r.top) / Math.max(1, r.height);
        pointer.vx += (nx - pointer.x) * 0.35;
        pointer.vy += (ny - pointer.y) * 0.35;
        pointer.ts = performance.now();
      });

      // Controls
      chips.forEach(btn=>{
        btn.addEventListener('click', ()=>{
          setPalette(btn.dataset.palette);
        });
      });
      function setPalette(name){
        root.setAttribute('data-palette', name);
        palette = PALETTES[name] || palette;
        chips.forEach(b=>{
          const active = b.dataset.palette === name;
          b.dataset.active = active ? "true" : "false";
          b.setAttribute('aria-pressed', active ? 'true' : 'false');
        });
        // gently tint background accent
        root.style.setProperty('--ac-1', palette[0]);
        root.style.setProperty('--ac-2', palette[1]);
        root.style.setProperty('--ac-3', palette[2]);
      }

      intensityEl.addEventListener('input', e=>{
        intensity = parseFloat(e.target.value || '1');
      });

      motionBtn.addEventListener('click', ()=>{
        const isOn = root.getAttribute('data-motion') !== 'off';
        root.setAttribute('data-motion', isOn ? 'off' : 'on');
        motionBtn.textContent = 'Motion: ' + (isOn ? 'Off' : 'On');
        motionBtn.setAttribute('aria-pressed', isOn ? 'false' : 'true');
        running = !isOn;
        if (running) raf();
        else drawStatic();
      });

      // Draw waves
      function draw(time){
        const { width: Wcss, height: Hcss } = canvas.getBoundingClientRect();
        const W = Wcss, H = Hcss;
        ctx.clearRect(0,0,W,H);
        // gentle paper base
        ctx.fillStyle = 'rgba(255,255,255,0.65)';
        ctx.fillRect(0,0,W,H);

        const cx = W * (0.4 + pointer.x * 0.2);
        const cy = H * (0.45 + (pointer.y - 0.5) * 0.3);

        // decay pointer velocity
        pointer.vx *= 0.85; pointer.vy *= 0.85;
        pointer.x += pointer.vx * 0.1; pointer.y += pointer.vy * 0.1;

        const layers = 7;
        for (let i = 0; i < layers; i++){
          const p = i / (layers - 1);
          const hue = palette[i % palette.length];
          const amp = (40 + p * 90) * intensity;
          const freq = 0.8 + p * 0.9;
          const speed = 0.0008 + p * 0.0006;
          const lw = 44 - p * 30;

          ctx.beginPath();
          for (let x = -W*0.1; x <= W*1.1; x += 8){
            const y = cy + Math.sin((x*0.01*freq) + t*speed*240 + i*0.6) * amp
                          + Math.cos((x*0.007) - t*speed*180) * (amp*0.15);
            if (x === -W*0.1) ctx.moveTo(x, y);
            else ctx.lineTo(x, y);
          }
          ctx.strokeStyle = hue;
          ctx.globalAlpha = 0.075 + (0.12 * (1 - p));
          ctx.lineWidth = lw;
          ctx.lineCap = 'round';
          ctx.lineJoin = 'round';
          ctx.globalCompositeOperation = 'lighter';
          ctx.stroke();
        }

        // Halo
        const grad = ctx.createRadialGradient(cx, cy, 0, cx, cy, Math.max(W,H)*0.6);
        grad.addColorStop(0, hexToRgba(palette[2], 0.18));
        grad.addColorStop(1, 'rgba(255,255,255,0)');
        ctx.globalAlpha = 1;
        ctx.globalCompositeOperation = 'multiply';
        ctx.fillStyle = grad;
        ctx.beginPath(); ctx.rect(0,0,W,H); ctx.fill();
        ctx.globalCompositeOperation = 'source-over';
      }

      function hexToRgba(hex, a){
        const x = hex.replace('#','');
        const bigint = parseInt(x.length===3 ? x.split('').map(c=>c+c).join('') : x, 16);
        const r = (bigint >> 16) & 255, g = (bigint >> 8) & 255, b = bigint & 255;
        return `rgba(${r},${g},${b},${a})`;
      }

      function raf(now){
        if (root.getAttribute('data-motion') === 'off') return;
        t = now || performance.now();
        draw(t);
        requestAnimationFrame(raf);
      }

      function drawStatic(){
        t = performance.now();
        draw(t);
      }

      // auto start
      requestAnimationFrame(raf);

      // Last updated
      try {
        const fmt = new Intl.DateTimeFormat(undefined, { dateStyle:'medium', timeStyle:'short' });
        last.textContent = 'Last updated: ' + fmt.format(new Date());
      } catch(e) {
        last.textContent = 'Last updated: ' + new Date().toLocaleString();
      }
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


