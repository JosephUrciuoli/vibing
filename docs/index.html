<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div class="atelier" role="region" aria-labelledby="title" aria-label="Horizon Atelier">
  <style>
    .atelier {
      --ink: #0f1a2b;
      --muted: #4a5a75;
      --panel: rgba(255,255,255,0.56);
      --panel-stroke: rgba(15,26,43,0.08);
      --shadow: 0 22px 60px rgba(15,26,43,0.14);
      --sky1: hsl(205 100% 97%);
      --sky2: hsl(35 100% 95%);
      --accent1: hsl(210 82% 52%);
      --accent2: hsl(30 92% 58%);
      --accent3: hsl(260 80% 60%);
      --mx: 50%;
      --my: 30%;
      --ray-angle: 120deg;
      position: relative;
      color: var(--ink);
      padding: clamp(24px, 4vw, 48px);
      border-radius: 28px;
      overflow: hidden;
      outline: 1px solid rgba(15,26,43,0.08);
      background:
        radial-gradient(520px 320px at var(--mx) var(--my), color-mix(in sRGB, var(--accent2) 14%, transparent), transparent 60%),
        linear-gradient(180deg, var(--sky1), var(--sky2));
      box-shadow: var(--shadow);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Inter, "Helvetica Neue", Arial;
      isolation: isolate;
      min-height: clamp(360px, 52vh, 640px);
    }
    /* Ambient rays */
    .atelier .rays {
      position: absolute;
      inset: -20%;
      pointer-events: none;
      z-index: 0;
      opacity: 0.45;
      mix-blend-mode: overlay;
      filter: blur(24px) saturate(110%);
      background:
        conic-gradient(from var(--ray-angle) at 50% 65%,
          transparent 0 20%,
          color-mix(in sRGB, var(--accent1) 18%, transparent) 22% 25%,
          transparent 32% 44%,
          color-mix(in sRGB, var(--accent2) 22%, transparent) 46% 50%,
          transparent 56% 70%,
          color-mix(in sRGB, var(--accent3) 18%, transparent) 72% 75%,
          transparent 80% 100%);
      animation: rotateRays 32s linear infinite;
    }
    @keyframes rotateRays { to { transform: rotate(360deg); } }

    /* Fine grain */
    .atelier::after {
      content: "";
      position: absolute; inset: 0;
      pointer-events: none;
      background:
        repeating-linear-gradient(90deg, rgba(0,0,0,0.02) 0 1px, transparent 1px 3px),
        repeating-linear-gradient(0deg, rgba(255,255,255,0.03) 0 1px, transparent 1px 3px);
      mix-blend-mode: overlay;
      opacity: 0.35;
      z-index: 1;
    }

    .atelier .grid {
      position: relative;
      z-index: 2;
      display: grid;
      grid-template-columns: 1.2fr 1fr;
      gap: clamp(18px, 3vw, 36px);
      align-items: center;
      max-width: 1100px;
      margin: 0 auto;
    }
    @media (max-width: 860px) { .atelier .grid { grid-template-columns: 1fr; } }

    .atelier .panel {
      background: var(--panel);
      border: 1px solid var(--panel-stroke);
      border-radius: 22px;
      padding: clamp(16px, 2.6vw, 24px);
      backdrop-filter: blur(12px);
      box-shadow: 0 10px 40px rgba(15,26,43,0.10), inset 0 1px 0 rgba(255,255,255,0.6);
    }

    .atelier .tag {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 7px 12px;
      border-radius: 999px;
      font-size: 11px;
      letter-spacing: 0.16em;
      text-transform: uppercase;
      color: #0b1728;
      background: linear-gradient(90deg, color-mix(in sRGB, var(--accent1) 70%, white), color-mix(in sRGB, var(--accent2) 70%, white));
      border: 1px solid rgba(255,255,255,0.7);
      box-shadow: 0 8px 22px rgba(15,26,43,0.16);
      user-select: none;
      width: max-content;
    }
    .atelier .tag .dot {
      width: 8px; height: 8px; border-radius: 50%;
      background: #0b1728;
      box-shadow: 0 0 0 3px rgba(11,23,40,0.12);
    }

    .atelier h1 {
      margin: 10px 0 6px 0;
      font-weight: 900;
      line-height: 0.95;
      font-size: clamp(32px, 7vw, 82px);
      letter-spacing: -0.02em;
      background: linear-gradient(90deg, #0f1a2b, color-mix(in sRGB, var(--accent1) 30%, #0f1a2b), color-mix(in sRGB, var(--accent2) 40%, #0f1a2b));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      text-wrap: balance;
    }
    .atelier .lede {
      color: var(--muted);
      font-size: clamp(14px, 2vw, 18px);
      line-height: 1.65;
      max-width: 60ch;
      margin: 6px 0 18px;
      text-wrap: pretty;
    }

    .atelier .controls {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .atelier .btn {
      appearance: none;
      position: relative;
      border: 1px solid rgba(15,26,43,0.18);
      border-radius: 14px;
      padding: 11px 16px;
      font-size: 14px;
      font-weight: 650;
      letter-spacing: 0.02em;
      background: linear-gradient(180deg, rgba(255,255,255,0.9), rgba(255,255,255,0.6));
      color: var(--ink);
      cursor: pointer;
      transition: transform 160ms ease, box-shadow 160ms ease, border-color 160ms ease;
      box-shadow: 0 10px 20px rgba(15,26,43,0.12);
    }
    .atelier .btn:hover { transform: translateY(-1px); box-shadow: 0 14px 28px rgba(15,26,43,0.16); border-color: rgba(15,26,43,0.28); }
    .atelier .btn:active { transform: translateY(0); }
    .atelier .btn.primary {
      background: linear-gradient(135deg, color-mix(in sRGB, var(--accent1) 64%, white), color-mix(in sRGB, var(--accent2) 64%, white));
      color: #0b1728;
      border-color: rgba(255,255,255,0.8);
      box-shadow: 0 12px 28px color-mix(in sRGB, var(--accent1) 35%, rgba(0,0,0,0.0));
    }
    .atelier .btn.ghost {
      background: linear-gradient(180deg, rgba(255,255,255,0.75), rgba(255,255,255,0.55));
    }
    .atelier .btn[aria-pressed="true"] { border-color: rgba(15,26,43,0.44); }

    .atelier .meta {
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--muted);
      font-size: 12px;
      margin-top: 14px;
      opacity: 0.95;
    }
    .atelier .pulse {
      width: 8px; height: 8px; border-radius: 50%;
      background: var(--accent1);
      box-shadow: 0 0 0 0 color-mix(in sRGB, var(--accent1) 40%, transparent);
      animation: pulse 3s ease-out infinite;
    }
    @keyframes pulse { 0%{box-shadow:0 0 0 0 color-mix(in sRGB, var(--accent1) 40%, transparent)} 70%{box-shadow:0 0 0 12px rgba(0,0,0,0)} 100%{box-shadow:0 0 0 0 rgba(0,0,0,0)} }

    /* Dial / Viz */
    .atelier .viz.panel { padding: clamp(18px, 3vw, 28px); }
    .atelier .dial {
      width: 100%;
      height: auto;
      display: block;
      overflow: visible;
      filter: drop-shadow(0 10px 30px rgba(15,26,43,0.12));
    }
    .atelier .arc {
      fill: none;
      stroke: color-mix(in sRGB, var(--accent1) 50%, var(--accent2));
      stroke-width: 10;
      stroke-linecap: round;
      opacity: 0.18;
    }
    .atelier .ticks { stroke: rgba(15,26,43,0.2); stroke-width: 1.5; opacity: 0.5; }
    .atelier .sun {
      fill: white;
      stroke: color-mix(in sRGB, var(--accent2) 80%, var(--accent1));
      stroke-width: 3;
      filter: drop-shadow(0 6px 14px color-mix(in sRGB, var(--accent2) 40%, transparent));
      cursor: grab;
      transition: r 120ms ease;
    }
    .atelier .sun:active { cursor: grabbing; }
    .atelier .halo {
      fill: radial-gradient(circle at center, transparent 40%, rgba(255,255,255,0.9) 100%);
    }
    .atelier .trail {
      fill: none;
      stroke: color-mix(in sRGB, var(--accent2) 55%, white);
      stroke-width: 3.5;
      stroke-linecap: round;
      opacity: 0.75;
      stroke-dasharray: 565;
      stroke-dashoffset: var(--trail, 565);
      transition: stroke 200ms ease;
    }

    /* Dusk mode */
    .atelier.dusk {
      --ink: #eef4ff;
      --muted: #b9c6db;
      --panel: rgba(6,10,18,0.56);
      --panel-stroke: rgba(255,255,255,0.08);
      --shadow: 0 22px 60px rgba(0,0,0,0.45);
      --sky1: hsl(230 35% 12%);
      --sky2: hsl(230 30% 9%);
      outline-color: rgba(255,255,255,0.08);
    }
    .atelier.dusk h1 { background: linear-gradient(90deg, #eaf2ff, color-mix(in sRGB, var(--accent1) 40%, #ffffff), color-mix(in sRGB, var(--accent2) 50%, #ffffff)); }
    .atelier.dusk .btn { color: #0b1728; }
    .atelier.dusk .btn.ghost { color: var(--ink); background: linear-gradient(180deg, rgba(255,255,255,0.2), rgba(255,255,255,0.12)); border-color: rgba(255,255,255,0.24); color: #eaf2ff; }
    .atelier.dusk .btn.primary { color: #0b1728; }
    .atelier.dusk .ticks { stroke: rgba(255,255,255,0.25); }

    @media (prefers-reduced-motion: reduce) {
      .atelier .rays { animation: none; }
      .atelier .pulse { animation: none; }
    }
  </style>

  <div class="rays" aria-hidden="true"></div>

  <div class="grid">
    <div class="copy panel">
      <div class="tag" aria-label="Edition number">
        <span class="dot" aria-hidden="true"></span>
        Edition 2212
      </div>

      <h1 id="title">Horizon Atelier</h1>
      <p class="lede">Compose your perfect morning. Drag the sun along the arc; the sky, colors, and rhythm will follow.</p>

      <div class="controls">
        <button class="btn primary" id="shuffle">Shuffle Palette</button>
        <button class="btn ghost" id="toggle" aria-pressed="false">Toggle Dusk</button>
      </div>

      <div class="meta" aria-live="polite">
        <span class="pulse" aria-hidden="true"></span>
        <span>Gentle, tactile, and responsive.</span>
        <span aria-hidden="true">•</span>
        <span id="last-updated">Last updated: 2026-01-26 14:22:07 EST</span>
      </div>
    </div>

    <div class="viz panel" aria-label="Day Dial">
      <svg class="dial" viewBox="0 0 420 260" preserveAspectRatio="xMidYMid meet" role="img" aria-labelledby="dial-title">
        <title id="dial-title">Interactive day dial</title>
        <defs>
          <linearGradient id="trailGrad" x1="0%" y1="0%" x2="100%" y2="0%">
            <stop offset="0%" stop-color="var(--accent1)"/>
            <stop offset="100%" stop-color="var(--accent2)"/>
          </linearGradient>
        </defs>
        <!-- base arc -->
        <path id="arc" class="arc" d="M 20 220 A 190 190 0 0 1 400 220" />
        <!-- tick marks -->
        <g class="ticks" opacity="0.7">
          <line x1="210" y1="30" x2="210" y2="50"/>
          <line x1="75" y1="145" x2="90" y2="155"/>
          <line x1="345" y1="145" x2="330" y2="155"/>
        </g>
        <!-- progress trail -->
        <path id="trail" class="trail" stroke="url(#trailGrad)" d="M 20 220 A 190 190 0 0 1 400 220" />
        <!-- sun -->
        <circle id="sun" class="sun" cx="20" cy="220" r="12" />
      </svg>
    </div>
  </div>

  <script>
    (function() {
      const root = document.currentScript.closest('.atelier');
      const last = root.querySelector('#last-updated');
      const toggle = root.querySelector('#toggle');
      const shuffle = root.querySelector('#shuffle');
      const rays = root.querySelector('.rays');
      const sun = root.querySelector('#sun');
      const trail = root.querySelector('#trail');

      // Time formatting
      const fmt = new Intl.DateTimeFormat(undefined, { dateStyle: 'medium', timeStyle: 'short' });
      last.textContent = "Updated " + fmt.format(new Date());

      // Pointer-follow glow
      root.addEventListener('pointermove', (e) => {
        const r = root.getBoundingClientRect();
        const mx = ((e.clientX - r.left) / r.width) * 100;
        const my = ((e.clientY - r.top) / r.height) * 100;
        root.style.setProperty('--mx', mx + '%');
        root.style.setProperty('--my', my + '%');
        const angle = Math.atan2((my - 65), (mx - 50)); // rough center for rays
        root.style.setProperty('--ray-angle', (angle * 180 / Math.PI) + 'deg');
      });

      // Dial geometry
      const cx = 210, cy = 220, r = 190; // center and radius match SVG
      function clamp(n, a, b) { return Math.max(a, Math.min(b, n)); }
      function hsl(h, s, l) { return `hsl(${h} ${s}% ${l}%)`; }
      function lerp(a, b, t) { return a + (b - a) * t; }

      let t = 0.18; // start at fresh morning
      setTime(t);

      function setTime(tt) {
        t = clamp(tt, 0, 1);
        const angle = Math.PI - t * Math.PI; // left (pi) -> right (0)
        const x = cx + r * Math.cos(angle);
        const y = cy - r * Math.sin(angle);
        sun.setAttribute('cx', x.toFixed(2));
        sun.setAttribute('cy', y.toFixed(2));

        // Progress trail (arc length approx: pi*r)
        const dash = (1 - t) * Math.PI * r;
        trail.style.setProperty('--trail', dash.toFixed(1));

        // Sky and palette morph
        const dayness = Math.sin(t * Math.PI); // 0 sunrise, 1 noon, 0 sunset
        const hue = lerp(210, 22, t);
        const a1 = hsl(hue, 80, 56);
        const a2 = hsl((hue + 40) % 360, 88, 58);
        const a3 = hsl((hue + 210) % 360, 78, 60);
        const skyTop = hsl(lerp(205, 230, 1 - dayness), 80, lerp(97, 18, 1 - dayness));
        const skyBot = hsl(lerp(35, 230, 1 - dayness), 90, lerp(95, 12, 1 - dayness));

        root.style.setProperty('--accent1', a1);
        root.style.setProperty('--accent2', a2);
        root.style.setProperty('--accent3', a3);
        root.style.setProperty('--sky1', skyTop);
        root.style.setProperty('--sky2', skyBot);

        // Ray drift
        const rayAng = 60 + t * 240;
        root.style.setProperty('--ray-angle', rayAng + 'deg');
      }

      // Dragging
      let dragging = false;
      function pointerToT(e) {
        const svg = root.querySelector('.dial');
        const rect = svg.getBoundingClientRect();
        const px = e.clientX - rect.left;
        const py = e.clientY - rect.top;
        const ang = Math.atan2(cy - py, px - cx); // 0..pi on upper semicircle
        const angClamped = clamp(ang, 0, Math.PI);
        const tt = 1 - (angClamped / Math.PI);
        return tt;
      }
      function onDown(e) {
        dragging = true;
        setTime(pointerToT(e));
        sun.setAttribute('r', 14);
        e.preventDefault();
      }
      function onMove(e) {
        if (!dragging) return;
        setTime(pointerToT(e));
      }
      function onUp() {
        dragging = false;
        sun.setAttribute('r', 12);
        last.textContent = "Sky adjusted • " + fmt.format(new Date());
      }
      sun.addEventListener('pointerdown', onDown);
      root.querySelector('.dial').addEventListener('pointerdown', onDown);
      window.addEventListener('pointermove', onMove);
      window.addEventListener('pointerup', onUp);

      // Dusk toggle
      toggle.addEventListener('click', () => {
        const pressed = toggle.getAttribute('aria-pressed') === 'true';
        toggle.setAttribute('aria-pressed', String(!pressed));
        root.classList.toggle('dusk', !pressed);
        last.textContent = (pressed ? "Dawn mode" : "Dusk mode") + " • " + fmt.format(new Date());
        // tiny bloom
        root.animate([{filter:'brightness(1)'},{filter:'brightness(1.1)'},{filter:'brightness(1)'}], {duration: 420, easing:'ease-out'});
      });

      // Shuffle palette
      function rand(min, max) { return Math.random() * (max - min) + min; }
      shuffle.addEventListener('click', () => {
        const base = Math.floor(rand(0,360));
        root.style.setProperty('--accent1', hsl(base, 85, 56));
        root.style.setProperty('--accent2', hsl((base + 40) % 360, 88, 58));
        root.style.setProperty('--accent3', hsl((base + 210) % 360, 78, 60));
        last.textContent = "Palette shuffled • " + fmt.format(new Date());
        rays.animate([{opacity:0.3},{opacity:0.55},{opacity:0.45}], {duration: 480, easing:'ease-out'});
      });

      // Time-of-day nudge
      const hour = new Date().getHours();
      const initialT = hour / 24; // map 0..23 to 0..~1
      setTime(initialT <= 1 ? initialT : t);
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


