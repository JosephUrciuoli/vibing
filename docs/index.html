<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div id="vibe751" aria-live="polite" data-theme="aurora">
  <style>
    /* =========================
       AURORA OBSERVATORY — Edition 751
       A bold pivot to luminous night: deep space, living color, kinetic orbits.
       ========================= */
    #vibe751 {
      --bg: #070b16;
      --bg-2: #0d1230;
      --ink: #eaf2ff;
      --muted: #9fb2d8;
      --accent: #7da3ff;
      --accent-2: #58f5d2;
      --ring: rgba(125,163,255,0.35);
      --glow: 0 0 40px var(--ring), 0 0 4px var(--accent);
      --radius: 28px;
      --shadow: 0 30px 90px rgba(0,0,0,0.45);
      --soft: 0 12px 40px rgba(9,12,26,0.6);
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial;
      color: var(--ink);
      -webkit-font-smoothing: antialiased;
      letter-spacing: 0.2px;
      --mx: 50%; --my: 50%;
    }

    /* THEMES */
    #vibe751[data-theme="aurora"] {
      --bg: #070b16; --bg-2: #0d1634;
      --ink: #eaf2ff; --muted: #9fb2d8;
      --accent: #7da3ff; --accent-2: #58f5d2; --ring: rgba(125,163,255,0.35);
    }
    #vibe751[data-theme="solar"] {
      --bg: #120a04; --bg-2: #2a1407;
      --ink: #fff6ea; --muted: #ffcf9c;
      --accent: #ff9b5e; --accent-2: #ffd966; --ring: rgba(255,171,103,0.4);
    }
    #vibe751[data-theme="midnight"] {
      --bg: #02040a; --bg-2: #0a0f1e;
      --ink: #e3ebff; --muted: #a2b2d8;
      --accent: #6bc1ff; --accent-2: #a58cff; --ring: rgba(107,193,255,0.45);
    }
    #vibe751[data-theme="rose"] {
      --bg: #120511; --bg-2: #2a0f2b;
      --ink: #ffe9f7; --muted: #ffb9de;
      --accent: #ff7ab3; --accent-2: #b27dff; --ring: rgba(255,122,179,0.45);
    }

    /* STAGE */
    #vibe751 .stage {
      position: relative;
      padding: clamp(18px, 4vw, 36px);
      border-radius: var(--radius);
      background:
        radial-gradient(1200px 900px at var(--mx) var(--my), rgba(255,255,255,0.06), transparent 55%),
        radial-gradient(900px 700px at 70% 20%, rgba(125,163,255,0.06), transparent 60%),
        linear-gradient(160deg, var(--bg), var(--bg-2));
      box-shadow: var(--shadow);
      overflow: hidden;
      isolation: isolate;
    }
    #vibe751 .stage::after {
      content: "";
      position: absolute; inset: -40%;
      background: conic-gradient(from 180deg at 50% 50%,
        transparent 0 8%,
        rgba(255,255,255,0.03) 8% 12%,
        transparent 12% 20%,
        rgba(255,255,255,0.04) 20% 22%,
        transparent 22% 100%);
      filter: blur(60px);
      opacity: 0.6;
      pointer-events: none;
      animation: drift-aurora 24s linear infinite;
    }
    @keyframes drift-aurora { to { transform: rotate(360deg); } }

    /* SHELL */
    #vibe751 .shell {
      position: relative;
      z-index: 1;
      max-width: 1100px; margin: 0 auto;
      border-radius: calc(var(--radius) - 2px);
      padding: clamp(18px, 3.6vw, 36px);
      background:
        radial-gradient(140% 100% at 0% 0%, rgba(255,255,255,0.04), transparent 50%),
        linear-gradient(180deg, rgba(255,255,255,0.06), rgba(255,255,255,0.02));
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), var(--soft);
      backdrop-filter: blur(10px) saturate(120%);
      transform-style: preserve-3d;
      transition: transform 300ms ease, box-shadow 300ms ease, background 300ms ease;
    }

    /* HEADER */
    #vibe751 .top {
      display: flex; align-items: center; justify-content: space-between; gap: 12px; flex-wrap: wrap;
    }
    #vibe751 .mark {
      display: inline-flex; align-items: center; gap: 12px;
      font-weight: 900; letter-spacing: 0.8px; text-transform: uppercase;
      color: var(--ink);
      padding: 10px 14px; border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,255,255,0.10), rgba(255,255,255,0.04));
      border: 1px solid rgba(255,255,255,0.12);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.25);
      user-select: none;
      font-size: 12px;
    }
    #vibe751 .spark {
      width: 10px; height: 10px; border-radius: 50%;
      background: radial-gradient(circle at 40% 40%, #fff, var(--accent));
      box-shadow: 0 0 16px var(--ring);
      animation: throb 2.4s ease-in-out infinite;
    }
    @keyframes throb { 0%,100%{ transform: scale(1); opacity: 0.9 } 50%{ transform: scale(1.25); opacity: 0.6 } }

    /* TITLE */
    #vibe751 .title {
      margin: 14px 0 4px;
      font-size: clamp(36px, 7vw, 72px);
      font-weight: 900;
      line-height: 0.95;
      letter-spacing: -0.6px;
      background: linear-gradient(92deg, var(--ink), var(--accent) 45%, var(--accent-2) 75%, var(--ink));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 6px 20px rgba(0,0,0,0.35));
    }
    #vibe751 .subtitle {
      margin: 0 0 10px;
      color: var(--muted);
      font-size: clamp(14px, 1.8vw, 18px);
      line-height: 1.6;
    }

    /* SKY */
    #vibe751 .sky {
      position: relative;
      height: min(80vw, 520px);
      border-radius: calc(var(--radius) - 10px);
      overflow: hidden;
      background:
        radial-gradient(120% 100% at 50% 120%, rgba(255,255,255,0.06), transparent 50%),
        radial-gradient(60% 60% at 20% 20%, color-mix(in oklab, var(--accent) 20%, transparent), transparent 70%),
        radial-gradient(60% 60% at 80% 30%, color-mix(in oklab, var(--accent-2) 20%, transparent), transparent 70%),
        linear-gradient(180deg, rgba(255,255,255,0.05), rgba(255,255,255,0.02));
      border: 1px solid rgba(255,255,255,0.08);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.08), 0 30px 60px rgba(0,0,0,0.4);
      transform: translateZ(0);
    }

    /* stars */
    #vibe751 .stars, #vibe751 svg.constellations { position: absolute; inset: 0; }
    #vibe751 .star {
      position: absolute; border-radius: 50%;
      background: radial-gradient(circle at 40% 40%, #fff, color-mix(in oklab, var(--accent) 50%, transparent) 60%);
      box-shadow: 0 0 12px var(--ring);
      animation: twinkle var(--tw, 4s) ease-in-out infinite var(--td, 0s);
      opacity: var(--op, 0.8);
    }
    @keyframes twinkle { 0%,100% { transform: scale(1); opacity: 0.85 } 50%{ transform: scale(1.4); opacity: 0.45 } }

    /* nebula fog */
    #vibe751 .fog {
      position: absolute; inset: -20%;
      background:
        radial-gradient(40% 30% at 20% 30%, color-mix(in oklab, var(--accent) 18%, transparent), transparent 60%),
        radial-gradient(40% 35% at 70% 10%, color-mix(in oklab, var(--accent-2) 18%, transparent), transparent 70%),
        radial-gradient(60% 40% at 60% 80%, rgba(255,255,255,0.05), transparent 70%);
      filter: blur(40px) saturate(140%);
      opacity: 0.0;
      transition: opacity 400ms ease;
      pointer-events: none;
    }
    #vibe751.nebula .fog { opacity: 0.45; }

    /* CORE + ORBITS */
    #vibe751 .center {
      position: absolute; inset: 0; display: grid; place-items: center; pointer-events: none;
    }
    #vibe751 .core {
      width: 180px; height: 180px; border-radius: 50%;
      background:
        radial-gradient(60% 60% at 35% 35%, #ffffff 0 40%, transparent 70%),
        conic-gradient(from 0deg, var(--accent), var(--accent-2), var(--accent));
      filter: blur(0.3px) saturate(120%);
      box-shadow: 0 20px 60px rgba(0,0,0,0.35), 0 0 80px var(--ring);
      animation: breathe 8s ease-in-out infinite;
      transform: translateZ(40px);
    }
    @keyframes breathe { 0%,100%{ transform: translateZ(40px) scale(1);} 50%{ transform: translateZ(40px) scale(1.03);} }

    #vibe751 .orbit {
      position: absolute; width: var(--sz, 360px); height: var(--sz, 360px);
      border-radius: 50%;
      border: 1px dashed rgba(255,255,255,0.12);
      filter: drop-shadow(0 0 12px rgba(0,0,0,0.25));
      transform-style: preserve-3d;
      animation: spin var(--dur, 24s) linear infinite;
    }
    #vibe751 .planet {
      position: absolute; top: 50%; left: 50%;
      width: var(--ps, 18px); height: var(--ps, 18px);
      margin: calc(var(--ps, 18px) / -2) 0 0 calc(var(--ps, 18px) / -2);
      transform: translate3d(calc(var(--sz, 360px) / 2), 0, var(--z, 10px));
      border-radius: 50%;
      background: radial-gradient(circle at 30% 30%, #fff, color-mix(in oklab, var(--accent) 60%, var(--bg)));
      box-shadow: var(--glow);
    }
    @keyframes spin { to { transform: rotate(360deg); } }

    /* CONTROLS */
    #vibe751 .controls {
      display: flex; align-items: center; justify-content: space-between; gap: 10px; flex-wrap: wrap;
      margin-top: 12px;
    }
    #vibe751 .btn {
      appearance: none; cursor: pointer;
      padding: 10px 14px; border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      color: var(--ink); font-weight: 800; font-size: 14px;
      background:
        linear-gradient(180deg, rgba(255,255,255,0.14), rgba(255,255,255,0.06));
      box-shadow: 0 10px 24px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.2);
      transition: transform 160ms ease, background 200ms ease, box-shadow 200ms ease;
    }
    #vibe751 .btn:hover { transform: translateY(-1px); background: linear-gradient(180deg, rgba(255,255,255,0.2), rgba(255,255,255,0.08)); }
    #vibe751 .btn:active { transform: translateY(0); }

    #vibe751 .slider {
      display: inline-flex; align-items: center; gap: 10px;
      padding: 8px 12px; border-radius: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.12), rgba(255,255,255,0.05));
      border: 1px solid rgba(255,255,255,0.14);
      color: var(--muted);
      font-weight: 800; font-size: 12px;
    }
    #vibe751 input[type="range"] {
      width: 180px; height: 22px; background: transparent; appearance: none;
    }
    #vibe751 input[type="range"]::-webkit-slider-runnable-track {
      height: 6px; border-radius: 999px; background: rgba(255,255,255,0.16);
      border: 1px solid rgba(255,255,255,0.18);
    }
    #vibe751 input[type="range"]::-webkit-slider-thumb {
      appearance: none; width: 16px; height: 16px; border-radius: 50%;
      margin-top: -5px;
      background: radial-gradient(circle at 40% 40%, #fff, #b7c9ff);
      border: 1px solid rgba(255,255,255,0.5);
      box-shadow: 0 0 12px var(--ring);
      cursor: grab;
    }
    #vibe751 input[type="range"]::-moz-range-track { height: 6px; border-radius: 999px; background: rgba(255,255,255,0.16); border: 1px solid rgba(255,255,255,0.18); }
    #vibe751 input[type="range"]::-moz-range-thumb {
      width: 16px; height: 16px; border-radius: 50%;
      background: radial-gradient(circle at 40% 40%, #fff, #b7c9ff);
      border: 1px solid rgba(255,255,255,0.5);
      box-shadow: 0 0 12px var(--ring);
      cursor: grab;
    }

    #vibe751 .swatches { display: inline-flex; gap: 8px; align-items: center; }
    #vibe751 .swatch {
      width: 28px; height: 28px; border-radius: 999px;
      border: 1px solid rgba(255,255,255,0.14);
      box-shadow: 0 10px 24px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.2);
      display: inline-block; cursor: pointer;
    }

    /* METER */
    #vibe751 .meter {
      position: relative; height: 10px; border-radius: 999px;
      background: rgba(255,255,255,0.10);
      border: 1px solid rgba(255,255,255,0.18);
      overflow: hidden; margin: 12px 0 8px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.12);
    }
    #vibe751 .meter .fill {
      position: absolute; inset: 0; width: var(--p, 50%);
      background: linear-gradient(90deg, var(--accent), var(--accent-2), #ffffff);
      border-radius: inherit;
      box-shadow: 0 0 14px color-mix(in oklab, var(--accent) 30%, transparent);
      animation: wave 7s ease-in-out infinite;
      transform-origin: left center;
    }
    @keyframes wave { 0%,100%{ transform: scaleX(0.98);} 50%{ transform: scaleX(1.02);} }

    /* FOOTER */
    #vibe751 footer {
      margin-top: 10px;
      display: flex; justify-content: space-between; align-items: center; gap: 10px; flex-wrap: wrap;
      color: var(--muted); font-size: 12px;
    }
    #vibe751 .state { display: inline-flex; align-items: center; gap: 8px; }
    #vibe751 .led {
      width: 9px; height: 9px; border-radius: 50%;
      background: radial-gradient(circle at 40% 40%, var(--accent), var(--accent-2));
      box-shadow: 0 0 10px var(--ring);
      animation: led 2.1s ease-in-out infinite;
    }
    @keyframes led { 0%,100%{ transform: scale(1); opacity: 0.95;} 50%{ transform: scale(1.25); opacity: 0.6;} }

    /* CALM */
    #vibe751.calm .star, #vibe751.calm .core, #vibe751.calm .orbit, #vibe751.calm .meter .fill, #vibe751.calm .spark, #vibe751.calm .led, #vibe751.calm .stage::after { animation: none !important; }
    @media (prefers-reduced-motion: reduce) {
      #vibe751 .star, #vibe751 .core, #vibe751 .orbit, #vibe751 .meter .fill, #vibe751 .spark, #vibe751 .led, #vibe751 .stage::after { animation: none !important; }
    }

    /* RESPONSIVE */
    @media (max-width: 560px) {
      #vibe751 .title { font-size: clamp(28px, 9vw, 48px); }
      #vibe751 input[type="range"] { width: 44vw; }
    }
  </style>

  <section class="stage" role="region" aria-label="Aurora Observatory kinetic scene">
    <article class="shell" tabindex="0" aria-label="Luminous space card">
      <div class="top">
        <span class="mark"><span class="spark" aria-hidden="true"></span> Edition 751 • aurora observatory</span>
        <label class="slider" for="speed"><span>Orbit</span><input id="speed" type="range" min="30" max="170" value="100" aria-label="Orbit speed"></label>
      </div>

      <h1 class="title">Aurora Observatory</h1>
      <p class="subtitle">Steer the sky with your pointer. Tune the orbit to set the night’s tempo.</p>

      <div class="sky" aria-hidden="true">
        <div class="stars" aria-hidden="true"></div>
        <svg class="constellations" viewBox="0 0 100 100" preserveAspectRatio="none" aria-hidden="true"></svg>
        <div class="fog" aria-hidden="true"></div>
        <div class="center">
          <div class="core"></div>

          <div class="orbit" style="--sz: 360px; --dur: 26s;">
            <div class="planet" style="--ps: 16px; --z: 12px;"></div>
          </div>
          <div class="orbit" style="--sz: 260px; --dur: 18s;">
            <div class="planet" style="--ps: 12px; --z: 18px;"></div>
          </div>
          <div class="orbit" style="--sz: 460px; --dur: 34s;">
            <div class="planet" style="--ps: 10px; --z: 4px;"></div>
          </div>
        </div>
      </div>

      <div class="controls">
        <div class="left">
          <button class="btn" id="nebula">Nebula</button>
          <button class="btn" id="calm">Calm</button>
        </div>
        <div class="right">
          <span class="swatches" aria-label="Theme palettes">
            <button class="swatch" title="Aurora" data-theme="aurora" style="background: linear-gradient(180deg,#091022,#14224b);"></button>
            <button class="swatch" title="Solar" data-theme="solar" style="background: linear-gradient(180deg,#1b0e06,#3a1d0c);"></button>
            <button class="swatch" title="Midnight" data-theme="midnight" style="background: linear-gradient(180deg,#02040a,#121a33);"></button>
            <button class="swatch" title="Rose" data-theme="rose" style="background: linear-gradient(180deg,#1a0717,#3a1540);"></button>
          </span>
        </div>
      </div>

      <div class="meter" aria-label="Luminance">
        <div class="fill" style="--p: 50%"></div>
      </div>

      <footer>
        <div class="state" aria-live="polite">
          <span class="led" aria-hidden="true"></span>
          <span id="status">Theme: Aurora • Orbit: 100% • Nebula: Off • Motion: On</span>
        </div>
        <span id="last-updated">Last updated: 2025-11-19 20:20:28 EST</span>
      </footer>
    </article>
  </section>

  <script>
    (function () {
      const root = document.getElementById('vibe751');
      const stage = root.querySelector('.stage');
      const shell = root.querySelector('.shell');
      const starsHost = root.querySelector('.stars');
      const svg = root.querySelector('svg.constellations');
      const speedEl = root.querySelector('#speed');
      const nebulaBtn = root.querySelector('#nebula');
      const calmBtn = root.querySelector('#calm');
      const orbits = Array.from(root.querySelectorAll('.orbit'));
      const swatches = root.querySelectorAll('.swatch');
      const meterFill = root.querySelector('.meter .fill');
      const status = root.querySelector('#status');
      const lu = root.querySelector('#last-updated');

      // Timestamp
      try {
        const now = new Date();
        lu.textContent = 'Last updated: ' + now.toLocaleString(undefined, {
          year: 'numeric', month: 'short', day: '2-digit',
          hour: '2-digit', minute: '2-digit'
        });
      } catch(e){}

      // Theme handling
      root.dataset.theme = root.dataset.theme || 'aurora';
      function themeName() {
        const m = { aurora: 'Aurora', solar: 'Solar', midnight: 'Midnight', rose: 'Rose' };
        return m[root.dataset.theme] || 'Aurora';
      }
      swatches.forEach(sw => {
        sw.addEventListener('click', () => {
          root.dataset.theme = sw.getAttribute('data-theme');
          blink();
          updateStatus();
        });
      });

      // Stars
      const STAR_COUNT = 140;
      const positions = [];
      for (let i = 0; i < STAR_COUNT; i++) {
        const s = document.createElement('div');
        s.className = 'star';
        const x = Math.random() * 100;
        const y = Math.random() * 100;
        const size = 1 + Math.random() * 2.2;
        const op = 0.5 + Math.random() * 0.5;
        const tw = 3 + Math.random() * 4;
        const td = -Math.random() * 6;
        s.style.left = x + '%';
        s.style.top = y + '%';
        s.style.width = size + 'px';
        s.style.height = size + 'px';
        s.style.setProperty('--op', op.toFixed(2));
        s.style.setProperty('--tw', tw.toFixed(2) + 's');
        s.style.setProperty('--td', td.toFixed(2) + 's');
        starsHost.appendChild(s);
        if (Math.random() > 0.6) positions.push([x, y]);
      }

      // Constellations (random gentle lines)
      function drawConstellations() {
        while (svg.firstChild) svg.removeChild(svg.firstChild);
        const g = document.createElementNS('http://www.w3.org/2000/svg','g');
        g.setAttribute('stroke', 'rgba(255,255,255,0.35)');
        g.setAttribute('stroke-width', '0.3');
        g.setAttribute('fill', 'none');

        const groups = 3 + Math.floor(Math.random() * 3);
        for (let gi = 0; gi < groups; gi++) {
          const pathPoints = [];
          const start = positions[Math.floor(Math.random() * positions.length)] || [Math.random()*100, Math.random()*100];
          pathPoints.push(start);
          let current = start;
          const steps = 3 + Math.floor(Math.random() * 4);
          for (let s = 0; s < steps; s++) {
            const next = positions[Math.floor(Math.random() * positions.length)] || [Math.random()*100, Math.random()*100];
            current = next;
            pathPoints.push(next);
          }
          const pointsStr = pathPoints.map(p => p[0].toFixed(2)+','+p[1].toFixed(2)).join(' ');
          const pl = document.createElementNS('http://www.w3.org/2000/svg','polyline');
          pl.setAttribute('points', pointsStr);
          pl.setAttribute('opacity', (0.4 + Math.random()*0.3).toFixed(2));
          g.appendChild(pl);
        }
        svg.appendChild(g);
      }
      drawConstellations();

      // Orbit speed control
      function updateSpeed() {
        const factor = Math.max(0.3, Math.min(1.7, Number(speedEl.value) / 100));
        orbits.forEach(o => {
          const base = parseFloat((getComputedStyle(o).getPropertyValue('--dur') || '24s').replace('s','')) || 24;
          const dur = base / factor;
          o.style.setProperty('--dur', dur.toFixed(2) + 's');
        });
        meterFill.style.width = Math.round(Number(speedEl.value)) + '%';
        updateStatus();
      }
      speedEl.addEventListener('input', updateSpeed);

      // Nebula toggle
      nebulaBtn.addEventListener('click', () => {
        root.classList.toggle('nebula');
        nebulaBtn.textContent = root.classList.contains('nebula') ? 'Clear Nebula' : 'Nebula';
        pulse(shell);
        updateStatus();
      });

      // Calm toggle
      let calm = false;
      calmBtn.addEventListener('click', () => {
        calm = !calm;
        root.classList.toggle('calm', calm);
        calmBtn.textContent = calm ? 'Resume' : 'Calm';
        pulse(meterFill);
        updateStatus();
      });

      // Pointer parallax
      function move(e) {
        const rect = stage.getBoundingClientRect();
        const x = e.clientX - rect.left;
        const y = e.clientY - rect.top;
        const nx = x / rect.width - 0.5;
        const ny = y / rect.height - 0.5;
        root.style.setProperty('--mx', x + 'px');
        root.style.setProperty('--my', y + 'px');
        shell.style.transform =
          'perspective(1000px) rotateX(' + (-ny * 8).toFixed(2) +
          'deg) rotateY(' + (nx * 8).toFixed(2) + 'deg) translateZ(0)';
      }
      stage.addEventListener('pointermove', move);
      stage.addEventListener('pointerleave', () => { shell.style.transform = 'none'; });

      // Small feedback helpers
      function pulse(el) {
        try {
          el.animate(
            [{ transform: 'scale(1)' }, { transform: 'scale(1.02)' }, { transform: 'scale(1)' }],
            { duration: 260, easing: 'ease-out' }
          );
        } catch(e){}
      }
      function blink() {
        try {
          meterFill.animate(
            [{ filter: 'brightness(1)' }, { filter: 'brightness(1.3)' }, { filter: 'brightness(1)' }],
            { duration: 320, easing: 'ease-out' }
          );
        } catch(e){}
      }

      // Status
      function updateStatus() {
        status.textContent =
          'Theme: ' + themeName() +
          ' • Orbit: ' + speedEl.value + '%' +
          ' • Nebula: ' + (root.classList.contains('nebula') ? 'On' : 'Off') +
          ' • Motion: ' + (root.classList.contains('calm') ? 'Off' : 'On');
      }

      // Initialize
      updateSpeed();
      updateStatus();

      // Redraw constellations occasionally
      setInterval(() => { if (!calm) drawConstellations(); }, 12000);
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


