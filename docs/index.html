<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="vibe1980" role="region" aria-label="Folding Garden — Kinetic Haiku">
  <style>
    .vibe1980 {
      --bg-0: #f7f7f2;
      --bg-1: #f0efe8;
      --ink: #16181d;
      --muted: #5d6676;
      --line: #d8d6cd;
      --p1: #0ea5e9;
      --p2: #22c55e;
      --p3: #f59e0b;
      --ring: 38 100 235;
      position: relative;
      min-height: 760px;
      padding: clamp(18px, 3vw, 36px);
      border-radius: 36px;
      color: var(--ink);
      background:
        radial-gradient(120% 140% at 10% 0%, var(--bg-1), var(--bg-0) 60%),
        linear-gradient(180deg, #fff, var(--bg-0));
      box-shadow:
        0 40px 90px rgba(0, 0, 0, .08),
        0 0 0 1px rgba(0, 0, 0, .04) inset;
      overflow: hidden;
      isolation: isolate;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
    }
    .vibe1980::before,
    .vibe1980::after {
      content: "";
      position: absolute;
      inset: -25%;
      pointer-events: none;
      mix-blend-mode: multiply;
      filter: blur(28px) saturate(120%);
      opacity: .35;
      background:
        conic-gradient(from 40deg at 25% 30%, rgba(14,165,233,.15), rgba(0,0,0,0) 40%),
        conic-gradient(from -60deg at 80% 60%, rgba(34,197,94,.12), rgba(0,0,0,0) 50%),
        radial-gradient(40% 60% at 60% 10%, rgba(245,158,11,.10), rgba(0,0,0,0) 60%);
      animation: floatInk 26s ease-in-out infinite alternate;
    }
    .vibe1980::after {
      transform: scale(1.04) rotate(6deg);
      opacity: .25;
      animation-duration: 38s;
    }
    @keyframes floatInk {
      0% { transform: translate3d(-3%, 2%, 0) rotate(-4deg) scale(1.02); }
      100% { transform: translate3d(3%, -2%, 0) rotate(4deg) scale(1.06); }
    }

    .fg-frame {
      position: relative;
      max-width: 1200px;
      margin: 0 auto;
      display: grid;
      grid-template-rows: auto 1fr auto;
      gap: clamp(16px, 2.6vw, 32px);
      z-index: 1;
    }

    .fg-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      flex-wrap: wrap;
    }
    .fg-stamp {
      display: inline-flex;
      align-items: center;
      gap: 10px;
      padding: 10px 16px;
      border-radius: 999px;
      font-size: 12px;
      letter-spacing: .08em;
      text-transform: uppercase;
      color: var(--muted);
      background: linear-gradient(180deg, rgba(255,255,255,.8), rgba(255,255,255,.6));
      border: 1px solid rgba(var(--ring), .22);
      box-shadow:
        0 0 0 6px rgba(14, 70, 200, .06) inset,
        0 10px 26px rgba(0,0,0,.08);
      user-select: none;
      white-space: nowrap;
      backdrop-filter: blur(6px) saturate(130%);
      -webkit-backdrop-filter: blur(6px) saturate(130%);
    }
    .fg-stamp::before {
      content: "";
      width: 10px; height: 10px; border-radius: 50%;
      background: radial-gradient(circle at 35% 35%, #fff, rgba(14,165,233,1));
      box-shadow: 0 0 14px rgba(14,165,233,.7), 0 0 0 1px rgba(14,165,233,.25) inset;
      flex: none;
    }

    .fg-actions { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
    .fg-btn {
      appearance: none;
      border: 1px solid rgba(var(--ring), 0.22);
      background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(250,250,250,.7));
      color: var(--ink);
      padding: 10px 14px;
      border-radius: 14px;
      font-weight: 700;
      font-size: 12px;
      cursor: pointer;
      box-shadow: 0 1px 0 rgba(255,255,255,.9) inset, 0 8px 18px rgba(0,0,0,.08);
      transition: transform .12s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
      backdrop-filter: blur(6px) saturate(150%);
      -webkit-backdrop-filter: blur(6px) saturate(150%);
    }
    .fg-btn:hover { transform: translateY(-1px); }
    .fg-btn:active { transform: translateY(0); }
    .fg-btn:focus-visible { outline: none; box-shadow: 0 0 0 3px rgba(var(--ring), .28); }

    .fg-stage {
      position: relative;
      border-radius: 28px;
      overflow: hidden;
      border: 1px solid rgba(0,0,0,.06);
      background:
        radial-gradient(120% 80% at 50% 0%, rgba(255,255,255,.8), rgba(255,255,255,.6)),
        linear-gradient(180deg, rgba(255,255,255,.8), rgba(255,255,255,.6));
      min-height: 560px;
      display: grid;
      place-items: center;
      box-shadow:
        0 20px 60px rgba(0,0,0,.10) inset,
        0 1px 0 rgba(255,255,255,0.9) inset;
      transform-style: preserve-3d;
      perspective: 1000px;
    }

    .fg-canvas {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      display: block;
      filter: saturate(115%) contrast(105%);
    }

    .fg-titleblk {
      position: relative;
      z-index: 2;
      text-align: center;
      padding: 14px 18px;
      border-radius: 18px;
      border: 1px solid rgba(0,0,0,.06);
      background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.65));
      backdrop-filter: blur(8px) saturate(130%);
      -webkit-backdrop-filter: blur(8px) saturate(130%);
      box-shadow: 0 12px 40px rgba(0,0,0,0.12);
    }
    .fg-title {
      margin: clamp(12px, 3vw, 20px) 0 4px;
      font-size: clamp(40px, 7.6vw, 86px);
      letter-spacing: -0.02em;
      line-height: .95;
      background: linear-gradient(90deg, var(--p1), var(--p2), var(--p3));
      background-size: 200% 100%;
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
      animation: titleShift 18s ease-in-out infinite alternate;
      text-wrap: balance;
    }
    @keyframes titleShift {
      0% { background-position: 0% 50%; filter: drop-shadow(0 8px 40px rgba(14,165,233,.18)); }
      100% { background-position: 100% 50%; filter: drop-shadow(0 8px 40px rgba(245,158,11,.18)); }
    }
    .fg-sub {
      margin: 0 8px 10px;
      color: var(--muted);
      font-size: clamp(14px, 2vw, 18px);
      text-wrap: balance;
    }

    .fg-grain {
      position: absolute;
      inset: 0;
      pointer-events: none;
      opacity: .12;
      mix-blend-mode: multiply;
      background:
        repeating-linear-gradient(0deg, rgba(0,0,0,.02) 0 2px, rgba(0,0,0,0) 2px 4px),
        repeating-linear-gradient(90deg, rgba(0,0,0,.02) 0 2px, rgba(0,0,0,0) 2px 4px);
      z-index: 0;
    }
    .fg-grain.hidden { opacity: 0; }

    .fg-bar {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      gap: 10px;
      justify-content: space-between;
      background: linear-gradient(180deg, rgba(255,255,255,.85), rgba(255,255,255,.65));
      border: 1px solid rgba(0,0,0,.08);
      border-radius: 16px;
      padding: 10px;
      box-shadow: 0 1px 0 rgba(255,255,255,.9) inset, 0 8px 22px rgba(0,0,0,.08);
      backdrop-filter: blur(6px) saturate(140%);
      -webkit-backdrop-filter: blur(6px) saturate(140%);
      color: var(--muted);
      font-size: 12px;
    }
    .fg-ctrls { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
    .fg-check {
      color: var(--muted);
      font-size: 12px;
      display: inline-flex; align-items: center; gap: 6px;
      user-select: none;
    }
    .fg-range {
      -webkit-appearance: none; appearance: none;
      height: 8px; width: 160px; border-radius: 999px;
      background: linear-gradient(90deg, rgba(var(--ring),.55), rgba(245,158,11,.50));
      outline: none; border: 1px solid rgba(0,0,0,.12);
      box-shadow: 0 1px 0 rgba(255,255,255,.85) inset, 0 8px 12px rgba(0,0,0,.06) inset;
    }
    .fg-range::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px; height: 18px; border-radius: 50%;
      background: white;
      border: 1px solid rgba(0,0,0,.15);
      box-shadow: 0 4px 12px rgba(0,0,0,.15);
    }
    .fg-range::-moz-range-thumb {
      width: 18px; height: 18px; border-radius: 50%;
      background: white; border: 1px solid rgba(0,0,0,.15);
      box-shadow: 0 4px 12px rgba(0,0,0,.15);
    }

    .fg-right { display: flex; align-items: center; gap: 12px; flex-wrap: wrap; }
    .fg-tip { opacity: .9; }

    @media (max-width: 900px) {
      .fg-stage { min-height: 520px; }
      .fg-right { width: 100%; justify-content: space-between; }
    }
    @media (prefers-reduced-motion: reduce) {
      .vibe1980, .vibe1980 * { animation: none !important; transition: none !important; }
    }
  </style>

  <div class="fg-frame">
    <div class="fg-head">
      <span class="fg-stamp">Murmur Studio — Iteration 1980</span>
      <div class="fg-actions">
        <button class="fg-btn" data-palette aria-label="Switch palette">Palette: Ivory</button>
        <button class="fg-btn" data-mode aria-label="Switch render mode">Mode: Fold</button>
        <button class="fg-btn" data-run aria-pressed="false" aria-label="Toggle motion">Pause motion</button>
      </div>
    </div>

    <div class="fg-stage" data-tiltable aria-label="Kinetic paper field">
      <canvas class="fg-canvas" aria-hidden="true"></canvas>

      <div class="fg-titleblk" aria-live="polite">
        <h1 class="fg-title">Folding Garden</h1>
        <p class="fg-sub">Paper, light, and breeze — a kinetic haiku.</p>
      </div>

      <div class="fg-grain"></div>
    </div>

    <div class="fg-bar" aria-label="Controls">
      <div class="fg-ctrls">
        <label class="fg-check">Density
          <input class="fg-range" type="range" min="18" max="60" step="1" value="32" data-density aria-label="Tile density" />
        </label>
        <label class="fg-check"><input type="checkbox" data-grain checked /> Grain</label>
        <label class="fg-check"><input type="checkbox" data-tilt checked /> Tilt</label>
      </div>
      <div class="fg-right">
        <span id="last-updated">Last updated: 2026-01-15 17:19:57 EST</span>
        <span class="fg-tip">Tip: drag to stir the paper • click to ripple</span>
      </div>
    </div>
  </div>

  <script>
    (function () {
      const root = document.currentScript.parentElement;
      const stage = root.querySelector('.fg-stage');
      const canvas = root.querySelector('.fg-canvas');
      const ctx = canvas.getContext('2d', { alpha: true });
      const grainLayer = root.querySelector('.fg-grain');
      const runBtn = root.querySelector('[data-run]');
      const paletteBtn = root.querySelector('[data-palette]');
      const modeBtn = root.querySelector('[data-mode]');
      const densityRange = root.querySelector('[data-density]');
      const tiltToggle = root.querySelector('[data-tilt]');
      const grainToggle = root.querySelector('[data-grain]');
      const updated = root.querySelector('#last-updated');

      // Updated timestamp
      try {
        const locale = navigator.language || 'en-US';
        const now = new Date();
        updated.textContent = 'Updated ' + now.toLocaleString(locale, {
          year: 'numeric', month: 'short', day: '2-digit',
          hour: '2-digit', minute: '2-digit'
        });
      } catch (_) {
        updated.textContent = 'Updated ' + new Date().toString();
      }

      // Palettes
      const palettes = [
        {
          name: 'Ivory',
          vars: { bg0:'#f7f7f2', bg1:'#f0efe8', ink:'#16181d', muted:'#5d6676', line:'#d8d6cd', p1:'#0ea5e9', p2:'#22c55e', p3:'#f59e0b', ring:'38 100 235' }
        },
        {
          name: 'Nocturne',
          vars: { bg0:'#0b0f1a', bg1:'#101629', ink:'#eef2ff', muted:'#9aa7c2', line:'#1d2335', p1:'#7aa2ff', p2:'#86efac', p3:'#fda4af', ring:'122 162 255' }
        },
        {
          name: 'Mist',
          vars: { bg0:'#eef6ff', bg1:'#e6f0fb', ink:'#0e1726', muted:'#5b6b86', line:'#c8d6ea', p1:'#60a5fa', p2:'#06b6d4', p3:'#a78bfa', ring:'96 165 250' }
        },
        {
          name: 'Dusk',
          vars: { bg0:'#1a1414', bg1:'#241a20', ink:'#fff3ec', muted:'#e6c7bc', line:'#3a2d31', p1:'#ffaf87', p2:'#f472b6', p3:'#8b5cf6', ring:'255 175 135' }
        }
      ];
      let paletteIndex = 0;
      function applyVars(v) {
        root.style.setProperty('--bg-0', v.bg0);
        root.style.setProperty('--bg-1', v.bg1);
        root.style.setProperty('--ink', v.ink);
        root.style.setProperty('--muted', v.muted);
        root.style.setProperty('--line', v.line);
        root.style.setProperty('--p1', v.p1);
        root.style.setProperty('--p2', v.p2);
        root.style.setProperty('--p3', v.p3);
        root.style.setProperty('--ring', v.ring);
      }
      function setPalette(i) {
        paletteIndex = (i + palettes.length) % palettes.length;
        applyVars(palettes[paletteIndex].vars);
        paletteBtn.textContent = 'Palette: ' + palettes[paletteIndex].name;
        // Light vs dark tweaks
        const dark = ['Nocturne','Dusk'].includes(palettes[paletteIndex].name);
        stage.style.boxShadow = dark
          ? '0 20px 60px rgba(0,0,0,.45) inset, 0 1px 0 rgba(255,255,255,0.05) inset'
          : '0 20px 60px rgba(0,0,0,.10) inset, 0 1px 0 rgba(255,255,255,0.9) inset';
      }
      setPalette(0);

      // Canvas sizing
      function resize() {
        const rect = canvas.getBoundingClientRect();
        const dpr = Math.min(2, window.devicePixelRatio || 1);
        canvas.width = Math.max(1, Math.floor(rect.width * dpr));
        canvas.height = Math.max(1, Math.floor(rect.height * dpr));
        ctx.setTransform(dpr, 0, 0, dpr, 0, 0);
      }
      window.addEventListener('resize', resize, { passive: true });

      // State
      let running = !window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      runBtn.setAttribute('aria-pressed', running ? 'false' : 'true');
      runBtn.textContent = running ? 'Pause motion' : 'Play motion';

      let mode = 'fold';
      modeBtn.textContent = 'Mode: ' + (mode === 'fold' ? 'Fold' : 'Weave');

      let cell = parseFloat(densityRange.value);
      const pointer = { x: 0.5, y: 0.5, tx: 0.5, ty: 0.5, down: false, inside: false };
      let tiltEnabled = true;
      const pulses = [];

      function onMove(e) {
        const r = canvas.getBoundingClientRect();
        pointer.tx = (e.clientX - r.left) / Math.max(1, r.width);
        pointer.ty = (e.clientY - r.top) / Math.max(1, r.height);
        pointer.inside = pointer.tx >= 0 && pointer.tx <= 1 && pointer.ty >= 0 && pointer.ty <= 1;
      }
      stage.addEventListener('pointermove', onMove);
      stage.addEventListener('pointerdown', (e) => { pointer.down = true; onMove(e); });
      window.addEventListener('pointerup', () => { pointer.down = false; });

      stage.addEventListener('click', (e) => {
        const r = canvas.getBoundingClientRect();
        pulses.push({ x: e.clientX - r.left, y: e.clientY - r.top, life: 1 });
      }, { passive: true });

      function applyTilt() {
        if (!tiltEnabled) { stage.style.transform = 'none'; return; }
        const r = canvas.getBoundingClientRect();
        const dx = (pointer.tx - 0.5) * 2;
        const dy = (pointer.ty - 0.5) * 2;
        const rotX = dy * 5;
        const rotY = -dx * 5;
        stage.style.transform = 'rotateX(' + rotX.toFixed(2) + 'deg) rotateY(' + rotY.toFixed(2) + 'deg)';
      }

      // Helpers
      function mix(a, b, t) { return a + (b - a) * t; }
      function lerpColor(c1, c2, t) {
        // c like #rrggbb
        const a = parseInt(c1.slice(1), 16);
        const b = parseInt(c2.slice(1), 16);
        const ar = (a >> 16) & 255, ag = (a >> 8) & 255, ab = a & 255;
        const br = (b >> 16) & 255, bg = (b >> 8) & 255, bb = b & 255;
        const r = Math.round(mix(ar, br, t));
        const g = Math.round(mix(ag, bg, t));
        const bl = Math.round(mix(ab, bb, t));
        return 'rgb(' + r + ',' + g + ',' + bl + ')';
      }
      function getVar(name) {
        return getComputedStyle(root).getPropertyValue(name).trim() || '#000000';
      }

      // Draw
      let t = 0;
      function draw() {
        if (!running) return;
        requestAnimationFrame(draw);
        const rect = canvas.getBoundingClientRect();
        const w = rect.width, h = rect.height;

        // smooth pointer
        pointer.x += (pointer.tx - pointer.x) * 0.08;
        pointer.y += (pointer.ty - pointer.y) * 0.08;
        applyTilt();

        ctx.clearRect(0, 0, w, h);

        const p1 = getVar('--p1'), p2 = getVar('--p2'), p3 = getVar('--p3');
        const line = getVar('--line');
        const centerX = w * 0.5, centerY = h * 0.5;

        if (mode === 'fold') {
          const s = Math.max(10, cell);
          const cols = Math.ceil(w / s) + 2;
          const rows = Math.ceil(h / s) + 2;
          const rippleSpeed = 3.2;
          const rippleFreq = 14;
          ctx.lineWidth = 1;

          for (let y = -1; y < rows; y++) {
            for (let x = -1; x < cols; x++) {
              const cx = (x + 0.5) * s;
              const cy = (y + 0.5) * s;

              const nx = x * 0.32, ny = y * 0.28;
              const n = Math.sin(nx + t * 0.9) * Math.cos(ny - t * 0.8) + Math.sin((nx + ny) * 0.5 + t * 1.3) * 0.5;

              const dx = cx - pointer.x * w, dy = cy - pointer.y * h;
              const dist = Math.hypot(dx, dy) / Math.min(w, h);
              const ripple = Math.sin(dist * rippleFreq - t * rippleSpeed) * Math.exp(-dist * 2.2) * (pointer.down ? 1.2 : 0.6);

              const angle = (Math.PI / 4) + (n * 0.25) + (ripple * 0.22);
              const half = s * 0.55;

              // shade across a rotated diamond
              ctx.save();
              ctx.translate(cx, cy);
              ctx.rotate(angle);

              const g = ctx.createLinearGradient(-half, -half, half, half);
              g.addColorStop(0, lerpColor(p1, p2, 0.2));
              g.addColorStop(0.5, lerpColor(p2, p3, 0.4));
              g.addColorStop(1, lerpColor(p3, p1, 0.2));
              ctx.fillStyle = g;

              ctx.beginPath();
              ctx.moveTo(0, -half);
              ctx.lineTo(half, 0);
              ctx.lineTo(0, half);
              ctx.lineTo(-half, 0);
              ctx.closePath();
              ctx.fill();

              ctx.strokeStyle = line + 'aa';
              ctx.globalAlpha = 0.4;
              ctx.stroke();
              ctx.globalAlpha = 1;

              ctx.restore();
            }
          }
        } else {
          // Weave mode: airy threads crossing
          ctx.lineCap = 'round';
          for (let k = 0; k < 3; k++) {
            const color = [p1, p2, p3][k];
            ctx.strokeStyle = color;
            ctx.globalAlpha = 0.55 - k * 0.12;
            ctx.lineWidth = 1.6 + k * 0.4;

            const rows = 8 + k * 4;
            for (let r = 0; r < rows; r++) {
              const y0 = (h / (rows + 1)) * (r + 1);
              ctx.beginPath();
              for (let x = 0; x <= w; x += 6) {
                const u = x / w;
                const a = u * Math.PI * (4 + k);
                const y = y0 + Math.sin(a + t * (0.9 + k * 0.2)) * (20 + k * 10)
                             + Math.sin((u + r * 0.13 + t * 0.2) * 8) * 4;
                if (x === 0) ctx.moveTo(x, y); else ctx.lineTo(x, y);
              }
              ctx.stroke();
            }
          }
          ctx.globalAlpha = 1;
        }

        // Pulses
        for (let i = pulses.length - 1; i >= 0; i--) {
          const p = pulses[i];
          p.life *= 0.96;
          const r = (1 - p.life) * 220;
          const grad = ctx.createRadialGradient(p.x, p.y, Math.max(0, r - 10), p.x, p.y, r + 10);
          grad.addColorStop(0, 'rgba(255,255,255,0.0)');
          grad.addColorStop(1, 'rgba(0,0,0,0.08)');
          ctx.fillStyle = grad;
          ctx.beginPath(); ctx.arc(p.x, p.y, r + 10, 0, Math.PI * 2); ctx.fill();
          if (p.life < 0.06) pulses.splice(i, 1);
        }

        t += 0.016;
      }

      // Controls
      paletteBtn.addEventListener('click', () => setPalette(paletteIndex + 1));
      modeBtn.addEventListener('click', () => {
        mode = mode === 'fold' ? 'weave' : 'fold';
        modeBtn.textContent = 'Mode: ' + (mode === 'fold' ? 'Fold' : 'Weave');
      });
      runBtn.addEventListener('click', () => {
        running = !running;
        runBtn.setAttribute('aria-pressed', running ? 'false' : 'true');
        runBtn.textContent = running ? 'Pause motion' : 'Play motion';
        if (running) requestAnimationFrame(draw);
      });
      densityRange.addEventListener('input', (e) => { cell = parseFloat(e.target.value); });
      grainToggle.addEventListener('change', (e) => {
        grainLayer.classList.toggle('hidden', !e.target.checked);
      });
      tiltToggle.addEventListener('change', (e) => { tiltEnabled = e.target.checked; if (!tiltEnabled) stage.style.transform = 'none'; });

      // Init
      resize();
      if (running) requestAnimationFrame(draw);
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


