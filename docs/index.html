<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section class="atelier-1176" id="a1176" aria-label="Kinetic Poster Atelier">
  <style>
    .atelier-1176 {
      --mx: .5; --my: .5;
      --tempo: 1;
      --ink: #0b1020;
      --muted: #6a7a92;
      --bg1: #070a12; --bg2: #0e1526;
      --c1: #8ef3ff; --c2: #88b1ff; --c3: #ffd28a;
      --glass: rgba(255,255,255,.08);
      --border: rgba(255,255,255,.14);
      color: #eaf2ff; position: relative; overflow: hidden; border-radius: 24px;
      min-height: 600px; isolation: isolate;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji", "Segoe UI Emoji";
      background:
        radial-gradient(900px 700px at calc(var(--mx)*100%) calc(var(--my)*100%), color-mix(in oklab, var(--c1) 18%, transparent), transparent 60%),
        radial-gradient(700px 600px at calc((1 - var(--mx))*100%) calc((1 - var(--my))*100%), color-mix(in oklab, var(--c2) 14%, transparent), transparent 65%),
        linear-gradient(180deg, var(--bg1), var(--bg2) 70%);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,.05);
    }
    .atelier-1176[data-theme="glacier"] {
      --ink: #0b1320; --muted: #5f6f86; --bg1: #f4f9ff; --bg2: #eaf2ff;
      --c1: #2ecbff; --c2: #72a8ff; --c3: #b3ffe2;
      color: #0c1322; --glass: rgba(255,255,255,.7); --border: rgba(14,23,42,.16);
    }
    .atelier-1176[data-theme="pollen"] {
      --ink: #1b1006; --muted: #7a6b56; --bg1: #fff8ea; --bg2: #ffeecf;
      --c1: #ffb86b; --c2: #ff6aa3; --c3: #7bf5a6;
      color: #1b1006; --glass: rgba(255,255,255,.75); --border: rgba(27,16,6,.18);
    }

    /* Ambient */
    .atelier-1176 .bg { position: absolute; inset: 0; z-index: 0; pointer-events: none; }
    .atelier-1176 .bg .b {
      position: absolute; filter: blur(60px); opacity: .35; mix-blend-mode: screen;
      animation: a1176-drift calc(26s/var(--tempo)) ease-in-out infinite alternate;
    }
    .atelier-1176 .bg .b.one {
      width: 44vmax; height: 44vmax; left: -12vmax; top: -14vmax;
      background: radial-gradient(circle at 40% 40%, var(--c1), transparent 55%);
    }
    .atelier-1176 .bg .b.two {
      width: 48vmax; height: 48vmax; right: -16vmax; bottom: -14vmax;
      background: radial-gradient(circle at 55% 60%, var(--c2), transparent 60%);
      animation-duration: calc(34s/var(--tempo));
    }
    .atelier-1176 .bg .grain {
      position: absolute; inset: 0; opacity: .06; mix-blend-mode: soft-light;
      background-image:
        radial-gradient(1px 1px at 20% 36%, #fff 30%, transparent 31%),
        radial-gradient(1px 1px at 66% 72%, #fff 30%, transparent 31%),
        radial-gradient(1px 1px at 42% 18%, #fff 30%, transparent 31%);
      background-size: 140px 140px, 180px 180px, 220px 220px;
      animation: a1176-grain calc(28s/var(--tempo)) linear infinite;
    }

    /* Top bar */
    .atelier-1176 .bar {
      position: relative; z-index: 2; display: flex; align-items: center; justify-content: space-between;
      padding: 18px 22px; margin: 18px; gap: 16px;
      border-radius: 16px; background: linear-gradient(180deg, var(--glass), color-mix(in oklab, var(--glass) 40%, transparent));
      border: 1px solid var(--border); backdrop-filter: blur(14px) saturate(115%); box-shadow: 0 18px 50px rgba(0,0,0,.25);
    }
    .atelier-1176 .brand { display: inline-flex; align-items: center; gap: 12px; user-select: none; }
    .atelier-1176 .brand .dot {
      width: 14px; height: 14px; border-radius: 50%;
      background: radial-gradient(circle at 35% 35%, var(--c1), var(--c2));
      box-shadow: 0 0 14px color-mix(in oklab, var(--c1) 50%, transparent);
      animation: a1176-pulse calc(3.6s/var(--tempo)) ease-in-out infinite;
    }
    .atelier-1176 .brand strong { letter-spacing: .3px; font-weight: 800; font-size: 14px; opacity: .9; }
    .atelier-1176 .brand .note {
      padding: 4px 8px; border-radius: 999px; font-size: 11px; letter-spacing: .3px;
      background: color-mix(in oklab, var(--glass) 70%, transparent); border: 1px solid var(--border); color: inherit;
    }

    .atelier-1176 .actions { display: flex; align-items: center; gap: 10px; flex-wrap: wrap; }
    .atelier-1176 .chip {
      appearance: none; border: 1px solid var(--border); border-radius: 999px; padding: 8px 12px; font-weight: 700;
      background: color-mix(in oklab, var(--glass) 75%, transparent); color: inherit; cursor: pointer;
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
    }
    .atelier-1176 .chip[aria-pressed="true"] {
      background: linear-gradient(180deg, color-mix(in oklab, var(--c1) 28%, transparent), color-mix(in oklab, var(--c2) 18%, transparent));
      color: color-mix(in oklab, var(--ink) 90%, #fff);
      border-color: color-mix(in oklab, var(--c1) 50%, var(--border));
      text-shadow: 0 1px 0 rgba(255,255,255,.35);
    }
    .atelier-1176 .btn {
      appearance: none; border: 1px solid var(--border); border-radius: 12px; padding: 8px 12px; font-weight: 800; letter-spacing: .3px;
      background: color-mix(in oklab, var(--glass) 70%, transparent); color: inherit; cursor: pointer;
      transition: transform .15s ease, box-shadow .2s ease, background .2s ease, border-color .2s ease;
    }
    .atelier-1176 .btn:hover, .atelier-1176 .chip:hover { transform: translateY(-1px); box-shadow: 0 12px 22px rgba(0,0,0,.18); }

    /* Hero */
    .atelier-1176 .hero {
      position: relative; z-index: 2; margin: 10px 18px 18px; padding: 24px 22px; border-radius: 18px;
      background: linear-gradient(180deg, color-mix(in oklab, var(--glass) 70%, transparent), color-mix(in oklab, var(--glass) 40%, transparent));
      border: 1px solid var(--border); backdrop-filter: blur(14px) saturate(115%); box-shadow: 0 18px 50px rgba(0,0,0,.25);
    }
    .atelier-1176 .hero h1 {
      margin: 0 0 6px; font-size: clamp(28px, 6vw, 64px); line-height: 1.02; letter-spacing: -0.6px;
      background: linear-gradient(90deg, currentColor, color-mix(in oklab, var(--c1) 60%, currentColor) 40%, color-mix(in oklab, var(--c2) 60%, currentColor));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      filter: drop-shadow(0 1px 0 rgba(255,255,255,.2));
    }
    .atelier-1176 .hero p { margin: 8px 0 14px; color: var(--muted); font-size: 14px; }
    .atelier-1176 .slider { display: flex; align-items: center; gap: 10px; }
    .atelier-1176 .slider label { font-size: 12px; color: var(--muted); }
    .atelier-1176 .slider input[type="range"] {
      width: 200px; accent-color: var(--c2);
      background: transparent;
    }

    /* Poster grid */
    .atelier-1176 .posters {
      position: relative; z-index: 2; margin: 0 18px 18px; display: grid;
      grid-template-columns: repeat(12, 1fr); gap: 12px; perspective: 900px;
    }
    @media (max-width: 1100px) { .atelier-1176 .posters { grid-template-columns: repeat(8, 1fr); } }
    @media (max-width: 700px) { .atelier-1176 .posters { grid-template-columns: repeat(6, 1fr); } }
    @media (max-width: 480px) { .atelier-1176 .posters { grid-template-columns: repeat(4, 1fr); } }

    .atelier-1176 .poster {
      grid-column: span var(--span, 3);
      aspect-ratio: 3/4; border-radius: 16px; border: 1px solid var(--border);
      overflow: hidden; position: relative; transform: translateZ(0);
      box-shadow: 0 8px 30px rgba(0,0,0,.2);
      background: radial-gradient(120% 120% at 50% 50%, color-mix(in oklab, var(--c3) 10%, transparent), transparent 60%);
      transition: transform .25s cubic-bezier(.2,.8,.2,1), box-shadow .25s ease, border-color .25s ease, filter .25s ease;
      animation: a1176-float calc(10s/var(--tempo)) ease-in-out infinite;
    }
    .atelier-1176 .poster:hover {
      transform: perspective(900px) rotateX(var(--rx,0)) rotateY(var(--ry,0)) translateZ(10px) scale(1.02);
      box-shadow: 0 16px 40px rgba(0,0,0,.26);
    }
    .atelier-1176 .poster::after {
      content: ""; position: absolute; inset: -30% -30% auto -30%; height: 60%;
      background: linear-gradient(90deg, rgba(255,255,255,.25), rgba(255,255,255,0));
      transform: rotate(var(--rot, 12deg));
      mix-blend-mode: overlay; pointer-events: none;
      animation: a1176-sheen calc(8s/var(--tempo)) linear infinite;
    }
    .atelier-1176 .poster .layer {
      position: absolute; inset: 0; mix-blend-mode: screen; opacity: .9;
      animation: a1176-pan calc(var(--pan, 16s)/var(--tempo)) linear infinite;
    }
    .atelier-1176 .poster.p-stripe .layer {
      background:
        repeating-linear-gradient(var(--ang, 22deg),
          color-mix(in oklab, var(--c1) 80%, transparent) 0 10px,
          color-mix(in oklab, var(--c2) 80%, transparent) 10px 20px,
          color-mix(in oklab, var(--c3) 80%, transparent) 20px 30px,
          transparent 30px 40px);
      background-size: 200% 200%;
    }
    .atelier-1176 .poster.p-conic .layer {
      background:
        conic-gradient(from var(--from, 0deg),
          color-mix(in oklab, var(--c1) 85%, transparent),
          color-mix(in oklab, var(--c2) 85%, transparent),
          color-mix(in oklab, var(--c3) 85%, transparent),
          color-mix(in oklab, var(--c2) 85%, transparent));
      filter: blur(2px);
    }
    .atelier-1176 .poster.p-grid .layer {
      background:
        linear-gradient(90deg, color-mix(in oklab, var(--c2) 24%, transparent) 1px, transparent 1px),
        linear-gradient(0deg, color-mix(in oklab, var(--c1) 24%, transparent) 1px, transparent 1px);
      background-size: 22px 22px;
      opacity: .45; mix-blend-mode: overlay;
    }
    .atelier-1176 .poster .cap {
      position: absolute; left: 10px; bottom: 10px; right: 10px;
      display: flex; align-items: center; justify-content: space-between; gap: 8px;
      padding: 10px 12px; border-radius: 12px; font-size: 12px; color: color-mix(in oklab, currentColor 80%, var(--muted));
      background: color-mix(in oklab, var(--glass) 70%, transparent); border: 1px solid var(--border);
      backdrop-filter: blur(8px);
    }
    .atelier-1176 .poster .num { font-weight: 800; letter-spacing: .3px; opacity: .85; }
    .atelier-1176 .poster .tag {
      padding: 2px 8px; border-radius: 999px; border: 1px solid var(--border);
      background: color-mix(in oklab, var(--glass) 70%, transparent); font-weight: 700;
    }

    /* Footer */
    .atelier-1176 .meta {
      position: relative; z-index: 2; display: flex; align-items: center; justify-content: space-between; gap: 12px;
      margin: 0 18px 18px; padding: 10px 14px; font-size: 12px; color: var(--muted);
      border: 1px solid var(--border); border-radius: 12px; background: color-mix(in oklab, var(--glass) 65%, transparent); backdrop-filter: blur(10px);
    }

    /* Motion control */
    .atelier-1176.paused * { animation-play-state: paused !important; }

    /* Keyframes */
    @keyframes a1176-drift {
      0% { transform: translate(0,0) rotate(0deg) scale(1); }
      50% { transform: translate(2vw, -2vh) rotate(12deg) scale(1.06); }
      100% { transform: translate(-2vw, 2vh) rotate(24deg) scale(1.12); }
    }
    @keyframes a1176-grain {
      0% { background-position: 0 0, 0 0, 0 0; }
      100% { background-position: 220px 180px, -140px 160px, 180px -220px; }
    }
    @keyframes a1176-float {
      0%, 100% { transform: translateY(0) scale(1); }
      50% { transform: translateY(-6px) scale(1.006); }
    }
    @keyframes a1176-sheen {
      0% { transform: translateX(-10%) rotate(var(--rot, 12deg)); opacity: .0; }
      40% { opacity: .35; }
      80%,100% { transform: translateX(120%) rotate(var(--rot, 12deg)); opacity: .0; }
    }
    @keyframes a1176-pan {
      0% { background-position: 0 0; transform: rotate(0deg); }
      100% { background-position: 200% 200%; transform: rotate(360deg); }
    }
    @keyframes a1176-pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.12); }
    }
  </style>

  <div class="bg" aria-hidden="true">
    <div class="b one"></div>
    <div class="b two"></div>
    <div class="grain"></div>
  </div>

  <div class="bar">
    <div class="brand">
      <i class="dot" aria-hidden="true"></i>
      <strong>Atelier</strong>
      <span class="note">Kinetic Posters</span>
    </div>
    <div class="actions">
      <div class="chips" role="group" aria-label="Palettes">
        <button class="chip" data-palette="nocturne" aria-pressed="true" title="Nocturne">Nocturne</button>
        <button class="chip" data-palette="glacier" aria-pressed="false" title="Glacier">Glacier</button>
        <button class="chip" data-palette="pollen" aria-pressed="false" title="Pollen">Pollen</button>
      </div>
      <button class="btn" id="a1176-shuffle" aria-label="Shuffle posters">Shuffle</button>
      <button class="btn" id="a1176-pause" aria-label="Pause/resume motion">Pause</button>
    </div>
  </div>

  <div class="hero" role="region" aria-label="Poster Generator">
    <h1>Poster Machine</h1>
    <p>Every shuffle is a fresh print. Responsive to your cursor, tuned by tempo, colored by mood.</p>
    <div class="slider">
      <label for="a1176-tempo">Tempo</label>
      <input id="a1176-tempo" type="range" min="0.6" max="1.8" step="0.01" value="1" aria-valuemin="0.6" aria-valuemax="1.8" aria-valuenow="1">
    </div>
  </div>

  <div class="posters" id="a1176-posters" aria-live="polite"></div>

  <div class="meta">
    <span id="last-updated">Last updated: 2025-12-09 11:25:15 EST</span>
    <span>Tip: Press Space to pause â€¢ Click Shuffle to remix</span>
  </div>

  <script>
    (() => {
      const root = document.getElementById('a1176');

      // Palettes
      const palettes = {
        nocturne: { theme: 'nocturne', vars: {} }, // default from CSS
        glacier: { theme: 'glacier', vars: {} },
        pollen: { theme: 'pollen', vars: {} }
      };

      // Elements
      const postersEl = root.querySelector('#a1176-posters');
      const chips = root.querySelectorAll('.chip[data-palette]');
      const shuffleBtn = root.querySelector('#a1176-shuffle');
      const pauseBtn = root.querySelector('#a1176-pause');
      const tempo = root.querySelector('#a1176-tempo');

      // Timestamp
      const lu = root.querySelector('#last-updated');
      try {
        const d = new Date();
        const fmt = new Intl.DateTimeFormat([], { year:'numeric', month:'2-digit', day:'2-digit', hour:'2-digit', minute:'2-digit', second:'2-digit', timeZoneName:'short' });
        lu.textContent = 'Last updated: ' + fmt.format(d);
      } catch {
        lu.textContent = 'Last updated: ' + new Date().toLocaleString();
      }

      // Theme init by media query
      const prefersLight = window.matchMedia && window.matchMedia('(prefers-color-scheme: light)').matches;
      if (prefersLight) setPalette('glacier'); else setPalette('nocturne');

      chips.forEach(chip => {
        chip.addEventListener('click', () => setPalette(chip.dataset.palette));
      });

      function setPalette(name) {
        chips.forEach(c => c.setAttribute('aria-pressed', c.dataset.palette === name ? 'true' : 'false'));
        if (name === 'glacier') root.setAttribute('data-theme', 'glacier');
        else if (name === 'pollen') root.setAttribute('data-theme', 'pollen');
        else root.removeAttribute('data-theme');
        // small tactile nudge
        root.animate([{ transform: 'scale(1.0)' }, { transform: 'scale(1.01)' }, { transform: 'scale(1.0)' }], { duration: 280, easing: 'ease-out' });
        remix(true);
      }

      // Pointer reactive lighting
      const onMove = (e) => {
        const rect = root.getBoundingClientRect();
        const x = (e.clientX - rect.left) / rect.width;
        const y = (e.clientY - rect.top) / rect.height;
        root.style.setProperty('--mx', Math.max(0, Math.min(1, x)).toFixed(3));
        root.style.setProperty('--my', Math.max(0, Math.min(1, y)).toFixed(3));
      };
      root.addEventListener('pointermove', onMove);

      // Tempo control
      tempo.addEventListener('input', () => {
        root.style.setProperty('--tempo', tempo.value);
        tempo.setAttribute('aria-valuenow', tempo.value);
      });

      // Pause control
      let paused = false;
      const setPaused = (p) => {
        paused = p;
        root.classList.toggle('paused', paused);
        pauseBtn.textContent = paused ? 'Resume' : 'Pause';
      };
      pauseBtn.addEventListener('click', () => setPaused(!paused));
      window.addEventListener('keydown', (e) => {
        if (e.code === 'Space') { e.preventDefault(); setPaused(!paused); }
      }, { passive: false });

      // Build posters
      const patterns = ['p-stripe', 'p-grid', 'p-conic'];
      function rand(min, max) { return Math.random() * (max - min) + min; }
      function randint(min, max) { return Math.floor(rand(min, max)); }
      function choice(arr) { return arr[randint(0, arr.length)]; }

      function buildPosters(count = 12) {
        postersEl.innerHTML = '';
        const frag = document.createDocumentFragment();
        for (let i = 0; i < count; i++) {
          const tile = document.createElement('div');
          const pattern = choice(patterns);
          const span = [3, 3, 4, 6][randint(0,4)]; // varied widths
          const rot = `${rand(-10, 18).toFixed(2)}deg`;
          const from = `${rand(0, 360).toFixed(1)}deg`;
          const ang = `${rand(-40, 40).toFixed(1)}deg`;
          const pan = `${rand(12, 22).toFixed(1)}s`;

          tile.className = `poster ${pattern}`;
          tile.style.setProperty('--span', span);
          tile.style.setProperty('--rot', rot);
          tile.style.setProperty('--from', from);
          tile.style.setProperty('--ang', ang);
          tile.style.setProperty('--pan', pan);

          // Content layers
          const layer = document.createElement('div');
          layer.className = 'layer';
          const cap = document.createElement('div');
          cap.className = 'cap';
          cap.innerHTML = `<span class="num">No. ${String(i+1).padStart(2,'0')}</span><span class="tag">${pattern.replace('p-','').toUpperCase()}</span>`;

          tile.appendChild(layer);
          tile.appendChild(cap);

          // Tilt interaction
          tile.addEventListener('pointermove', (e) => {
            const r = tile.getBoundingClientRect();
            const px = (e.clientX - r.left) / r.width;
            const py = (e.clientY - r.top) / r.height;
            const rx = (0.5 - py) * 10;
            const ry = (px - 0.5) * 10;
            tile.style.setProperty('--rx', `${rx}deg`);
            tile.style.setProperty('--ry', `${ry}deg`);
          });
          tile.addEventListener('pointerleave', () => {
            tile.style.removeProperty('--rx'); tile.style.removeProperty('--ry');
          });

          frag.appendChild(tile);
        }
        postersEl.appendChild(frag);
      }

      function remix(animated = false) {
        if (animated) {
          postersEl.animate([{ opacity: 1, filter: 'blur(0px)' }, { opacity: 0, filter: 'blur(6px)' }], { duration: 160, easing: 'ease', fill: 'forwards' }).onfinish = () => {
            buildPosters(randint(10, 16));
            postersEl.animate([{ opacity: 0, filter: 'blur(6px)' }, { opacity: 1, filter: 'blur(0px)' }], { duration: 220, easing: 'ease-out', fill: 'forwards' });
          };
        } else {
          buildPosters(randint(10, 16));
        }
      }

      shuffleBtn.addEventListener('click', () => remix(true));

      // First render
      remix(false);

      // Gentle background breathing (JS-driven so pause works)
      const b1 = root.querySelector('.bg .one');
      const b2 = root.querySelector('.bg .two');
      let raf;
      const breathe = (t) => {
        if (!paused) {
          const k = (Math.sin(t / 1100) + 1) / 2; // 0..1
          const s1 = 1 + k * 0.06;
          const s2 = 1 + (1-k) * 0.08;
          b1.style.transform = `translate(0,0) scale(${s1})`;
          b2.style.transform = `translate(0,0) scale(${s2})`;
        }
        raf = requestAnimationFrame(breathe);
      };
      raf = requestAnimationFrame(breathe);
      window.addEventListener('unload', () => cancelAnimationFrame(raf));
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


