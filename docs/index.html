<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<div id="vibe1996" class="aurora" data-theme="cloud" aria-label="Lumen Loom">
  <style>
    /* Scope everything to #vibe1996 */
    #vibe1996 {
      --bg0: #f7f9ff;
      --bg1: #eef7ff;
      --ink: #101524;
      --muted: rgba(16,21,36,0.72);
      --line: rgba(16,21,36,0.14);
      --tone1: #6aa8ff;
      --tone2: #ff8b6a;
      --tone3: #55f0c8;
      --glow: rgba(255,255,255,0.75);
      position: relative;
      border-radius: 28px;
      padding: clamp(18px, 3.2vw, 34px);
      overflow: hidden;
      min-height: 560px;
      display: grid;
      grid-template-rows: auto 1fr auto;
      gap: clamp(10px, 2vw, 16px);
      background: radial-gradient(1200px 700px at 85% 0%, var(--bg1), transparent 65%),
                  radial-gradient(1200px 700px at 10% 100%, var(--bg0), transparent 60%),
                  linear-gradient(180deg, var(--bg0), var(--bg1));
      border: 1px solid var(--line);
      box-shadow: 0 28px 80px rgba(0,0,0,0.18), inset 0 1px 0 rgba(255,255,255,0.65);
      isolation: isolate;
    }

    /* Themes */
    #vibe1996[data-theme="cloud"] {
      --bg0: #f7f9ff; --bg1: #eef7ff; --ink: #101524; --muted: rgba(16,21,36,0.72);
      --tone1: #6aa8ff; --tone2: #ff8b6a; --tone3: #55f0c8;
      --glow: rgba(255,255,255,0.75);
    }
    #vibe1996[data-theme="dawn"] {
      --bg0: #fff5ee; --bg1: #ffe9f4; --ink: #2a0f18; --muted: rgba(42,15,24,0.78);
      --tone1: #ff9f6b; --tone2: #ff6bb2; --tone3: #ffd36e;
      --glow: rgba(255,255,255,0.9);
    }
    #vibe1996[data-theme="noir"] {
      --bg0: #0a0e18; --bg1: #0a1124; --ink: #eaf2ff; --muted: rgba(234,242,255,0.78);
      --tone1: #6bb0ff; --tone2: #00f5ff; --tone3: #2fffc3;
      --glow: rgba(255,255,255,0.2);
      border-color: rgba(234,242,255,0.16);
      box-shadow: 0 28px 90px rgba(0,0,0,0.55), inset 0 1px 0 rgba(255,255,255,0.06);
    }

    /* Ambient motion layers */
    #vibe1996 .ambient {
      position: absolute; inset: -15%;
      pointer-events: none; z-index: 0;
      filter: blur(28px) saturate(120%);
      opacity: 0.7;
      mix-blend-mode: screen;
    }
    #vibe1996 .blob {
      position: absolute; inset: 0;
      animation: drift 32s ease-in-out infinite;
      background:
        radial-gradient(50vmax 40vmax at 15% 25%, var(--tone1) 0%, transparent 55%),
        radial-gradient(40vmax 50vmax at 85% 75%, var(--tone2) 0%, transparent 60%),
        radial-gradient(30vmax 35vmax at 40% 60%, var(--tone3) 0%, transparent 60%);
    }
    #vibe1996 .blob.b2 { animation-duration: 44s; animation-direction: reverse; filter: hue-rotate(10deg); opacity: 0.55; }
    @keyframes drift {
      0%,100% { transform: translate3d(0,0,0) scale(1); }
      50% { transform: translate3d(2%, -3%, 0) scale(1.06); }
    }

    /* Top bar */
    #vibe1996 .top {
      position: relative; z-index: 2;
      display: flex; align-items: center; justify-content: space-between;
    }
    #vibe1996 .brand {
      display: inline-flex; align-items: center; gap: 10px;
      padding: 8px 12px; border-radius: 14px;
      background: linear-gradient(180deg, rgba(255,255,255,0.7), rgba(255,255,255,0.18));
      border: 1px solid var(--line);
      backdrop-filter: blur(8px) saturate(140%);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.6), 0 8px 26px rgba(0,0,0,0.14);
      color: var(--ink);
      font: 700 12px/1 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      letter-spacing: 0.08em; text-transform: uppercase;
    }
    #vibe1996 .badge {
      width: 10px; height: 10px; border-radius: 999px; background: linear-gradient(90deg, var(--tone1), var(--tone2));
      box-shadow: 0 0 0 2px rgba(255,255,255,0.5), 0 0 18px var(--tone1), 0 0 28px var(--tone2);
    }

    /* Theme pills */
    #vibe1996 .themes {
      display: inline-flex; gap: 6px; padding: 6px; border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.18));
      border: 1px solid var(--line);
      backdrop-filter: blur(8px) saturate(140%);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.65), 0 8px 28px rgba(0,0,0,0.14);
    }
    #vibe1996 .pill {
      appearance: none; border: 0; cursor: pointer; padding: 10px 14px; border-radius: 999px;
      font: 700 12px/1 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      color: var(--ink); letter-spacing: 0.04em; opacity: 0.8; background: transparent;
      transition: transform 160ms ease, opacity 160ms ease, background 200ms ease;
    }
    #vibe1996 .pill:hover { transform: translateY(-1px); opacity: 1; }
    #vibe1996 .pill.active { background: rgba(255,255,255,0.65); opacity: 1; }

    /* Hero */
    #vibe1996 .hero {
      position: relative; z-index: 2;
      display: grid; grid-template-columns: 1.1fr 1fr; gap: clamp(12px, 3vw, 28px);
      align-items: center;
    }
    @media (max-width: 840px) {
      #vibe1996 .hero { grid-template-columns: 1fr; }
    }

    #vibe1996 .copy {
      padding: clamp(10px, 1.8vw, 16px);
      color: var(--ink);
    }
    #vibe1996 h1 {
      margin: 4px 0 6px 0;
      font: 900 clamp(32px, 6vw, 64px)/1.02 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      letter-spacing: 0.02em;
      background: linear-gradient(90deg, var(--ink), var(--tone2));
      -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
    }
    #vibe1996 .lead {
      margin: 8px 0 14px 0;
      font: 500 clamp(14px, 2.2vw, 18px)/1.6 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      color: var(--muted);
    }

    #vibe1996 .controls {
      display: flex; flex-wrap: wrap; gap: 10px; align-items: center;
    }
    #vibe1996 .btn {
      appearance: none; border: 1px solid var(--line);
      padding: 12px 16px; border-radius: 999px;
      font: 800 12px/1 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      letter-spacing: 0.06em; cursor: pointer;
      color: #0a0d12;
      background:
        linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.35)),
        linear-gradient(90deg, var(--tone1), var(--tone2), var(--tone3));
      text-shadow: 0 1px 0 rgba(255,255,255,0.6);
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
      transition: transform 160ms ease, box-shadow 200ms ease;
    }
    #vibe1996 .btn:hover { transform: translateY(-1px); box-shadow: 0 12px 36px rgba(0,0,0,0.22); }
    #vibe1996 .btn:active { transform: translateY(0); }

    #vibe1996 .slider {
      display: inline-flex; align-items: center; gap: 10px;
      padding: 10px 12px; border-radius: 14px;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,0.65), rgba(255,255,255,0.18));
      backdrop-filter: blur(8px) saturate(140%);
      color: var(--ink);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.65), 0 8px 22px rgba(0,0,0,0.12);
      font: 700 12px/1 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
    }
    #vibe1996 input[type="range"] {
      -webkit-appearance: none; appearance: none; width: 140px; height: 6px; border-radius: 999px;
      background: linear-gradient(90deg, var(--tone1), var(--tone2), var(--tone3));
      outline: none; border: 0;
    }
    #vibe1996 input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none; appearance: none; width: 16px; height: 16px; border-radius: 50%;
      background: var(--glow);
      border: 1px solid rgba(0,0,0,0.1);
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      cursor: pointer;
    }
    #vibe1996 input[type="range"]::-moz-range-thumb {
      width: 16px; height: 16px; border-radius: 50%;
      background: var(--glow);
      border: 1px solid rgba(0,0,0,0.1);
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      cursor: pointer;
    }

    /* Loom canvas */
    #vibe1996 .canvas {
      position: relative;
      border-radius: 20px;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, rgba(255,255,255,0.55), rgba(255,255,255,0.12));
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.65), 0 20px 60px rgba(0,0,0,0.18);
      backdrop-filter: blur(8px) saturate(140%);
      overflow: hidden;
      min-height: 320px;
    }
    #vibe1996 .mesh {
      position: absolute; inset: 0; opacity: 0.22;
      background:
        repeating-linear-gradient(0deg, rgba(0,0,0,0.05) 0 1px, transparent 1px 46px),
        repeating-linear-gradient(90deg, rgba(0,0,0,0.05) 0 1px, transparent 1px 46px);
      transform: rotate(1.2deg);
    }
    #vibe1996 svg.loom {
      position: relative; display: block; width: 100%; height: clamp(280px, 38vh, 420px);
      filter: drop-shadow(0 20px 40px rgba(0,0,0,0.25));
    }
    #vibe1996 .thread {
      fill: none; stroke-linecap: round; stroke-linejoin: round;
    }
    #vibe1996 .t1 { stroke: var(--tone1); stroke-width: 4; opacity: 0.9; }
    #vibe1996 .t2 { stroke: var(--tone2); stroke-width: 3; opacity: 0.85; }
    #vibe1996 .t3 { stroke: var(--tone3); stroke-width: 2; opacity: 0.9; }
    #vibe1996 .knot {
      fill: white; stroke: var(--tone2); stroke-width: 1.2;
      filter: drop-shadow(0 0 18px var(--tone2)) drop-shadow(0 0 24px var(--tone1));
    }

    /* Footer */
    #vibe1996 .meta {
      position: relative; z-index: 2;
      display: flex; align-items: center; justify-content: space-between;
      color: var(--muted);
      font: 500 12px/1.4 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial;
      margin-top: 6px;
    }
    #vibe1996 .hint { opacity: 0.9; }
    #vibe1996 #last-updated { opacity: 0.9; }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      #vibe1996 .blob, #vibe1996 svg.loom { animation: none !important; }
    }
  </style>

  <!-- Ambient color fields -->
  <div class="ambient" aria-hidden="true">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
  </div>

  <div class="top">
    <div class="brand"><span class="badge" aria-hidden="true"></span> Lumen Loom ’96</div>
    <div class="themes" id="theme-pills" role="tablist" aria-label="Colorway">
      <button class="pill active" role="tab" aria-selected="true" data-theme="cloud">Cloud</button>
      <button class="pill" role="tab" aria-selected="false" data-theme="dawn">Dawn</button>
      <button class="pill" role="tab" aria-selected="false" data-theme="noir">Noir</button>
    </div>
  </div>

  <div class="hero">
    <div class="copy">
      <h1>Weave the light.</h1>
      <p class="lead">A generative ribbon that listens to your touch and time. Drag across the loom, tune the intensity, and switch moods.</p>
      <div class="controls">
        <button class="btn" id="btn-pause" type="button" aria-label="Pause animation">Pause</button>
        <div class="slider" aria-label="Intensity control">
          <span>Intensity</span>
          <input id="intensity" type="range" min="0" max="100" value="50" aria-valuemin="0" aria-valuemax="100" aria-valuenow="50" />
        </div>
      </div>
    </div>

    <div class="canvas" id="canvas" role="region" aria-label="Interactive light loom">
      <div class="mesh" aria-hidden="true"></div>
      <svg class="loom" viewBox="0 0 1000 500" preserveAspectRatio="none" aria-hidden="true">
        <defs>
          <filter id="soft-glow" x="-50%" y="-50%" width="200%" height="200%">
            <feGaussianBlur in="SourceGraphic" stdDeviation="3" result="blur"/>
            <feMerge>
              <feMergeNode in="blur"/>
              <feMergeNode in="SourceGraphic"/>
            </feMerge>
          </filter>
        </defs>
        <path id="line1" class="thread t1" filter="url(#soft-glow)"></path>
        <path id="line2" class="thread t2" filter="url(#soft-glow)"></path>
        <path id="line3" class="thread t3" filter="url(#soft-glow)"></path>
        <circle id="knot" class="knot" r="4"></circle>
      </svg>
    </div>
  </div>

  <div class="meta">
    <span class="hint">Drag to bend • 1/2/3 switch themes • Space to pause/resume</span>
    <span id="last-updated">Last updated: 2026-01-16 11:27:16 EST</span>
  </div>

  <script>
    (function () {
      const root = document.getElementById('vibe1996');
      const pills = Array.from(document.querySelectorAll('#vibe1996 .pill'));
      const last = document.getElementById('last-updated');
      const pauseBtn = document.getElementById('btn-pause');
      const slider = document.getElementById('intensity');
      const svg = root.querySelector('svg.loom');
      const line1 = root.querySelector('#line1');
      const line2 = root.querySelector('#line2');
      const line3 = root.querySelector('#line3');
      const knot = root.querySelector('#knot');
      const canvas = document.getElementById('canvas');

      // Timestamp
      try {
        const now = new Date();
        last.textContent = 'Last updated: ' + now.toLocaleString(undefined, {
          year: 'numeric', month: 'short', day: '2-digit',
          hour: '2-digit', minute: '2-digit', second: '2-digit'
        });
      } catch (_) {
        last.textContent = 'Last updated just now';
      }

      // Theme switching
      function setTheme(theme) {
        root.setAttribute('data-theme', theme);
        pills.forEach(p => {
          const active = p.getAttribute('data-theme') === theme;
          p.classList.toggle('active', active);
          p.setAttribute('aria-selected', String(active));
        });
      }
      pills.forEach(p => p.addEventListener('click', () => setTheme(p.getAttribute('data-theme'))));

      // Keyboard shortcuts
      root.tabIndex = 0;
      root.addEventListener('keydown', (e) => {
        if (e.key === '1') setTheme('cloud');
        if (e.key === '2') setTheme('dawn');
        if (e.key === '3') setTheme('noir');
        if (e.key === ' ') {
          e.preventDefault();
          togglePause();
        }
      });

      // Loom animation
      let paused = false;
      let t = 0;
      let raf = null;
      let pointer = { x: 0.5, y: 0.5, active: false };
      let freq = 1.6;

      function resizeSVG() {
        const r = canvas.getBoundingClientRect();
        svg.setAttribute('viewBox', '0 0 ' + Math.round(r.width) + ' ' + Math.round(r.height));
      }
      resizeSVG();
      addEventListener('resize', resizeSVG);

      function pathify(width, height, amp, phase, offset) {
        const pts = 48;
        const step = width / (pts - 1);
        let d = '';
        for (let i = 0; i < pts; i++) {
          const x = i * step;
          const prow = (i / (pts - 1));
          const y = height * 0.5
            + Math.sin((prow * Math.PI * 2 * freq) + phase + offset) * amp
            + (pointer.active ? (pointer.y - 0.5) * amp * 0.6 * (1 - Math.abs(0.5 - prow) * 2) : 0);
          d += (i === 0 ? 'M' : 'L') + x.toFixed(2) + ' ' + y.toFixed(2) + ' ';
        }
        return d.trim();
      }

      function animate() {
        if (paused) return;
        const rect = svg.getBoundingClientRect();
        const w = rect.width || 1000;
        const h = rect.height || 500;

        const baseAmp = (parseInt(slider.value, 10) / 100) * (h * 0.35) + 6;
        const amp1 = baseAmp;
        const amp2 = baseAmp * 0.66;
        const amp3 = baseAmp * 0.42;

        const phase = t * 0.0025 + (pointer.x - 0.5) * 1.4;

        line1.setAttribute('d', pathify(w, h, amp1, phase, 0));
        line2.setAttribute('d', pathify(w, h, amp2, phase + 0.8, 1.3));
        line3.setAttribute('d', pathify(w, h, amp3, phase + 1.6, -1.1));

        // Move knot along the mid thread
        try {
          const total = line2.getTotalLength();
          const pos = line2.getPointAtLength((Math.sin(t * 0.003) * 0.5 + 0.5) * total);
          knot.setAttribute('cx', pos.x.toFixed(2));
          knot.setAttribute('cy', pos.y.toFixed(2));
        } catch (_) {}

        t += 16;
        raf = requestAnimationFrame(animate);
      }

      // Pointer interaction
      function setPointer(e) {
        const r = svg.getBoundingClientRect();
        pointer.x = (e.clientX - r.left) / r.width;
        pointer.y = (e.clientY - r.top) / r.height;
        pointer.active = true;
      }
      canvas.addEventListener('pointerdown', setPointer);
      canvas.addEventListener('pointermove', setPointer);
      canvas.addEventListener('pointerleave', () => { pointer.active = false; });

      // Pause/resume
      function togglePause() {
        paused = !paused;
        pauseBtn.textContent = paused ? 'Resume' : 'Pause';
        if (!paused) {
          t = performance.now();
          raf = requestAnimationFrame(animate);
        } else if (raf) {
          cancelAnimationFrame(raf);
          raf = null;
        }
      }
      pauseBtn.addEventListener('click', togglePause);

      // Intensity aria
      slider.addEventListener('input', () => {
        slider.setAttribute('aria-valuenow', slider.value);
      });

      // Respect reduced motion
      const prefersReduced = matchMedia('(prefers-reduced-motion: reduce)').matches;
      if (prefersReduced) {
        paused = true;
        pauseBtn.textContent = 'Resume';
      } else {
        raf = requestAnimationFrame(animate);
      }

      // Visibility handling
      document.addEventListener('visibilitychange', () => {
        if (document.hidden) {
          if (raf) cancelAnimationFrame(raf);
        } else if (!paused) {
          raf = requestAnimationFrame(animate);
        }
      });

      // Small ripple on Pause button
      pauseBtn.addEventListener('pointerdown', (e) => {
        const span = document.createElement('span');
        span.style.position = 'absolute';
        span.style.pointerEvents = 'none';
        span.style.borderRadius = '50%';
        span.style.transform = 'translate(-50%,-50%)';
        span.style.background = 'radial-gradient(circle, rgba(255,255,255,0.9), rgba(255,255,255,0) 60%)';
        span.style.width = '14px'; span.style.height = '14px';
        span.style.left = (e.offsetX) + 'px'; span.style.top = (e.offsetY) + 'px';
        span.style.mixBlendMode = 'screen';
        span.style.opacity = '0.9';
        span.style.transition = 'width 650ms ease-out, height 650ms ease-out, opacity 650ms ease-out';
        pauseBtn.style.position = 'relative';
        pauseBtn.appendChild(span);
        requestAnimationFrame(() => {
          span.style.width = '220px'; span.style.height = '220px'; span.style.opacity = '0';
        });
        setTimeout(() => span.remove(), 700);
      });
    })();
  </script>
</div>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


