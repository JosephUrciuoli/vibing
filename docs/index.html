<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Vibing</title>
    <style>
      :root {
        --bg: #0f1221;
        --fg: #e6e8f0;
        --muted: #9aa3b2;
        --accent: #8b5cf6;
      }
      html, body {
        height: 100%;
      }
      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Helvetica Neue, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        color: var(--fg);
        background: radial-gradient(1200px 800px at 70% 10%, #1b1f3a, var(--bg));
        display: flex;
        align-items: center;
        justify-content: center;
      }
      .card {
        width: min(720px, 92vw);
        background: rgba(255,255,255,0.04);
        border: 1px solid rgba(255,255,255,0.08);
        border-radius: 16px;
        padding: 28px 24px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        backdrop-filter: blur(6px);
      }
      h1 {
        margin: 0 0 10px 0;
        font-size: 28px;
        letter-spacing: 0.3px;
      }
      .muted {
        color: var(--muted);
        font-size: 14px;
        margin-bottom: 18px;
      }
      #content {
        font-size: 18px;
        line-height: 1.6;
        background: rgba(255,255,255,0.04);
        border: 1px dashed rgba(255,255,255,0.12);
        border-radius: 12px;
        padding: 16px;
      }
      .footer {
        margin-top: 18px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        font-size: 14px;
        color: var(--muted);
      }
      .badge {
        display: inline-block;
        background: rgba(139, 92, 246, 0.18);
        color: #d4c2ff;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 12px;
        border: 1px solid rgba(139, 92, 246, 0.35);
        letter-spacing: 0.2px;
      }
    </style>
  </head>
  <body>
    <!-- BEGIN_EDITABLE -->
      <section id="content">
<section id="vibe1802" aria-label="Aurora Loom · Vibe 1802">
  <style>
    /* AURORA LOOM — all styles scoped to #vibe1802 */
    #vibe1802{
      --paper-1:#fbfcff; --paper-2:#f4f7ff; --paper-3:#ffffff;
      --ink:#1a2433; --muted:#6b7486;
      --a1:#6b9cff; --a2:#ff87b2; --a3:#72e6c8;
      --ring:#dfe6ff;
      color-scheme: light;
      position: relative; isolation: isolate;
      border-radius: 32px;
      padding: clamp(18px, 4.6vw, 58px);
      background:
        radial-gradient(120% 160% at 100% 0%, color-mix(in oklab, var(--a2) 12%, transparent), transparent 60%),
        radial-gradient(120% 160% at 0% 100%, color-mix(in oklab, var(--a1) 12%, transparent), transparent 60%),
        linear-gradient(180deg, var(--paper-1), var(--paper-2));
      box-shadow:
        inset 0 0 0 1px rgba(30,40,60,0.06),
        0 40px 140px rgba(62, 88, 155, 0.18);
      overflow: clip;
    }
    /* Pearlescent rim */
    #vibe1802::after{
      content:""; position:absolute; inset:0; border-radius:32px; pointer-events:none;
      padding: 2px; mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
      -webkit-mask-composite: xor; mask-composite: exclude;
      background: linear-gradient(135deg, color-mix(in oklab,var(--a1)60%,#fff), color-mix(in oklab,var(--a2)60%,#fff), color-mix(in oklab,var(--a3)60%,#fff));
      opacity: 0.45; filter: saturate(115%);
    }

    /* Top bar */
    #vibe1802 .bar{
      display: grid; grid-template-columns: 1fr auto; align-items:center; gap:12px;
    }
    #vibe1802 .brand{
      display:inline-grid; grid-auto-flow:column; gap:12px; align-items:center;
      padding: 10px 14px; border-radius: 999px;
      background: linear-gradient(180deg, rgba(255,255,255,0.75), rgba(255,255,255,0.35));
      border: 1px solid rgba(70,80,120,0.18);
      box-shadow: 0 8px 20px rgba(92,120,170,0.15), inset 0 1px 0 rgba(255,255,255,0.8);
      color: var(--muted);
      font: 900 10px/1.1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      letter-spacing: 0.16em; text-transform: uppercase; white-space:nowrap;
    }
    #vibe1802 .prism{ width:12px; height:12px; border-radius:3px; background: linear-gradient(135deg, var(--a1), var(--a2), var(--a3)); box-shadow: 0 0 0 1px rgba(0,0,0,0.05) inset; }

    #vibe1802 .controls{ display:flex; gap:8px; justify-self:end; flex-wrap:wrap; }
    #vibe1802 .chip{
      appearance:none; border:1px solid rgba(70,80,120,0.20); border-radius: 999px; cursor:pointer; user-select:none;
      padding: 10px 14px;
      background: linear-gradient(180deg, rgba(255,255,255,0.85), rgba(255,255,255,0.45));
      color: var(--ink);
      font: 800 11px/1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      letter-spacing: 0.14em; text-transform: uppercase;
      transition: transform 140ms ease, box-shadow 220ms ease, border-color 200ms ease, background 200ms ease, color 200ms ease;
      box-shadow: 0 8px 26px rgba(120,140,180,0.22), inset 0 1px 0 rgba(255,255,255,0.9);
    }
    #vibe1802 .chip:hover{ transform: translateY(-1px); box-shadow: 0 14px 40px rgba(120,140,180,0.28); }
    #vibe1802 .chip[aria-pressed="true"]{
      border-color: color-mix(in oklab, var(--a2) 55%, #ffffff);
      color: color-mix(in oklab, var(--a2) 80%, var(--ink));
      background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.60));
    }

    /* Panel / hero */
    #vibe1802 .panel{
      position: relative; margin-top: clamp(16px, 3.6vw, 28px);
      border-radius: 26px; overflow:hidden; border:1px solid rgba(70,80,120,0.18);
      background:
        radial-gradient(100% 58% at 50% 0%, rgba(255,255,255,0.85), rgba(255,255,255,0.40) 60%, transparent 90%),
        repeating-linear-gradient(90deg, rgba(50,60,90,0.04) 0 1px, transparent 1px 70px),
        linear-gradient(180deg, rgba(255,255,255,0.75), rgba(255,255,255,0.50));
      min-height: clamp(480px, 60vh, 900px);
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.75),
        0 30px 100px rgba(100,120,160,0.22);
      transform-style: preserve-3d;
    }

    #vibe1802 .hero{
      position: relative; height: 100%;
      perspective: 1200px;
    }

    #vibe1802 canvas.field{
      position:absolute; inset:0; width:100%; height:100%; display:block; z-index:1;
    }

    /* Rings centerpiece */
    #vibe1802 .rings{
      position:absolute; inset:auto 8% 8% 8%; height: 64%; z-index:2; pointer-events:none;
      display:grid; place-items:center;
      filter: drop-shadow(0 20px 40px rgba(100,120,160,0.25));
    }
    #vibe1802 .ring{
      position:absolute; aspect-ratio:1/1; border-radius:50%;
      background: conic-gradient(from 0deg, color-mix(in oklab,var(--a1) 55%, #fff), color-mix(in oklab,var(--a2) 55%, #fff), color-mix(in oklab,var(--a3) 55%, #fff), color-mix(in oklab,var(--a1) 55%, #fff));
      -webkit-mask: radial-gradient(closest-side, transparent calc(50% - 16px), #000 calc(50% - 15px), #000 100%);
              mask: radial-gradient(closest-side, transparent calc(50% - 16px), #000 calc(50% - 15px), #000 100%);
      opacity: 0.5;
      animation: v1802_spin 22s linear infinite;
    }
    #vibe1802 .ring.r2{ width:72%; opacity:0.45; animation-duration: 36s; animation-direction: reverse; filter: blur(0.3px) saturate(120%); }
    #vibe1802 .ring.r3{ width:46%; opacity:0.6;  animation-duration: 18s; }
    #vibe1802 .ring.r1{ width:92%; opacity:0.35; }

    @keyframes v1802_spin{ from{ transform: rotate(0deg);} to{ transform: rotate(360deg);} }

    /* Copy overlay */
    #vibe1802 .copy{
      position:absolute; z-index:3; top: clamp(18px, 4vw, 28px); left: clamp(18px, 4vw, 28px);
      max-width: min(620px, 72%); display:grid; gap:12px;
      padding: 16px 18px; border-radius: 18px;
      background: linear-gradient(180deg, rgba(255,255,255,0.80), rgba(255,255,255,0.55));
      border: 1px solid rgba(70,80,120,0.18);
      backdrop-filter: blur(8px);
    }
    #vibe1802 h1{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, "SF Pro Display";
      font-weight: 1000;
      font-size: clamp(46px, 9.6vw, 116px);
      line-height: 0.85; letter-spacing: -0.02em; text-transform: lowercase;
      background: linear-gradient(90deg, var(--ink), color-mix(in oklab, var(--a1) 55%, var(--ink)), color-mix(in oklab, var(--a2) 55%, var(--ink)), color-mix(in oklab, var(--a3) 55%, var(--ink)), var(--ink));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      background-size: 220% 100%; animation: v1802_gloss 16s ease-in-out infinite;
      filter: drop-shadow(0 10px 18px rgba(80,100,140,0.25));
    }
    @keyframes v1802_gloss{ 0%,100%{ background-position: 0% 50%; } 50%{ background-position: 100% 50%; } }
    #vibe1802 .lede{
      margin:0; color: var(--muted); font-size: clamp(14px, 2.1vw, 18px);
      text-wrap: balance;
    }
    #vibe1802 .badges{ display:flex; gap:8px; flex-wrap:wrap; }
    #vibe1802 .tag{
      padding: 7px 10px; border-radius: 999px;
      border:1px dashed rgba(70,80,120,0.24);
      background: linear-gradient(180deg, rgba(255,255,255,0.95), rgba(255,255,255,0.60));
      font: 800 10px/1 ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      letter-spacing: 0.12em; text-transform: uppercase; color: var(--muted);
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.9);
    }

    /* Footer */
    #vibe1802 .foot{
      position:relative; z-index:4;
      display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:10px;
      margin-top: clamp(16px, 3vw, 26px); padding-top: 14px;
      border-top: 1px dashed rgba(70,80,120,0.24);
      color: var(--muted); font-size: 12px;
    }

    /* Dark theme vars */
    #vibe1802[data-theme="dark"]{
      --paper-1:#0a0e15; --paper-2:#0f1724; --paper-3:#121826;
      --ink:#eaf2ff; --muted:#9aa4bb;
      --a1:#7bc7ff; --a2:#ff7ac2; --a3:#9effa0;
      color-scheme: dark;
      box-shadow:
        inset 0 0 0 1px rgba(255,255,255,0.06),
        0 40px 140px rgba(0,0,0,0.45);
      background:
        radial-gradient(120% 160% at 100% 0%, color-mix(in oklab, var(--a2) 12%, transparent), transparent 60%),
        radial-gradient(120% 160% at 0% 100%, color-mix(in oklab, var(--a1) 12%, transparent), transparent 60%),
        linear-gradient(180deg, var(--paper-1), var(--paper-2));
    }
    #vibe1802[data-theme="dark"] .brand,
    #vibe1802[data-theme="dark"] .chip,
    #vibe1802[data-theme="dark"] .copy{
      background: linear-gradient(180deg, rgba(18,24,38,0.75), rgba(18,24,38,0.45));
      color: var(--ink);
      border-color: rgba(255,255,255,0.10);
      box-shadow: 0 8px 26px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.08);
    }
    #vibe1802[data-theme="dark"] .tag{
      background: linear-gradient(180deg, rgba(18,24,38,0.90), rgba(18,24,38,0.50));
      border-color: rgba(255,255,255,0.12);
    }

    /* Motion accessibility */
    @media (prefers-reduced-motion: reduce){
      #vibe1802 h1{ animation: none; }
      #vibe1802 .ring{ animation: none; }
    }
  </style>

  <div class="bar" role="group" aria-label="Header">
    <div class="brand"><span class="prism" aria-hidden="true"></span> Aurora Loom · No. 1802</div>
    <div class="controls" role="group" aria-label="Controls">
      <button class="chip" data-act="run" aria-pressed="false" title="Play/Pause">Pause</button>
      <button class="chip" data-act="theme" aria-pressed="false" title="Theme">Light</button>
      <button class="chip" data-act="mode" aria-pressed="true" title="Render mode">Weave</button>
    </div>
  </div>

  <div class="panel" role="img" aria-label="Generative aurora flow">
    <div class="hero">
      <canvas class="field" aria-hidden="true"></canvas>

      <div class="rings" aria-hidden="true">
        <div class="ring r1"></div>
        <div class="ring r2"></div>
        <div class="ring r3"></div>
      </div>

      <div class="copy" aria-label="Headline">
        <h1>aurora&nbsp;loom</h1>
        <p class="lede">Threads of light drift and braid. Move your cursor to steer the weave; tap to change the mood.</p>
        <div class="badges">
          <span class="tag">generative</span>
          <span class="tag">zero libs</span>
          <span class="tag">hi‑dpi</span>
        </div>
      </div>
    </div>
  </div>

  <div class="foot">
    <span>Less noise. More nuance.</span>
    <span id="last-updated">Last updated: 2026-01-07 11:28:27 EST</span>
  </div>

  <script>
    (function(){
      const root = document.getElementById('vibe1802');
      const canvas = root.querySelector('canvas.field');
      const ctx = canvas.getContext('2d', { alpha: true });

      const btnRun = root.querySelector('.chip[data-act="run"]');
      const btnTheme = root.querySelector('.chip[data-act="theme"]');
      const btnMode = root.querySelector('.chip[data-act="mode"]');

      // Timestamp
      try{
        const stamp = new Date().toLocaleString(undefined, {
          year:'numeric', month:'short', day:'2-digit',
          hour:'2-digit', minute:'2-digit', second:'2-digit'
        });
        root.querySelector('#last-updated').textContent = 'Last updated: ' + stamp;
      }catch(e){}

      // Theme handling
      let theme = 'light';
      function applyTheme(next){
        theme = next;
        if(theme === 'dark'){ root.setAttribute('data-theme','dark'); btnTheme.textContent = 'Dark'; btnTheme.setAttribute('aria-pressed','true'); }
        else { root.removeAttribute('data-theme'); btnTheme.textContent = 'Light'; btnTheme.setAttribute('aria-pressed','false'); }
        root.animate([{filter:'saturate(140%) blur(1px)'},{filter:'none'}], {duration:360, easing:'ease-out'});
      }
      applyTheme('light');

      // State
      const prefersReduced = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
      let running = !prefersReduced;
      let weaveMode = true; // lines vs dots
      btnRun.textContent = running ? 'Pause' : 'Play';
      btnRun.setAttribute('aria-pressed', running ? 'false' : 'true');
      btnMode.setAttribute('aria-pressed', weaveMode ? 'true' : 'false');
      btnMode.textContent = weaveMode ? 'Weave' : 'Drift';

      // Pointer for parallax and field influence
      const pointer = { x:0.5, y:0.5, active:false, t:0 };
      function onMove(e){
        const r = canvas.getBoundingClientRect();
        pointer.x = Math.min(1, Math.max(0, (e.clientX - r.left) / r.width));
        pointer.y = Math.min(1, Math.max(0, (e.clientY - r.top) / r.height));
        pointer.active = true;

        // subtle parallax tilt
        const cx = (pointer.x - 0.5) * 6;
        const cy = (pointer.y - 0.5) * -6;
        root.querySelector('.panel').style.transform = `rotateX(${cy}deg) rotateY(${cx}deg)`;
      }
      root.addEventListener('pointermove', onMove);
      root.addEventListener('pointerleave', ()=>{ pointer.active=false; root.querySelector('.panel').style.transform = 'none'; });

      // Canvas sizing
      let W=0, H=0, DPR=1;
      function resize(){
        const r = canvas.getBoundingClientRect();
        DPR = Math.min(2, window.devicePixelRatio || 1);
        W = Math.max(320, Math.floor(r.width));
        H = Math.max(320, Math.floor(r.height));
        canvas.width = Math.floor(W * DPR);
        canvas.height = Math.floor(H * DPR);
        ctx.setTransform(DPR,0,0,DPR,0,0);
      }
      new ResizeObserver(resize).observe(canvas.parentElement);
      resize();

      // Utilities
      function cssVar(name){ return getComputedStyle(root).getPropertyValue(name).trim(); }
      function hexToRgb(hex){
        const c = hex.replace('#','').trim();
        const n = c.length===3 ? c.split('').map(x=>x+x).join('') : c;
        return { r:parseInt(n.slice(0,2),16), g:parseInt(n.slice(2,4),16), b:parseInt(n.slice(4,6),16) };
      }
      function rgba(rgb,a){
        const v = typeof rgb==='string' ? hexToRgb(rgb) : rgb;
        return `rgba(${v.r},${v.g},${v.b},${a})`;
      }
      function mix(a,b,t){ return { r:Math.round(a.r+(b.r-a.r)*t), g:Math.round(a.g+(b.g-a.g)*t), b:Math.round(a.b+(b.b-a.b)*t)}; }

      // Palettes for click-to-cycle mood
      const MOODS = [
        { name:'Mist',   a1:'#6b9cff', a2:'#ff87b2', a3:'#72e6c8' },
        { name:'Lagoon', a1:'#41e6c4', a2:'#66c3ff', a3:'#ffe08a' },
        { name:'Ultraviolet', a1:'#8a7cff', a2:'#ff6ee7', a3:'#5af0d0' },
        { name:'Sakura', a1:'#ff81a6', a2:'#7a9dff', a3:'#3ad1b6' },
        { name:'Solar',  a1:'#ffb84d', a2:'#ff7b7b', a3:'#6dc9ff' }
      ];
      let moodIndex = 0;
      function setMood(i){
        moodIndex = (i + MOODS.length) % MOODS.length;
        const m = MOODS[moodIndex];
        root.style.setProperty('--a1', m.a1);
        root.style.setProperty('--a2', m.a2);
        root.style.setProperty('--a3', m.a3);
        root.animate([{filter:'brightness(1.1)'},{filter:'none'}], {duration:340, easing:'ease-out'});
      }
      setMood(0);

      // Flow field setup
      const c1 = ()=>hexToRgb(cssVar('--a1'));
      const c2 = ()=>hexToRgb(cssVar('--a2'));
      const c3 = ()=>hexToRgb(cssVar('--a3'));

      const PCOUNT = 900;
      const particles = new Array(PCOUNT).fill(0).map(()=>({
        x: Math.random()*W,
        y: Math.random()*H,
        life: Math.random()*240+60
      }));

      let raf=null, t0=0;

      function fieldAngle(x,y,t){
        const s = 0.0016, w1 = Math.sin(x*s + t*0.6), w2 = Math.cos(y*s*1.1 - t*0.5);
        const w3 = Math.sin((x+y)*s*0.6 + t*0.25);
        // pointer influence
        const px = pointer.x*W, py = pointer.y*H;
        const dx = x - px, dy = y - py;
        const d = Math.hypot(dx,dy) + 1;
        const swirl = Math.atan2(dy,dx) + (pointer.active ? (120/d) : 0) * 0.03;
        return w1*1.2 + w2*0.9 + w3*0.7 + swirl;
      }

      function step(tms){
        const t = tms*0.001;
        // idle drift for pointer
        if(!pointer.active){
          pointer.t += 0.006;
          pointer.x = 0.5 + 0.18*Math.cos(pointer.t*0.9);
          pointer.y = 0.5 + 0.12*Math.sin(pointer.t*1.2);
        }

        // fade
        const light = root.getAttribute('data-theme')!=='dark';
        ctx.globalCompositeOperation = 'source-over';
        ctx.fillStyle = light ? 'rgba(255,255,255,0.10)' : 'rgba(8,10,18,0.10)';
        ctx.fillRect(0,0,W,H);

        // draw
        const A = c1(), B = c2(), C = c3();
        ctx.globalCompositeOperation = 'lighter';

        for(let i=0;i<PCOUNT;i++){
          let p = particles[i];
          if(p.life<=0 || p.x< -20 || p.y< -20 || p.x>W+20 || p.y>H+20){
            particles[i] = p = { x: Math.random()*W, y: Math.random()*H, life: Math.random()*240+60 };
          }

          const u = (i % 600)/600;
          const col = u<0.5 ? mix(A,B,u*2) : mix(B,C,(u-0.5)*2);

          const ang = fieldAngle(p.x, p.y, t);
          const speed = 0.9 + 0.6*Math.sin(t*0.5 + i*0.01);
          const vx = Math.cos(ang)*speed;
          const vy = Math.sin(ang)*speed;

          if(weaveMode){
            ctx.strokeStyle = rgba(col, light ? 0.16 : 0.22);
            ctx.lineWidth = 1.0;
            ctx.beginPath();
            ctx.moveTo(p.x, p.y);
            p.x += vx*1.8; p.y += vy*1.8;
            ctx.lineTo(p.x, p.y);
            ctx.stroke();
          }else{
            ctx.fillStyle = rgba(col, light ? 0.35 : 0.45);
            p.x += vx*1.6; p.y += vy*1.6;
            ctx.beginPath();
            ctx.arc(p.x, p.y, 0.8, 0, Math.PI*2);
            ctx.fill();
          }
          p.life--;
        }

        raf = running ? requestAnimationFrame(step) : null;
      }

      function start(){ if(!raf){ raf = requestAnimationFrame(step); } }
      function stop(){ if(raf){ cancelAnimationFrame(raf); raf = null; } }
      if(running) start();

      // Controls
      btnRun.addEventListener('click', ()=>{
        running = !running;
        btnRun.textContent = running ? 'Pause' : 'Play';
        btnRun.setAttribute('aria-pressed', running ? 'false' : 'true');
        running ? start() : stop();
      });
      btnTheme.addEventListener('click', ()=>{
        applyTheme(theme==='light' ? 'dark' : 'light');
      });
      btnMode.addEventListener('click', ()=>{
        weaveMode = !weaveMode;
        btnMode.setAttribute('aria-pressed', weaveMode ? 'true' : 'false');
        btnMode.textContent = weaveMode ? 'Weave' : 'Drift';
      });

      // Click to change mood (palette)
      canvas.addEventListener('click', ()=> setMood(moodIndex+1));
    })();
  </script>
</section>
      </section>
      <!-- END_EDITABLE -->
    <script>
      // Only show a local placeholder if the agent hasn't written a timestamp yet
      const el = document.getElementById('last-updated');
      if (el && (!el.textContent || el.textContent.includes('not yet'))) {
        const now = new Date();
        el.textContent = `Last updated: ${now.toLocaleString(undefined, { hour12: false })}`;
      }
    </script>
  </body>
  </html>


